import{_ as w}from"./nuxt-img.d3061ea7.js";import{a as y,x as b,a9 as C,B as i,e as f,h as l,w as c,a8 as M,o as u,u as e,f as s,t as d,c as x,k as $,l as B}from"./entry.090bca8d.js";import{_ as N}from"./Loader.e3327f54.js";import{u as L}from"./asyncData.4c602d1d.js";import{u as D}from"./url.221072b4.js";import{u as H}from"./head.cf7198d9.js";import{b as T}from"./string-strip-html.esm.22e52bb0.js";import{c as U}from"./functions.0aa32198.js";import{f as V}from"./index.ed37edad.js";import"./Logo.789fe3de.js";import"./_plugin-vue_export-helper.a1a6add7.js";import"./_commonjsHelpers.a7148835.js";const A={key:0,class:"prose mx-auto w-full"},S={class:"not-prose flex items-center pt-8 pb-4 flex justify-between"},j={class:"flex"},q={class:"text-lg"},E={class:"text-sm text-gray-400"},I={class:"not-prose mt-2 flex items-center space-x-2"},R=s("div",{class:"i-mdi-twitter"},null,-1),z=s("div",{class:"i-mdi-facebook"},null,-1),F=s("div",{class:"i-mdi-linkedin"},null,-1),G=["innerHTML"],J=s("hr",null,null,-1),rt=y({__name:"[slug]",setup(K){const h=b(),{params:_}=C(),v=D(),{data:t,pending:g}=L(`posts-${_.slug}`,async()=>{const{data:o}=await h.from("posts").select("*, profiles(avatar_url, name, username)").eq("slug",_.slug).single();return o});H(i(()=>{var o;return(o=t.value)==null?void 0:o.title}),i(()=>{var o,a,n,r;return(o=t.value)!=null&&o.body?(r=(n=T((a=t.value)==null?void 0:a.body))==null?void 0:n.result)==null?void 0:r.slice(0,160):void 0}),i(()=>{var o,a;return((o=t.value)==null?void 0:o.cover_img)===""?`${v}/og/${_.slug}`:(a=t.value)==null?void 0:a.cover_img}));const m=i(()=>U(t.value,!1));return(o,a)=>{const n=w,r=B,k=N;return u(),f("div",null,[l(M,{name:"fade",mode:"out-in"},{default:c(()=>{var p;return[!e(g)&&e(t)?(u(),f("article",A,[s("div",S,[s("div",j,[s("div",null,[l(n,{class:"w-12 h-12 rounded-full mr-4",src:e(t).profiles.avatar_url},null,8,["src"])]),s("div",null,[s("h3",q,d((p=e(t).profiles)==null?void 0:p.name),1),s("h4",E,d(e(V)(new Date(e(t).created_at),"MMMM d")),1)])]),s("div",I,[l(r,{class:"px-1 text-2xl text-gray-300 focus:text-dark-300 hover:text-dark-300 transition",to:`https://twitter.com/intent/tweet?url=${e(m)}&text=Check%20out%20this%20new%20post`,target:"_blank"},{default:c(()=>[R]),_:1},8,["to"]),l(r,{class:"px-1 text-2xl text-gray-300 focus:text-dark-300 hover:text-dark-300 transition",to:`https://www.facebook.com/sharer/sharer.php?u=${e(m)}`,target:"_blank"},{default:c(()=>[z]),_:1},8,["to"]),l(r,{class:"px-1 text-2xl text-gray-300 focus:text-dark-300 hover:text-dark-300 transition",to:`https://www.linkedin.com/shareArticle?mini=true&url=${e(m)}`,target:"_blank"},{default:c(()=>[F]),_:1},8,["to"])])]),s("h1",null,d(e(t).title),1),e(t).cover_img?(u(),x(n,{key:0,src:e(t).cover_img,class:"my-8 w-full h-auto"},null,8,["src"])):$("",!0),s("div",{innerHTML:e(t).body},null,8,G),J])):(u(),x(k,{key:1}))]}),_:1})])}}});export{rt as default};
