import{r as f,D as v,ac as h,M as y,a as x,o as d,c as g,w as C,e as j,f as k,m as D,j as b,a2 as S,k as T,a8 as B,a0 as E}from"./entry.090bca8d.js";import{e as A,o as F,c as N}from"./index.53ce2f14.js";var V=Object.defineProperty,z=Object.defineProperties,I=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,m=(t,a,e)=>a in t?V(t,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[a]=e,M=(t,a)=>{for(var e in a||(a={}))_.call(a,e)&&m(t,e,a[e]);if(i)for(var e of i(a))O.call(a,e)&&m(t,e,a[e]);return t},K=(t,a)=>z(t,I(a)),R=(t,a)=>{var e={};for(var r in t)_.call(t,r)&&a.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&i)for(var r of i(t))a.indexOf(r)<0&&O.call(t,r)&&(e[r]=t[r]);return e};function $(t,a={}){let e;const r=a,{immediate:c}=r,l=R(r,["immediate"]),n=f(!1),o=f(!1),p=s=>e&&e.activate(s),u=s=>e&&e.deactivate(s),w=()=>{e&&(e.pause(),o.value=!0)},P=()=>{e&&(e.unpause(),o.value=!1)};return v(()=>A(t),s=>{!s||(e=h(s,K(M({},l),{onActivate(){n.value=!0,a.onActivate&&a.onActivate()},onDeactivate(){n.value=!1,a.onDeactivate&&a.onDeactivate()}})),c&&p())},{flush:"post"}),y(()=>u()),{hasFocus:n,isPaused:o,activate:p,deactivate:u,pause:w,unpause:P}}const q={key:0,class:"fixed top-0 left-0 w-screen h-screen z-300 flex items-center justify-center"},J=x({__name:"Modal",props:{open:Boolean,confirmAction:Function,innerClass:String},emits:["update:open"],setup(t,{emit:a}){const e=t,r=f(),{activate:c,deactivate:l}=$(r,{immediate:!0});return F("Escape",()=>a("update:open",!1)),N(r,()=>{a("update:open",!e.open)}),v(()=>e.open,n=>E(()=>n?c():l())),(n,o)=>(d(),g(B,{name:"command-dialog"},{default:C(()=>[t.open?(d(),j("div",q,[k("div",{ref_key:"el",ref:r,class:S(["inner w-full mx-4 max-w-112 bg-white rounded-2xl shadow-xl overflow-hidden",t.innerClass])},[D(n.$slots,"default",{},()=>[b("Content")])],2)])):T("",!0)]),_:3}))}});export{J as _,$ as u};
