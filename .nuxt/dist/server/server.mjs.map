{"version":3,"file":"server.mjs","sources":["../../../virtual:nuxt:/Users/bon/Documents/my-workspace/perfect-blog/.nuxt/paths.mjs","../../../node_modules/nuxt/dist/app/nuxt.mjs","../../../node_modules/nuxt/dist/app/composables/asyncData.mjs","../../../node_modules/nuxt/dist/app/composables/state.mjs","../../../node_modules/nuxt/dist/app/composables/error.mjs","../../../node_modules/nuxt/dist/app/composables/ssr.mjs","../../../node_modules/nuxt/dist/app/composables/cookie.mjs","../../../node_modules/nuxt/dist/app/composables/router.mjs","../../../node_modules/nuxt/dist/app/components/nuxt-link.mjs","../../app.config.mjs","../../../node_modules/nuxt/dist/head/runtime/composables.mjs","../../../virtual:nuxt:/Users/bon/Documents/my-workspace/perfect-blog/.nuxt/components.plugin.mjs","../../../node_modules/@vueuse/head/dist/index.mjs","../../../node_modules/nuxt/dist/head/runtime/lib/vueuse-head.plugin.mjs","../../../node_modules/nuxt/dist/head/runtime/components.mjs","../../../virtual:nuxt:/Users/bon/Documents/my-workspace/perfect-blog/.nuxt/nuxt.config.mjs","../../../node_modules/nuxt/dist/head/runtime/plugin.mjs","../../../node_modules/nuxt/dist/pages/runtime/utils.mjs","../../../node_modules/nuxt/dist/app/components/utils.mjs","../../../node_modules/nuxt/dist/pages/runtime/page.mjs","../../../components/Logo.vue","../../../components/Loader.vue","../../../node_modules/@nuxtjs/supabase/dist/runtime/composables/useSupabaseUser.mjs","../../../node_modules/@supabase/supabase-js/dist/module/lib/version.js","../../../node_modules/@supabase/supabase-js/dist/module/lib/constants.js","../../../node_modules/@supabase/supabase-js/dist/module/lib/helpers.js","../../../node_modules/@supabase/gotrue-js/dist/module/lib/version.js","../../../node_modules/@supabase/gotrue-js/dist/module/lib/constants.js","../../../node_modules/@supabase/gotrue-js/dist/module/lib/fetch.js","../../../node_modules/@supabase/gotrue-js/dist/module/lib/cookies.js","../../../node_modules/@supabase/gotrue-js/dist/module/lib/helpers.js","../../../node_modules/@supabase/gotrue-js/dist/module/GoTrueApi.js","../../../node_modules/@supabase/gotrue-js/dist/module/lib/polyfills.js","../../../node_modules/@supabase/gotrue-js/dist/module/GoTrueClient.js","../../../node_modules/@supabase/supabase-js/dist/module/lib/SupabaseAuthClient.js","../../../node_modules/@supabase/postgrest-js/dist/module/lib/types.js","../../../node_modules/@supabase/postgrest-js/dist/module/lib/PostgrestTransformBuilder.js","../../../node_modules/@supabase/postgrest-js/dist/module/lib/PostgrestFilterBuilder.js","../../../node_modules/@supabase/postgrest-js/dist/module/lib/PostgrestQueryBuilder.js","../../../node_modules/@supabase/postgrest-js/dist/module/lib/PostgrestRpcBuilder.js","../../../node_modules/@supabase/postgrest-js/dist/module/lib/version.js","../../../node_modules/@supabase/postgrest-js/dist/module/lib/constants.js","../../../node_modules/@supabase/postgrest-js/dist/module/PostgrestClient.js","../../../node_modules/@supabase/realtime-js/dist/module/lib/transformers.js","../../../node_modules/websocket/lib/utils.js","../../../node_modules/websocket/lib/WebSocketFrame.js","../../../node_modules/websocket/vendor/FastBufferList.js","../../../node_modules/websocket/lib/WebSocketConnection.js","../../../node_modules/websocket/lib/WebSocketRequest.js","../../../node_modules/websocket/lib/WebSocketServer.js","../../../node_modules/websocket/lib/WebSocketClient.js","../../../node_modules/websocket/lib/WebSocketRouterRequest.js","../../../node_modules/websocket/lib/WebSocketRouter.js","../../../node_modules/websocket/lib/W3CWebSocket.js","../../../node_modules/websocket/lib/Deprecation.js","../../../node_modules/websocket/lib/version.js","../../../node_modules/websocket/lib/websocket.js","../../../node_modules/websocket/index.js","../../../node_modules/@supabase/realtime-js/dist/module/lib/version.js","../../../node_modules/@supabase/realtime-js/dist/module/lib/constants.js","../../../node_modules/@supabase/realtime-js/dist/module/lib/timer.js","../../../node_modules/@supabase/realtime-js/dist/module/lib/serializer.js","../../../node_modules/@supabase/realtime-js/dist/module/lib/push.js","../../../node_modules/@supabase/realtime-js/dist/module/RealtimeSubscription.js","../../../node_modules/@supabase/realtime-js/dist/module/RealtimeClient.js","../../../node_modules/@supabase/supabase-js/dist/module/lib/SupabaseRealtimeClient.js","../../../node_modules/@supabase/supabase-js/dist/module/lib/SupabaseQueryBuilder.js","../../../node_modules/@supabase/storage-js/dist/module/lib/version.js","../../../node_modules/@supabase/storage-js/dist/module/lib/constants.js","../../../node_modules/@supabase/storage-js/dist/module/lib/fetch.js","../../../node_modules/@supabase/storage-js/dist/module/lib/helpers.js","../../../node_modules/@supabase/storage-js/dist/module/lib/StorageBucketApi.js","../../../node_modules/@supabase/storage-js/dist/module/lib/StorageFileApi.js","../../../node_modules/@supabase/storage-js/dist/module/StorageClient.js","../../../node_modules/@supabase/functions-js/dist/module/helper.js","../../../node_modules/@supabase/functions-js/dist/module/index.js","../../../node_modules/@supabase/supabase-js/dist/module/SupabaseClient.js","../../../node_modules/@supabase/supabase-js/dist/module/index.js","../../../node_modules/@nuxtjs/supabase/dist/runtime/composables/useSupabaseToken.mjs","../../../node_modules/@nuxtjs/supabase/dist/runtime/composables/useSupabaseClient.mjs","../../../node_modules/@vueuse/shared/index.mjs","../../../node_modules/@vueuse/core/index.mjs","../../../utils/functions.ts","../../../node_modules/@tiptap/extension-document/dist/tiptap-extension-document.esm.js","../../../node_modules/@tiptap/extension-placeholder/dist/tiptap-extension-placeholder.esm.js","../../../components/TiptapHeading.vue","../../../components/Tiptap/Bubble.vue","../../../utils/tiptap/commands.ts","../../../components/Tiptap/CommandList.vue","../../../utils/tiptap/suggestion.ts","../../../utils/tiptap/hardbreak.ts","../../../utils/tiptap/code.ts","../../../node_modules/@tiptap/extension-link/dist/tiptap-extension-link.esm.js","../../../utils/tiptap/link.ts","../../../utils/tiptap/placeholder.ts","../../../components/Modal.vue","../../../components/Upload.vue","../../../components/Tiptap/ModalImage.vue","../../../components/Tiptap/ModalIframe.vue","../../../utils/tiptap/upload.ts","../../../utils/tiptap/iframe.ts","../../../utils/tiptap/move.ts","../../../components/Tiptap.vue","../../../components/Drawer.vue","../../../components/TagsInput.vue","../../../components/Drawer/EditPost.vue","../../../components/Modal/Login.vue","../../../node_modules/@nuxt/image-edge/dist/runtime/composables.mjs","../../../node_modules/@nuxt/image-edge/dist/runtime/utils/index.mjs","../../../node_modules/@nuxt/image-edge/dist/runtime/components/_base.mjs","../../../node_modules/@nuxt/image-edge/dist/runtime/components/nuxt-img.mjs","../../../components/Post/Card.vue","../../../composables/subdomain.ts","../../../virtual:nuxt:/Users/bon/Documents/my-workspace/perfect-blog/.nuxt/routes.mjs","../../../app/router.options.ts","../../../virtual:nuxt:/Users/bon/Documents/my-workspace/perfect-blog/.nuxt/router.options.mjs","../../../virtual:nuxt:/Users/bon/Documents/my-workspace/perfect-blog/.nuxt/middleware.mjs","../../../node_modules/nuxt/dist/pages/runtime/router.mjs","../../../node_modules/@nuxt/image-edge/dist/runtime/utils/meta.mjs","../../../node_modules/@nuxt/image-edge/dist/runtime/image.mjs","../../../node_modules/@nuxt/image-edge/dist/runtime/providers/ipx.mjs","../../../virtual:nuxt:/Users/bon/Documents/my-workspace/perfect-blog/.nuxt/image-options.mjs","../../../node_modules/@nuxt/image-edge/dist/runtime/plugin.mjs","../../../node_modules/@nuxtjs/supabase/dist/runtime/plugins/supabase.server.mjs","../../../virtual:nuxt:/Users/bon/Documents/my-workspace/perfect-blog/.nuxt/unocss.mjs","../../../virtual:nuxt:/Users/bon/Documents/my-workspace/perfect-blog/.nuxt/plugins/server.mjs","../../../node_modules/nuxt/dist/app/components/nuxt-root.vue","../../../virtual:nuxt:/Users/bon/Documents/my-workspace/perfect-blog/.nuxt/layouts.mjs","../../../node_modules/nuxt/dist/app/components/layout.mjs","../../../app.vue","../../../node_modules/nuxt/dist/app/entry.mjs"],"sourcesContent":["import { joinURL } from 'ufo'\nimport { useRuntimeConfig } from '#internal/nitro'\nconst appConfig = useRuntimeConfig().app\nexport const baseURL = () => appConfig.baseURL\nexport const buildAssetsDir = () => appConfig.buildAssetsDir\nexport const buildAssetsURL = (...path) => joinURL(publicAssetsURL(), buildAssetsDir(), ...path)\nexport const publicAssetsURL = (...path) => {\n  const publicBase = appConfig.cdnURL || appConfig.baseURL\n  return path.length ? joinURL(publicBase, ...path) : publicBase\n}\nglobalThis.__buildAssetsURL = buildAssetsURL\nglobalThis.__publicAssetsURL = publicAssetsURL","import { getCurrentInstance, reactive } from \"vue\";\nimport { createHooks } from \"hookable\";\nimport { getContext } from \"unctx\";\nconst nuxtAppCtx = getContext(\"nuxt-app\");\nexport const NuxtPluginIndicator = \"__nuxt_plugin\";\nexport function createNuxtApp(options) {\n  const nuxtApp = {\n    provide: void 0,\n    globalName: \"nuxt\",\n    payload: reactive({\n      data: {},\n      state: {},\n      _errors: {},\n      ...process.client ? window.__NUXT__ : { serverRendered: true }\n    }),\n    isHydrating: process.client,\n    _asyncDataPromises: {},\n    _asyncData: {},\n    ...options\n  };\n  nuxtApp.hooks = createHooks();\n  nuxtApp.hook = nuxtApp.hooks.hook;\n  nuxtApp.callHook = nuxtApp.hooks.callHook;\n  nuxtApp.provide = (name, value) => {\n    const $name = \"$\" + name;\n    defineGetter(nuxtApp, $name, value);\n    defineGetter(nuxtApp.vueApp.config.globalProperties, $name, value);\n  };\n  defineGetter(nuxtApp.vueApp, \"$nuxt\", nuxtApp);\n  defineGetter(nuxtApp.vueApp.config.globalProperties, \"$nuxt\", nuxtApp);\n  if (process.server) {\n    if (nuxtApp.ssrContext) {\n      nuxtApp.ssrContext.nuxt = nuxtApp;\n    }\n    nuxtApp.ssrContext = nuxtApp.ssrContext || {};\n    if (nuxtApp.ssrContext.payload) {\n      Object.assign(nuxtApp.payload, nuxtApp.ssrContext.payload);\n    }\n    nuxtApp.ssrContext.payload = nuxtApp.payload;\n    nuxtApp.payload.config = {\n      public: options.ssrContext.runtimeConfig.public,\n      app: options.ssrContext.runtimeConfig.app\n    };\n  }\n  const runtimeConfig = process.server ? options.ssrContext.runtimeConfig : reactive(nuxtApp.payload.config);\n  const compatibilityConfig = new Proxy(runtimeConfig, {\n    get(target, prop) {\n      if (prop === \"public\") {\n        return target.public;\n      }\n      return target[prop] ?? target.public[prop];\n    },\n    set(target, prop, value) {\n      if (process.server || prop === \"public\" || prop === \"app\") {\n        return false;\n      }\n      target[prop] = value;\n      target.public[prop] = value;\n      return true;\n    }\n  });\n  nuxtApp.provide(\"config\", compatibilityConfig);\n  return nuxtApp;\n}\nexport async function applyPlugin(nuxtApp, plugin) {\n  if (typeof plugin !== \"function\") {\n    return;\n  }\n  const { provide } = await callWithNuxt(nuxtApp, plugin, [nuxtApp]) || {};\n  if (provide && typeof provide === \"object\") {\n    for (const key in provide) {\n      nuxtApp.provide(key, provide[key]);\n    }\n  }\n}\nexport async function applyPlugins(nuxtApp, plugins) {\n  for (const plugin of plugins) {\n    await applyPlugin(nuxtApp, plugin);\n  }\n}\nexport function normalizePlugins(_plugins) {\n  const unwrappedPlugins = [];\n  const legacyInjectPlugins = [];\n  const invalidPlugins = [];\n  const plugins = _plugins.map((plugin) => {\n    if (typeof plugin !== \"function\") {\n      invalidPlugins.push(plugin);\n      return null;\n    }\n    if (plugin.length > 1) {\n      legacyInjectPlugins.push(plugin);\n      return (nuxtApp) => plugin(nuxtApp, nuxtApp.provide);\n    }\n    if (!isNuxtPlugin(plugin)) {\n      unwrappedPlugins.push(plugin);\n    }\n    return plugin;\n  }).filter(Boolean);\n  if (process.dev && legacyInjectPlugins.length) {\n    console.warn(\"[warn] [nuxt] You are using a plugin with legacy Nuxt 2 format (context, inject) which is likely to be broken. In the future they will be ignored:\", legacyInjectPlugins.map((p) => p.name || p).join(\",\"));\n  }\n  if (process.dev && invalidPlugins.length) {\n    console.warn(\"[warn] [nuxt] Some plugins are not exposing a function and skipped:\", invalidPlugins);\n  }\n  if (process.dev && unwrappedPlugins.length) {\n    console.warn(\"[warn] [nuxt] You are using a plugin that has not been wrapped in `defineNuxtPlugin`. It is advised to wrap your plugins as in the future this may enable enhancements:\", unwrappedPlugins.map((p) => p.name || p).join(\",\"));\n  }\n  return plugins;\n}\nexport function defineNuxtPlugin(plugin) {\n  plugin[NuxtPluginIndicator] = true;\n  return plugin;\n}\nexport function isNuxtPlugin(plugin) {\n  return typeof plugin === \"function\" && NuxtPluginIndicator in plugin;\n}\nexport function callWithNuxt(nuxt, setup, args) {\n  const fn = () => args ? setup(...args) : setup();\n  if (process.server) {\n    return nuxtAppCtx.callAsync(nuxt, fn);\n  } else {\n    nuxtAppCtx.set(nuxt);\n    return fn();\n  }\n}\nexport function useNuxtApp() {\n  const nuxtAppInstance = nuxtAppCtx.tryUse();\n  if (!nuxtAppInstance) {\n    const vm = getCurrentInstance();\n    if (!vm) {\n      throw new Error(\"nuxt instance unavailable\");\n    }\n    return vm.appContext.app.$nuxt;\n  }\n  return nuxtAppInstance;\n}\nexport function useRuntimeConfig() {\n  return useNuxtApp().$config;\n}\nfunction defineGetter(obj, key, val) {\n  Object.defineProperty(obj, key, { get: () => val });\n}\nexport function defineAppConfig(config) {\n  return config;\n}\n","import { onBeforeMount, onServerPrefetch, onUnmounted, ref, getCurrentInstance, watch, unref } from \"vue\";\nimport { useNuxtApp } from \"../nuxt.mjs\";\nconst getDefault = () => null;\nexport function useAsyncData(...args) {\n  const autoKey = typeof args[args.length - 1] === \"string\" ? args.pop() : void 0;\n  if (typeof args[0] !== \"string\") {\n    args.unshift(autoKey);\n  }\n  let [key, handler, options = {}] = args;\n  if (typeof key !== \"string\") {\n    throw new TypeError(\"[nuxt] [asyncData] key must be a string.\");\n  }\n  if (typeof handler !== \"function\") {\n    throw new TypeError(\"[nuxt] [asyncData] handler must be a function.\");\n  }\n  options.server = options.server ?? true;\n  options.default = options.default ?? getDefault;\n  if (options.defer) {\n    console.warn(\"[useAsyncData] `defer` has been renamed to `lazy`. Support for `defer` will be removed in RC.\");\n  }\n  options.lazy = options.lazy ?? options.defer ?? false;\n  options.initialCache = options.initialCache ?? true;\n  options.immediate = options.immediate ?? true;\n  const nuxt = useNuxtApp();\n  const useInitialCache = () => (nuxt.isHydrating || options.initialCache) && nuxt.payload.data[key] !== void 0;\n  if (!nuxt._asyncData[key]) {\n    nuxt._asyncData[key] = {\n      data: ref(useInitialCache() ? nuxt.payload.data[key] : options.default?.() ?? null),\n      pending: ref(!useInitialCache()),\n      error: ref(nuxt.payload._errors[key] ?? null)\n    };\n  }\n  const asyncData = { ...nuxt._asyncData[key] };\n  asyncData.refresh = asyncData.execute = (opts = {}) => {\n    if (nuxt._asyncDataPromises[key]) {\n      return nuxt._asyncDataPromises[key];\n    }\n    if (opts._initial && useInitialCache()) {\n      return nuxt.payload.data[key];\n    }\n    asyncData.pending.value = true;\n    nuxt._asyncDataPromises[key] = new Promise(\n      (resolve, reject) => {\n        try {\n          resolve(handler(nuxt));\n        } catch (err) {\n          reject(err);\n        }\n      }\n    ).then((result) => {\n      if (options.transform) {\n        result = options.transform(result);\n      }\n      if (options.pick) {\n        result = pick(result, options.pick);\n      }\n      asyncData.data.value = result;\n      asyncData.error.value = null;\n    }).catch((error) => {\n      asyncData.error.value = error;\n      asyncData.data.value = unref(options.default?.() ?? null);\n    }).finally(() => {\n      asyncData.pending.value = false;\n      nuxt.payload.data[key] = asyncData.data.value;\n      if (asyncData.error.value) {\n        nuxt.payload._errors[key] = true;\n      }\n      delete nuxt._asyncDataPromises[key];\n    });\n    return nuxt._asyncDataPromises[key];\n  };\n  const initialFetch = () => asyncData.refresh({ _initial: true });\n  const fetchOnServer = options.server !== false && nuxt.payload.serverRendered;\n  if (process.server && fetchOnServer && options.immediate) {\n    const promise = initialFetch();\n    onServerPrefetch(() => promise);\n  }\n  if (process.client) {\n    const instance = getCurrentInstance();\n    if (instance && !instance._nuxtOnBeforeMountCbs) {\n      instance._nuxtOnBeforeMountCbs = [];\n      const cbs = instance._nuxtOnBeforeMountCbs;\n      if (instance) {\n        onBeforeMount(() => {\n          cbs.forEach((cb) => {\n            cb();\n          });\n          cbs.splice(0, cbs.length);\n        });\n        onUnmounted(() => cbs.splice(0, cbs.length));\n      }\n    }\n    if (fetchOnServer && nuxt.isHydrating && key in nuxt.payload.data) {\n      asyncData.pending.value = false;\n    } else if (instance && (nuxt.payload.serverRendered && nuxt.isHydrating || options.lazy) && options.immediate) {\n      instance._nuxtOnBeforeMountCbs.push(initialFetch);\n    } else if (options.immediate) {\n      initialFetch();\n    }\n    if (options.watch) {\n      watch(options.watch, () => asyncData.refresh());\n    }\n    const off = nuxt.hook(\"app:data:refresh\", (keys) => {\n      if (!keys || keys.includes(key)) {\n        return asyncData.refresh();\n      }\n    });\n    if (instance) {\n      onUnmounted(off);\n    }\n  }\n  const asyncDataPromise = Promise.resolve(nuxt._asyncDataPromises[key]).then(() => asyncData);\n  Object.assign(asyncDataPromise, asyncData);\n  return asyncDataPromise;\n}\nexport function useLazyAsyncData(...args) {\n  const autoKey = typeof args[args.length - 1] === \"string\" ? args.pop() : void 0;\n  if (typeof args[0] !== \"string\") {\n    args.unshift(autoKey);\n  }\n  const [key, handler, options] = args;\n  return useAsyncData(key, handler, { ...options, lazy: true }, null);\n}\nexport function refreshNuxtData(keys) {\n  if (process.server) {\n    return Promise.resolve();\n  }\n  const _keys = keys ? Array.isArray(keys) ? keys : [keys] : void 0;\n  return useNuxtApp().callHook(\"app:data:refresh\", _keys);\n}\nexport function clearNuxtData(keys) {\n  const nuxtApp = useNuxtApp();\n  const _allKeys = Object.keys(nuxtApp.payload.data);\n  const _keys = !keys ? _allKeys : typeof keys === \"function\" ? _allKeys.filter(keys) : Array.isArray(keys) ? keys : [keys];\n  for (const key of _keys) {\n    if (key in nuxtApp.payload.data) {\n      nuxtApp.payload.data[key] = void 0;\n    }\n    if (key in nuxtApp.payload._errors) {\n      nuxtApp.payload._errors[key] = void 0;\n    }\n    if (nuxtApp._asyncData[key]) {\n      nuxtApp._asyncData[key].data.value = void 0;\n      nuxtApp._asyncData[key].error.value = void 0;\n      nuxtApp._asyncData[key].pending.value = false;\n    }\n    if (key in nuxtApp._asyncDataPromises) {\n      nuxtApp._asyncDataPromises[key] = void 0;\n    }\n  }\n}\nfunction pick(obj, keys) {\n  const newObj = {};\n  for (const key of keys) {\n    newObj[key] = obj[key];\n  }\n  return newObj;\n}\n","import { isRef, toRef } from \"vue\";\nimport { useNuxtApp } from \"../nuxt.mjs\";\nexport function useState(...args) {\n  const autoKey = typeof args[args.length - 1] === \"string\" ? args.pop() : void 0;\n  if (typeof args[0] !== \"string\") {\n    args.unshift(autoKey);\n  }\n  const [_key, init] = args;\n  if (!_key || typeof _key !== \"string\") {\n    throw new TypeError(\"[nuxt] [useState] key must be a string: \" + _key);\n  }\n  if (init !== void 0 && typeof init !== \"function\") {\n    throw new Error(\"[nuxt] [useState] init must be a function: \" + init);\n  }\n  const key = \"$s\" + _key;\n  const nuxt = useNuxtApp();\n  const state = toRef(nuxt.payload.state, key);\n  if (state.value === void 0 && init) {\n    const initialValue = init();\n    if (isRef(initialValue)) {\n      nuxt.payload.state[key] = initialValue;\n      return initialValue;\n    }\n    state.value = initialValue;\n  }\n  return state;\n}\n","import { createError as _createError } from \"h3\";\nimport { toRef } from \"vue\";\nimport { useNuxtApp } from \"../nuxt.mjs\";\nexport const useError = () => toRef(useNuxtApp().payload, \"error\");\nexport const showError = (_err) => {\n  const err = createError(_err);\n  try {\n    const nuxtApp = useNuxtApp();\n    nuxtApp.callHook(\"app:error\", err);\n    const error = useError();\n    error.value = error.value || err;\n  } catch {\n    throw err;\n  }\n  return err;\n};\nexport const throwError = showError;\nexport const clearError = async (options = {}) => {\n  const nuxtApp = useNuxtApp();\n  const error = useError();\n  nuxtApp.callHook(\"app:error:cleared\", options);\n  if (options.redirect) {\n    await nuxtApp.$router.replace(options.redirect);\n  }\n  error.value = null;\n};\nexport const isNuxtError = (err) => !!(err && typeof err === \"object\" && \"__nuxt_error\" in err);\nexport const createError = (err) => {\n  const _err = _createError(err);\n  _err.__nuxt_error = true;\n  return _err;\n};\n","import { useNuxtApp } from \"../nuxt.mjs\";\nexport function useRequestHeaders(include) {\n  if (process.client) {\n    return {};\n  }\n  const headers = useNuxtApp().ssrContext?.event.req.headers ?? {};\n  if (!include) {\n    return headers;\n  }\n  return Object.fromEntries(include.filter((key) => headers[key]).map((key) => [key, headers[key]]));\n}\nexport function useRequestEvent(nuxtApp = useNuxtApp()) {\n  return nuxtApp.ssrContext?.event;\n}\nexport function setResponseStatus(code, message) {\n  const event = process.server && useRequestEvent();\n  if (event) {\n    event.res.statusCode = code;\n    if (message) {\n      event.res.statusMessage = message;\n    }\n  }\n}\n","import { ref, watch } from \"vue\";\nimport { parse, serialize } from \"cookie-es\";\nimport { appendHeader } from \"h3\";\nimport destr from \"destr\";\nimport { isEqual } from \"ohash\";\nimport { useNuxtApp } from \"../nuxt.mjs\";\nimport { useRequestEvent } from \"./ssr.mjs\";\nconst CookieDefaults = {\n  path: \"/\",\n  decode: (val) => destr(decodeURIComponent(val)),\n  encode: (val) => encodeURIComponent(typeof val === \"string\" ? val : JSON.stringify(val))\n};\nexport function useCookie(name, _opts) {\n  const opts = { ...CookieDefaults, ..._opts };\n  const cookies = readRawCookies(opts) || {};\n  const cookie = ref(cookies[name] ?? opts.default?.());\n  if (process.client) {\n    watch(cookie, () => {\n      writeClientCookie(name, cookie.value, opts);\n    });\n  } else if (process.server) {\n    const nuxtApp = useNuxtApp();\n    const writeFinalCookieValue = () => {\n      if (!isEqual(cookie.value, cookies[name])) {\n        writeServerCookie(useRequestEvent(nuxtApp), name, cookie.value, opts);\n      }\n    };\n    const unhook = nuxtApp.hooks.hookOnce(\"app:rendered\", writeFinalCookieValue);\n    nuxtApp.hooks.hookOnce(\"app:redirected\", () => {\n      unhook();\n      return writeFinalCookieValue();\n    });\n  }\n  return cookie;\n}\nfunction readRawCookies(opts = {}) {\n  if (process.server) {\n    return parse(useRequestEvent()?.req.headers.cookie || \"\", opts);\n  } else if (process.client) {\n    return parse(document.cookie, opts);\n  }\n}\nfunction serializeCookie(name, value, opts = {}) {\n  if (value === null || value === void 0) {\n    return serialize(name, value, { ...opts, maxAge: -1 });\n  }\n  return serialize(name, value, opts);\n}\nfunction writeClientCookie(name, value, opts = {}) {\n  if (process.client) {\n    document.cookie = serializeCookie(name, value, opts);\n  }\n}\nfunction writeServerCookie(event, name, value, opts = {}) {\n  if (event) {\n    appendHeader(event, \"Set-Cookie\", serializeCookie(name, value, opts));\n  }\n}\n","import { getCurrentInstance, inject } from \"vue\";\nimport { sendRedirect } from \"h3\";\nimport { hasProtocol, joinURL, parseURL } from \"ufo\";\nimport { useNuxtApp, useRuntimeConfig } from \"../nuxt.mjs\";\nimport { createError } from \"./error.mjs\";\nimport { useState } from \"./state.mjs\";\nexport const useRouter = () => {\n  return useNuxtApp()?.$router;\n};\nexport const useRoute = () => {\n  if (getCurrentInstance()) {\n    return inject(\"_route\", useNuxtApp()._route);\n  }\n  return useNuxtApp()._route;\n};\nexport const useActiveRoute = () => {\n  return useNuxtApp()._route;\n};\nexport const defineNuxtRouteMiddleware = (middleware) => middleware;\nexport const addRouteMiddleware = (name, middleware, options = {}) => {\n  const nuxtApp = useNuxtApp();\n  if (options.global || typeof name === \"function\") {\n    nuxtApp._middleware.global.push(typeof name === \"function\" ? name : middleware);\n  } else {\n    nuxtApp._middleware.named[name] = middleware;\n  }\n};\nconst isProcessingMiddleware = () => {\n  try {\n    if (useNuxtApp()._processingMiddleware) {\n      return true;\n    }\n  } catch {\n    return true;\n  }\n  return false;\n};\nexport const navigateTo = (to, options) => {\n  if (!to) {\n    to = \"/\";\n  }\n  const toPath = typeof to === \"string\" ? to : to.path || \"/\";\n  const isExternal = hasProtocol(toPath, true);\n  if (isExternal && !options?.external) {\n    throw new Error(\"Navigating to external URL is not allowed by default. Use `nagivateTo (url, { external: true })`.\");\n  }\n  if (isExternal && parseURL(toPath).protocol === \"script:\") {\n    throw new Error(\"Cannot navigate to an URL with script protocol.\");\n  }\n  if (process.client && !isExternal && isProcessingMiddleware()) {\n    return to;\n  }\n  const router = useRouter();\n  if (process.server) {\n    const nuxtApp = useNuxtApp();\n    if (nuxtApp.ssrContext && nuxtApp.ssrContext.event) {\n      const redirectLocation = isExternal ? toPath : joinURL(useRuntimeConfig().app.baseURL, router.resolve(to).fullPath || \"/\");\n      return nuxtApp.callHook(\"app:redirected\").then(() => sendRedirect(nuxtApp.ssrContext.event, redirectLocation, options?.redirectCode || 302));\n    }\n  }\n  if (isExternal) {\n    if (options?.replace) {\n      location.replace(toPath);\n    } else {\n      location.href = toPath;\n    }\n    return Promise.resolve();\n  }\n  return options?.replace ? router.replace(to) : router.push(to);\n};\nexport const abortNavigation = (err) => {\n  if (process.dev && !isProcessingMiddleware()) {\n    throw new Error(\"abortNavigation() is only usable inside a route middleware handler.\");\n  }\n  if (err) {\n    throw createError(err);\n  }\n  return false;\n};\nexport const setPageLayout = (layout) => {\n  if (process.server) {\n    useState(\"_layout\").value = layout;\n  }\n  const nuxtApp = useNuxtApp();\n  const inMiddleware = isProcessingMiddleware();\n  if (inMiddleware || process.server || nuxtApp.isHydrating) {\n    const unsubscribe = useRouter().beforeResolve((to) => {\n      to.meta.layout = layout;\n      unsubscribe();\n    });\n  }\n  if (!inMiddleware) {\n    useRoute().meta.layout = layout;\n  }\n};\n","import { defineComponent, h, ref, resolveComponent, computed, onMounted, onBeforeUnmount } from \"vue\";\nimport { hasProtocol } from \"ufo\";\nimport { navigateTo, useRouter } from \"../composables/router.mjs\";\nimport { useNuxtApp } from \"../nuxt.mjs\";\nconst firstNonUndefined = (...args) => args.find((arg) => arg !== void 0);\nconst DEFAULT_EXTERNAL_REL_ATTRIBUTE = \"noopener noreferrer\";\nconst requestIdleCallback = process.server ? void 0 : globalThis.requestIdleCallback || ((cb) => {\n  const start = Date.now();\n  const idleDeadline = {\n    didTimeout: false,\n    timeRemaining: () => Math.max(0, 50 - (Date.now() - start))\n  };\n  return setTimeout(() => {\n    cb(idleDeadline);\n  }, 1);\n});\nconst cancelIdleCallback = process.server ? null : globalThis.cancelIdleCallback || ((id) => {\n  clearTimeout(id);\n});\nexport function defineNuxtLink(options) {\n  const componentName = options.componentName || \"NuxtLink\";\n  const checkPropConflicts = (props, main, sub) => {\n    if (process.dev && props[main] !== void 0 && props[sub] !== void 0) {\n      console.warn(`[${componentName}] \\`${main}\\` and \\`${sub}\\` cannot be used together. \\`${sub}\\` will be ignored.`);\n    }\n  };\n  return defineComponent({\n    name: componentName,\n    props: {\n      to: {\n        type: [String, Object],\n        default: void 0,\n        required: false\n      },\n      href: {\n        type: [String, Object],\n        default: void 0,\n        required: false\n      },\n      target: {\n        type: String,\n        default: void 0,\n        required: false\n      },\n      rel: {\n        type: String,\n        default: void 0,\n        required: false\n      },\n      noRel: {\n        type: Boolean,\n        default: void 0,\n        required: false\n      },\n      prefetch: {\n        type: Boolean,\n        default: void 0,\n        required: false\n      },\n      noPrefetch: {\n        type: Boolean,\n        default: void 0,\n        required: false\n      },\n      activeClass: {\n        type: String,\n        default: void 0,\n        required: false\n      },\n      exactActiveClass: {\n        type: String,\n        default: void 0,\n        required: false\n      },\n      prefetchedClass: {\n        type: String,\n        default: void 0,\n        required: false\n      },\n      replace: {\n        type: Boolean,\n        default: void 0,\n        required: false\n      },\n      ariaCurrentValue: {\n        type: String,\n        default: void 0,\n        required: false\n      },\n      external: {\n        type: Boolean,\n        default: void 0,\n        required: false\n      },\n      custom: {\n        type: Boolean,\n        default: void 0,\n        required: false\n      }\n    },\n    setup(props, { slots }) {\n      const router = useRouter();\n      const to = computed(() => {\n        checkPropConflicts(props, \"to\", \"href\");\n        return props.to || props.href || \"\";\n      });\n      const isExternal = computed(() => {\n        if (props.external) {\n          return true;\n        }\n        if (props.target && props.target !== \"_self\") {\n          return true;\n        }\n        if (typeof to.value === \"object\") {\n          return false;\n        }\n        return to.value === \"\" || hasProtocol(to.value, true);\n      });\n      const prefetched = ref(false);\n      const el = process.server ? void 0 : ref(null);\n      if (process.client) {\n        checkPropConflicts(props, \"prefetch\", \"noPrefetch\");\n        const shouldPrefetch = props.prefetch !== false && props.noPrefetch !== true && typeof to.value === \"string\" && !isSlowConnection();\n        if (shouldPrefetch) {\n          const nuxtApp = useNuxtApp();\n          const observer = useObserver();\n          let idleId;\n          let unobserve = null;\n          onMounted(() => {\n            idleId = requestIdleCallback(() => {\n              if (el?.value?.tagName) {\n                unobserve = observer.observe(el.value, async () => {\n                  unobserve?.();\n                  unobserve = null;\n                  await Promise.all([\n                    nuxtApp.hooks.callHook(\"link:prefetch\", to.value).catch(() => {\n                    }),\n                    preloadRouteComponents(to.value, router).catch(() => {\n                    })\n                  ]);\n                  prefetched.value = true;\n                });\n              }\n            });\n          });\n          onBeforeUnmount(() => {\n            if (idleId) {\n              cancelIdleCallback(idleId);\n            }\n            unobserve?.();\n            unobserve = null;\n          });\n        }\n      }\n      return () => {\n        if (!isExternal.value) {\n          return h(\n            resolveComponent(\"RouterLink\"),\n            {\n              ref: process.server ? void 0 : (ref2) => {\n                el.value = ref2?.$el;\n              },\n              to: to.value,\n              ...prefetched.value && !props.custom ? { class: props.prefetchedClass || options.prefetchedClass } : {},\n              activeClass: props.activeClass || options.activeClass,\n              exactActiveClass: props.exactActiveClass || options.exactActiveClass,\n              replace: props.replace,\n              ariaCurrentValue: props.ariaCurrentValue,\n              custom: props.custom\n            },\n            slots.default\n          );\n        }\n        const href = typeof to.value === \"object\" ? router.resolve(to.value)?.href ?? null : to.value || null;\n        const target = props.target || null;\n        checkPropConflicts(props, \"noRel\", \"rel\");\n        const rel = props.noRel ? null : firstNonUndefined(props.rel, options.externalRelAttribute, href ? DEFAULT_EXTERNAL_REL_ATTRIBUTE : \"\") || null;\n        const navigate = () => navigateTo(href, { replace: props.replace });\n        if (props.custom) {\n          if (!slots.default) {\n            return null;\n          }\n          return slots.default({\n            href,\n            navigate,\n            route: router.resolve(href),\n            rel,\n            target,\n            isActive: false,\n            isExactActive: false\n          });\n        }\n        return h(\"a\", { href, rel, target }, slots.default?.());\n      };\n    }\n  });\n}\nexport default defineNuxtLink({ componentName: \"NuxtLink\" });\nfunction useObserver() {\n  if (process.server) {\n    return;\n  }\n  const nuxtApp = useNuxtApp();\n  if (nuxtApp._observer) {\n    return nuxtApp._observer;\n  }\n  let observer = null;\n  const callbacks = /* @__PURE__ */ new Map();\n  const observe = (element, callback) => {\n    if (!observer) {\n      observer = new IntersectionObserver((entries) => {\n        for (const entry of entries) {\n          const callback2 = callbacks.get(entry.target);\n          const isVisible = entry.isIntersecting || entry.intersectionRatio > 0;\n          if (isVisible && callback2) {\n            callback2();\n          }\n        }\n      });\n    }\n    callbacks.set(element, callback);\n    observer.observe(element);\n    return () => {\n      callbacks.delete(element);\n      observer.unobserve(element);\n      if (callbacks.size === 0) {\n        observer.disconnect();\n        observer = null;\n      }\n    };\n  };\n  const _observer = nuxtApp._observer = {\n    observe\n  };\n  return _observer;\n}\nfunction isSlowConnection() {\n  if (process.server) {\n    return;\n  }\n  const cn = navigator.connection;\n  if (cn && (cn.saveData || /2g/.test(cn.effectiveType))) {\n    return true;\n  }\n  return false;\n}\nasync function preloadRouteComponents(to, router = useRouter()) {\n  if (process.server) {\n    return;\n  }\n  if (!router._nuxtLinkPreloaded) {\n    router._nuxtLinkPreloaded = /* @__PURE__ */ new Set();\n  }\n  if (router._nuxtLinkPreloaded.has(to)) {\n    return;\n  }\n  router._nuxtLinkPreloaded.add(to);\n  const components = router.resolve(to).matched.map((component) => component.components?.default).filter((component) => typeof component === \"function\");\n  const promises = [];\n  for (const component of components) {\n    const promise = Promise.resolve(component()).catch(() => {\n    });\n    promises.push(promise);\n  }\n  await Promise.all(promises);\n}\n","\nimport { defuFn } from 'defu'\n\nconst inlineConfig = {}\n\n\n\nexport default defuFn(inlineConfig)\n","import { isFunction } from \"@vue/shared\";\nimport { computed } from \"vue\";\nimport { useNuxtApp } from \"#app\";\nexport function useHead(meta) {\n  const resolvedMeta = isFunction(meta) ? computed(meta) : meta;\n  useNuxtApp()._useHead(resolvedMeta);\n}\nexport function useMeta(meta) {\n  return useHead(meta);\n}\n","import { defineAsyncComponent } from 'vue'\nimport { defineNuxtPlugin } from '#app'\n\nconst components = {}\n\nexport default defineNuxtPlugin(nuxtApp => {\n  for (const name in components) {\n    nuxtApp.vueApp.component(name, components[name])\n    nuxtApp.vueApp.component('Lazy' + name, components[name])\n  }\n})\n","// src/index.ts\nimport {\n  defineComponent,\n  inject,\n  onBeforeUnmount,\n  ref,\n  watchEffect,\n  unref,\n  shallowRef\n} from \"vue\";\n\n// src/constants.ts\nvar PROVIDE_KEY = `usehead`;\nvar HEAD_COUNT_KEY = `head:count`;\nvar HEAD_ATTRS_KEY = `data-head-attrs`;\nvar SELF_CLOSING_TAGS = [\"meta\", \"link\", \"base\"];\nvar BODY_TAG_ATTR_NAME = `data-meta-body`;\n\n// src/create-element.ts\nvar createElement = (tag, attrs, document) => {\n  const el = document.createElement(tag);\n  for (const key of Object.keys(attrs)) {\n    if (key === \"body\" && attrs.body === true) {\n      el.setAttribute(BODY_TAG_ATTR_NAME, \"true\");\n    } else {\n      let value = attrs[key];\n      if (key === \"renderPriority\" || key === \"key\" || value === false) {\n        continue;\n      }\n      if (key === \"children\") {\n        el.textContent = value;\n      } else {\n        el.setAttribute(key, value);\n      }\n    }\n  }\n  return el;\n};\n\n// src/stringify-attrs.ts\nvar stringifyAttrName = (str) => str.replace(/[\\s\"'><\\/=]/g, \"\").replace(/[^a-zA-Z0-9_-]/g, \"\");\nvar stringifyAttrValue = (str) => str.replace(/\"/g, \"&quot;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\");\nvar stringifyAttrs = (attributes) => {\n  const handledAttributes = [];\n  for (let [key, value] of Object.entries(attributes)) {\n    if (key === \"children\" || key === \"key\") {\n      continue;\n    }\n    if (value === false || value == null) {\n      continue;\n    }\n    let attribute = stringifyAttrName(key);\n    if (value !== true) {\n      attribute += `=\"${stringifyAttrValue(String(value))}\"`;\n    }\n    handledAttributes.push(attribute);\n  }\n  return handledAttributes.length > 0 ? \" \" + handledAttributes.join(\" \") : \"\";\n};\n\n// src/utils.ts\nfunction isEqualNode(oldTag, newTag) {\n  if (oldTag instanceof HTMLElement && newTag instanceof HTMLElement) {\n    const nonce = newTag.getAttribute(\"nonce\");\n    if (nonce && !oldTag.getAttribute(\"nonce\")) {\n      const cloneTag = newTag.cloneNode(true);\n      cloneTag.setAttribute(\"nonce\", \"\");\n      cloneTag.nonce = nonce;\n      return nonce === oldTag.nonce && oldTag.isEqualNode(cloneTag);\n    }\n  }\n  return oldTag.isEqualNode(newTag);\n}\n\n// src/index.ts\nvar tagDedupeKey = (tag) => {\n  if (![\"meta\", \"base\", \"script\", \"link\"].includes(tag.tag)) {\n    return false;\n  }\n  const { props, tag: tagName } = tag;\n  if (tagName === \"base\") {\n    return \"base\";\n  }\n  if (tagName === \"link\" && props.rel === \"canonical\") {\n    return \"canonical\";\n  }\n  if (props.charset) {\n    return \"charset\";\n  }\n  const name = [\"key\", \"id\", \"name\", \"property\", \"http-equiv\"];\n  for (const n of name) {\n    let value = void 0;\n    if (typeof props.getAttribute === \"function\" && props.hasAttribute(n)) {\n      value = props.getAttribute(n);\n    } else {\n      value = props[n];\n    }\n    if (value !== void 0) {\n      return `${tagName}-${n}-${value}`;\n    }\n  }\n  return false;\n};\nvar injectHead = () => {\n  const head = inject(PROVIDE_KEY);\n  if (!head) {\n    throw new Error(`You may forget to apply app.use(head)`);\n  }\n  return head;\n};\nvar acceptFields = [\n  \"title\",\n  \"meta\",\n  \"link\",\n  \"base\",\n  \"style\",\n  \"script\",\n  \"noscript\",\n  \"htmlAttrs\",\n  \"bodyAttrs\"\n];\nvar renderTemplate = (template, title) => {\n  if (template == null)\n    return \"\";\n  if (typeof template === \"string\") {\n    return template.replace(\"%s\", title ?? \"\");\n  }\n  return template(unref(title));\n};\nvar headObjToTags = (obj) => {\n  const tags = [];\n  const keys = Object.keys(obj);\n  for (const key of keys) {\n    if (obj[key] == null)\n      continue;\n    switch (key) {\n      case \"title\":\n        tags.push({ tag: key, props: { children: obj[key] } });\n        break;\n      case \"titleTemplate\":\n        break;\n      case \"base\":\n        tags.push({ tag: key, props: { key: \"default\", ...obj[key] } });\n        break;\n      default:\n        if (acceptFields.includes(key)) {\n          const value = obj[key];\n          if (Array.isArray(value)) {\n            value.forEach((item) => {\n              tags.push({ tag: key, props: unref(item) });\n            });\n          } else if (value) {\n            tags.push({ tag: key, props: value });\n          }\n        }\n        break;\n    }\n  }\n  return tags;\n};\nvar setAttrs = (el, attrs) => {\n  const existingAttrs = el.getAttribute(HEAD_ATTRS_KEY);\n  if (existingAttrs) {\n    for (const key of existingAttrs.split(\",\")) {\n      if (!(key in attrs)) {\n        el.removeAttribute(key);\n      }\n    }\n  }\n  const keys = [];\n  for (const key in attrs) {\n    const value = attrs[key];\n    if (value == null)\n      continue;\n    if (value === false) {\n      el.removeAttribute(key);\n    } else {\n      el.setAttribute(key, value);\n    }\n    keys.push(key);\n  }\n  if (keys.length) {\n    el.setAttribute(HEAD_ATTRS_KEY, keys.join(\",\"));\n  } else {\n    el.removeAttribute(HEAD_ATTRS_KEY);\n  }\n};\nvar updateElements = (document = window.document, type, tags) => {\n  var _a, _b;\n  const head = document.head;\n  const body = document.body;\n  let headCountEl = head.querySelector(`meta[name=\"${HEAD_COUNT_KEY}\"]`);\n  let bodyMetaElements = body.querySelectorAll(`[${BODY_TAG_ATTR_NAME}]`);\n  const headCount = headCountEl ? Number(headCountEl.getAttribute(\"content\")) : 0;\n  const oldHeadElements = [];\n  const oldBodyElements = [];\n  if (bodyMetaElements) {\n    for (let i = 0; i < bodyMetaElements.length; i++) {\n      if (bodyMetaElements[i] && ((_a = bodyMetaElements[i].tagName) == null ? void 0 : _a.toLowerCase()) === type) {\n        oldBodyElements.push(bodyMetaElements[i]);\n      }\n    }\n  }\n  if (headCountEl) {\n    for (let i = 0, j = headCountEl.previousElementSibling; i < headCount; i++, j = (j == null ? void 0 : j.previousElementSibling) || null) {\n      if (((_b = j == null ? void 0 : j.tagName) == null ? void 0 : _b.toLowerCase()) === type) {\n        oldHeadElements.push(j);\n      }\n    }\n  } else {\n    headCountEl = document.createElement(\"meta\");\n    headCountEl.setAttribute(\"name\", HEAD_COUNT_KEY);\n    headCountEl.setAttribute(\"content\", \"0\");\n    head.append(headCountEl);\n  }\n  let newElements = tags.map((tag) => ({\n    element: createElement(tag.tag, tag.props, document),\n    body: tag.props.body ?? false\n  }));\n  newElements = newElements.filter((newEl) => {\n    for (let i = 0; i < oldHeadElements.length; i++) {\n      const oldEl = oldHeadElements[i];\n      if (isEqualNode(oldEl, newEl.element)) {\n        oldHeadElements.splice(i, 1);\n        return false;\n      }\n    }\n    for (let i = 0; i < oldBodyElements.length; i++) {\n      const oldEl = oldBodyElements[i];\n      if (isEqualNode(oldEl, newEl.element)) {\n        oldBodyElements.splice(i, 1);\n        return false;\n      }\n    }\n    return true;\n  });\n  oldBodyElements.forEach((t) => {\n    var _a2;\n    return (_a2 = t.parentNode) == null ? void 0 : _a2.removeChild(t);\n  });\n  oldHeadElements.forEach((t) => {\n    var _a2;\n    return (_a2 = t.parentNode) == null ? void 0 : _a2.removeChild(t);\n  });\n  newElements.forEach((t) => {\n    if (t.body === true) {\n      body.insertAdjacentElement(\"beforeend\", t.element);\n    } else {\n      head.insertBefore(t.element, headCountEl);\n    }\n  });\n  headCountEl.setAttribute(\n    \"content\",\n    \"\" + (headCount - oldHeadElements.length + newElements.filter((t) => !t.body).length)\n  );\n};\nvar createHead = (initHeadObject) => {\n  let allHeadObjs = [];\n  let previousTags = /* @__PURE__ */ new Set();\n  if (initHeadObject) {\n    allHeadObjs.push(shallowRef(initHeadObject));\n  }\n  const head = {\n    install(app) {\n      app.config.globalProperties.$head = head;\n      app.provide(PROVIDE_KEY, head);\n    },\n    get headTags() {\n      const deduped = [];\n      const deduping = {};\n      const titleTemplate = allHeadObjs.map((i) => unref(i).titleTemplate).reverse().find((i) => i != null);\n      allHeadObjs.forEach((objs, headObjectIdx) => {\n        const tags = headObjToTags(unref(objs));\n        tags.forEach((tag, tagIdx) => {\n          tag._position = headObjectIdx * 1e4 + tagIdx;\n          if (titleTemplate && tag.tag === \"title\") {\n            tag.props.children = renderTemplate(\n              titleTemplate,\n              tag.props.children\n            );\n          }\n          const dedupeKey = tagDedupeKey(tag);\n          if (dedupeKey) {\n            deduping[dedupeKey] = tag;\n          } else {\n            deduped.push(tag);\n          }\n        });\n      });\n      deduped.push(...Object.values(deduping));\n      return deduped.sort((a, b) => a._position - b._position);\n    },\n    addHeadObjs(objs) {\n      allHeadObjs.push(objs);\n    },\n    removeHeadObjs(objs) {\n      allHeadObjs = allHeadObjs.filter((_objs) => _objs !== objs);\n    },\n    updateDOM(document = window.document) {\n      let title;\n      let htmlAttrs = {};\n      let bodyAttrs = {};\n      const actualTags = {};\n      for (const tag of head.headTags.sort(sortTags)) {\n        if (tag.tag === \"title\") {\n          title = tag.props.children;\n          continue;\n        }\n        if (tag.tag === \"htmlAttrs\") {\n          Object.assign(htmlAttrs, tag.props);\n          continue;\n        }\n        if (tag.tag === \"bodyAttrs\") {\n          Object.assign(bodyAttrs, tag.props);\n          continue;\n        }\n        actualTags[tag.tag] = actualTags[tag.tag] || [];\n        actualTags[tag.tag].push(tag);\n      }\n      if (title !== void 0) {\n        document.title = title;\n      }\n      setAttrs(document.documentElement, htmlAttrs);\n      setAttrs(document.body, bodyAttrs);\n      const tags = /* @__PURE__ */ new Set([...Object.keys(actualTags), ...previousTags]);\n      for (const tag of tags) {\n        updateElements(document, tag, actualTags[tag] || []);\n      }\n      previousTags.clear();\n      Object.keys(actualTags).forEach((i) => previousTags.add(i));\n    }\n  };\n  return head;\n};\nvar IS_BROWSER = typeof window !== \"undefined\";\nvar useHead = (obj) => {\n  const head = injectHead();\n  const headObj = ref(obj);\n  head.addHeadObjs(headObj);\n  if (IS_BROWSER) {\n    watchEffect(() => {\n      head.updateDOM();\n    });\n    onBeforeUnmount(() => {\n      head.removeHeadObjs(headObj);\n      head.updateDOM();\n    });\n  }\n};\nvar tagToString = (tag) => {\n  let isBodyTag = false;\n  if (tag.props.body) {\n    isBodyTag = true;\n    delete tag.props.body;\n  }\n  if (tag.props.renderPriority) {\n    delete tag.props.renderPriority;\n  }\n  let attrs = stringifyAttrs(tag.props);\n  if (SELF_CLOSING_TAGS.includes(tag.tag)) {\n    return `<${tag.tag}${attrs}${isBodyTag ? `  ${BODY_TAG_ATTR_NAME}=\"true\"` : \"\"}>`;\n  }\n  return `<${tag.tag}${attrs}${isBodyTag ? ` ${BODY_TAG_ATTR_NAME}=\"true\"` : \"\"}>${tag.props.children || \"\"}</${tag.tag}>`;\n};\nvar sortTags = (aTag, bTag) => {\n  const tagWeight = (tag) => {\n    if (tag.props.renderPriority) {\n      return tag.props.renderPriority;\n    }\n    switch (tag.tag) {\n      case \"base\":\n        return -1;\n      case \"meta\":\n        if (tag.props.charset) {\n          return -2;\n        }\n        if (tag.props[\"http-equiv\"] === \"content-security-policy\") {\n          return 0;\n        }\n        return 10;\n      default:\n        return 10;\n    }\n  };\n  return tagWeight(aTag) - tagWeight(bTag);\n};\nvar renderHeadToString = (head) => {\n  const tags = [];\n  let titleTag = \"\";\n  let htmlAttrs = {};\n  let bodyAttrs = {};\n  let bodyTags = [];\n  for (const tag of head.headTags.sort(sortTags)) {\n    if (tag.tag === \"title\") {\n      titleTag = tagToString(tag);\n    } else if (tag.tag === \"htmlAttrs\") {\n      Object.assign(htmlAttrs, tag.props);\n    } else if (tag.tag === \"bodyAttrs\") {\n      Object.assign(bodyAttrs, tag.props);\n    } else if (tag.props.body) {\n      bodyTags.push(tagToString(tag));\n    } else {\n      tags.push(tagToString(tag));\n    }\n  }\n  tags.push(`<meta name=\"${HEAD_COUNT_KEY}\" content=\"${tags.length}\">`);\n  return {\n    get headTags() {\n      return titleTag + tags.join(\"\");\n    },\n    get htmlAttrs() {\n      return stringifyAttrs({\n        ...htmlAttrs,\n        [HEAD_ATTRS_KEY]: Object.keys(htmlAttrs).join(\",\")\n      });\n    },\n    get bodyAttrs() {\n      return stringifyAttrs({\n        ...bodyAttrs,\n        [HEAD_ATTRS_KEY]: Object.keys(bodyAttrs).join(\",\")\n      });\n    },\n    get bodyTags() {\n      return bodyTags.join(\"\");\n    }\n  };\n};\nvar addVNodeToHeadObj = (node, obj) => {\n  const type = node.type === \"html\" ? \"htmlAttrs\" : node.type === \"body\" ? \"bodyAttrs\" : node.type;\n  if (typeof type !== \"string\" || !(type in obj))\n    return;\n  const props = {\n    ...node.props,\n    children: Array.isArray(node.children) ? node.children[0].children : node.children\n  };\n  if (Array.isArray(obj[type])) {\n    ;\n    obj[type].push(props);\n  } else if (type === \"title\") {\n    obj.title = props.children;\n  } else {\n    ;\n    obj[type] = props;\n  }\n};\nvar vnodesToHeadObj = (nodes) => {\n  const obj = {\n    title: void 0,\n    htmlAttrs: void 0,\n    bodyAttrs: void 0,\n    base: void 0,\n    meta: [],\n    link: [],\n    style: [],\n    script: [],\n    noscript: []\n  };\n  for (const node of nodes) {\n    if (typeof node.type === \"symbol\" && Array.isArray(node.children)) {\n      for (const childNode of node.children) {\n        addVNodeToHeadObj(childNode, obj);\n      }\n    } else {\n      addVNodeToHeadObj(node, obj);\n    }\n  }\n  return obj;\n};\nvar Head = /* @__PURE__ */ defineComponent({\n  name: \"Head\",\n  setup(_, { slots }) {\n    const head = injectHead();\n    let obj;\n    onBeforeUnmount(() => {\n      if (obj) {\n        head.removeHeadObjs(obj);\n        head.updateDOM();\n      }\n    });\n    return () => {\n      watchEffect(() => {\n        if (!slots.default)\n          return;\n        if (obj) {\n          head.removeHeadObjs(obj);\n        }\n        obj = ref(vnodesToHeadObj(slots.default()));\n        head.addHeadObjs(obj);\n        if (IS_BROWSER) {\n          head.updateDOM();\n        }\n      });\n      return null;\n    };\n  }\n});\nexport {\n  Head,\n  createHead,\n  injectHead,\n  renderHeadToString,\n  useHead\n};\n","import { createHead, renderHeadToString } from \"@vueuse/head\";\nimport { computed, ref, watchEffect, onBeforeUnmount, getCurrentInstance } from \"vue\";\nimport defu from \"defu\";\nimport { defineNuxtPlugin } from \"#app\";\nexport default defineNuxtPlugin((nuxtApp) => {\n  const head = createHead();\n  nuxtApp.vueApp.use(head);\n  let headReady = false;\n  nuxtApp.hooks.hookOnce(\"app:mounted\", () => {\n    watchEffect(() => {\n      head.updateDOM();\n    });\n    headReady = true;\n  });\n  nuxtApp._useHead = (_meta) => {\n    const meta = ref(_meta);\n    const headObj = computed(() => {\n      const overrides = { meta: [] };\n      if (meta.value.charset) {\n        overrides.meta.push({ key: \"charset\", charset: meta.value.charset });\n      }\n      if (meta.value.viewport) {\n        overrides.meta.push({ name: \"viewport\", content: meta.value.viewport });\n      }\n      return defu(overrides, meta.value);\n    });\n    head.addHeadObjs(headObj);\n    if (process.server) {\n      return;\n    }\n    if (headReady) {\n      watchEffect(() => {\n        head.updateDOM();\n      });\n    }\n    const vm = getCurrentInstance();\n    if (!vm) {\n      return;\n    }\n    onBeforeUnmount(() => {\n      head.removeHeadObjs(headObj);\n      head.updateDOM();\n    });\n  };\n  if (process.server) {\n    nuxtApp.ssrContext.renderMeta = () => {\n      const meta = renderHeadToString(head);\n      return {\n        ...meta,\n        bodyScripts: meta.bodyTags\n      };\n    };\n  }\n});\n","import { defineComponent } from \"vue\";\nimport { useHead } from \"./composables.mjs\";\nconst removeUndefinedProps = (props) => Object.fromEntries(Object.entries(props).filter(([, value]) => value !== void 0));\nconst setupForUseMeta = (metaFactory, renderChild) => (props, ctx) => {\n  useHead(() => metaFactory({ ...removeUndefinedProps(props), ...ctx.attrs }, ctx));\n  return () => renderChild ? ctx.slots.default?.() : null;\n};\nconst globalProps = {\n  accesskey: String,\n  autocapitalize: String,\n  autofocus: {\n    type: Boolean,\n    default: void 0\n  },\n  class: String,\n  contenteditable: {\n    type: Boolean,\n    default: void 0\n  },\n  contextmenu: String,\n  dir: String,\n  draggable: {\n    type: Boolean,\n    default: void 0\n  },\n  enterkeyhint: String,\n  exportparts: String,\n  hidden: {\n    type: Boolean,\n    default: void 0\n  },\n  id: String,\n  inputmode: String,\n  is: String,\n  itemid: String,\n  itemprop: String,\n  itemref: String,\n  itemscope: String,\n  itemtype: String,\n  lang: String,\n  nonce: String,\n  part: String,\n  slot: String,\n  spellcheck: {\n    type: Boolean,\n    default: void 0\n  },\n  style: String,\n  tabindex: String,\n  title: String,\n  translate: String\n};\nexport const Script = defineComponent({\n  name: \"Script\",\n  inheritAttrs: false,\n  props: {\n    ...globalProps,\n    async: Boolean,\n    crossorigin: {\n      type: [Boolean, String],\n      default: void 0\n    },\n    defer: Boolean,\n    fetchpriority: String,\n    integrity: String,\n    nomodule: Boolean,\n    nonce: String,\n    referrerpolicy: String,\n    src: String,\n    type: String,\n    charset: String,\n    language: String\n  },\n  setup: setupForUseMeta((script) => ({\n    script: [script]\n  }))\n});\nexport const NoScript = defineComponent({\n  name: \"NoScript\",\n  inheritAttrs: false,\n  props: {\n    ...globalProps,\n    title: String\n  },\n  setup: setupForUseMeta((props, { slots }) => {\n    const noscript = { ...props };\n    const textContent = (slots.default?.() || []).filter(({ children }) => children).map(({ children }) => children).join(\"\");\n    if (textContent) {\n      noscript.children = textContent;\n    }\n    return {\n      noscript: [noscript]\n    };\n  })\n});\nexport const Link = defineComponent({\n  name: \"Link\",\n  inheritAttrs: false,\n  props: {\n    ...globalProps,\n    as: String,\n    crossorigin: String,\n    disabled: Boolean,\n    fetchpriority: String,\n    href: String,\n    hreflang: String,\n    imagesizes: String,\n    imagesrcset: String,\n    integrity: String,\n    media: String,\n    prefetch: {\n      type: Boolean,\n      default: void 0\n    },\n    referrerpolicy: String,\n    rel: String,\n    sizes: String,\n    title: String,\n    type: String,\n    methods: String,\n    target: String\n  },\n  setup: setupForUseMeta((link) => ({\n    link: [link]\n  }))\n});\nexport const Base = defineComponent({\n  name: \"Base\",\n  inheritAttrs: false,\n  props: {\n    ...globalProps,\n    href: String,\n    target: String\n  },\n  setup: setupForUseMeta((base) => ({\n    base\n  }))\n});\nexport const Title = defineComponent({\n  name: \"Title\",\n  inheritAttrs: false,\n  setup: setupForUseMeta((_, { slots }) => {\n    const title = slots.default?.()?.[0]?.children || null;\n    if (process.dev && title && typeof title !== \"string\") {\n      console.error(\"<Title> can only take a string in its default slot.\");\n    }\n    return {\n      title\n    };\n  })\n});\nexport const Meta = defineComponent({\n  name: \"Meta\",\n  inheritAttrs: false,\n  props: {\n    ...globalProps,\n    charset: String,\n    content: String,\n    httpEquiv: String,\n    name: String\n  },\n  setup: setupForUseMeta((props) => {\n    const meta = { ...props };\n    if (meta.httpEquiv) {\n      meta[\"http-equiv\"] = meta.httpEquiv;\n      delete meta.httpEquiv;\n    }\n    return {\n      meta: [meta]\n    };\n  })\n});\nexport const Style = defineComponent({\n  name: \"Style\",\n  inheritAttrs: false,\n  props: {\n    ...globalProps,\n    type: String,\n    media: String,\n    nonce: String,\n    title: String,\n    scoped: {\n      type: Boolean,\n      default: void 0\n    }\n  },\n  setup: setupForUseMeta((props, { slots }) => {\n    const style = { ...props };\n    const textContent = slots.default?.()?.[0]?.children;\n    if (textContent) {\n      if (process.dev && typeof textContent !== \"string\") {\n        console.error(\"<Style> can only take a string in its default slot.\");\n      }\n      style.children = textContent;\n    }\n    return {\n      style: [style]\n    };\n  })\n});\nexport const Head = defineComponent({\n  name: \"Head\",\n  inheritAttrs: false,\n  setup: (_props, ctx) => () => ctx.slots.default?.()\n});\nexport const Html = defineComponent({\n  name: \"Html\",\n  inheritAttrs: false,\n  props: {\n    ...globalProps,\n    manifest: String,\n    version: String,\n    xmlns: String\n  },\n  setup: setupForUseMeta((htmlAttrs) => ({ htmlAttrs }), true)\n});\nexport const Body = defineComponent({\n  name: \"Body\",\n  inheritAttrs: false,\n  props: globalProps,\n  setup: setupForUseMeta((bodyAttrs) => ({ bodyAttrs }), true)\n});\n","export const appBaseURL = \"/\"\n\nexport const appBuildAssetsDir = \"/_nuxt/\"\n\nexport const appAssetsPath = {}\n\nexport const appCdnURL = \"\"\n\nexport const appHead = {\"meta\":[],\"link\":[],\"style\":[],\"script\":[],\"noscript\":[],\"charset\":\"utf-8\",\"viewport\":\"width=device-width, initial-scale=1\"}\n\nexport const appLayoutTransition = {\"name\":\"layout\",\"mode\":\"out-in\"}\n\nexport const appPageTransition = {\"name\":\"page\",\"mode\":\"out-in\"}\n\nexport const appKeepalive = false","import { computed, getCurrentInstance, markRaw } from \"vue\";\nimport * as Components from \"./components.mjs\";\nimport { useHead } from \"./composables.mjs\";\nimport { defineNuxtPlugin, useNuxtApp } from \"#app\";\nimport { appHead } from \"#build/nuxt.config.mjs\";\nconst metaMixin = {\n  created() {\n    const instance = getCurrentInstance();\n    if (!instance) {\n      return;\n    }\n    const options = instance.type;\n    if (!options || !(\"head\" in options)) {\n      return;\n    }\n    const nuxtApp = useNuxtApp();\n    const source = typeof options.head === \"function\" ? computed(() => options.head(nuxtApp)) : options.head;\n    useHead(source);\n  }\n};\nexport default defineNuxtPlugin((nuxtApp) => {\n  useHead(markRaw({ title: \"\", ...appHead }));\n  nuxtApp.vueApp.mixin(metaMixin);\n  for (const name in Components) {\n    nuxtApp.vueApp.component(name, Components[name]);\n  }\n});\n","import { KeepAlive, h } from \"vue\";\nconst interpolatePath = (route, match) => {\n  return match.path.replace(/(:\\w+)\\([^)]+\\)/g, \"$1\").replace(/(:\\w+)[?+*]/g, \"$1\").replace(/:\\w+/g, (r) => route.params[r.slice(1)]?.toString() || \"\");\n};\nexport const generateRouteKey = (override, routeProps) => {\n  const matchedRoute = routeProps.route.matched.find((m) => m.components?.default === routeProps.Component.type);\n  const source = override ?? matchedRoute?.meta.key ?? (matchedRoute && interpolatePath(routeProps.route, matchedRoute));\n  return typeof source === \"function\" ? source(routeProps.route) : source;\n};\nexport const wrapInKeepAlive = (props, children) => {\n  return { default: () => process.client && props ? h(KeepAlive, props === true ? {} : props, children) : children };\n};\n","import { defineComponent, h } from \"vue\";\nconst Fragment = defineComponent({\n  setup(_props, { slots }) {\n    return () => slots.default?.();\n  }\n});\nexport const _wrapIf = (component, props, slots) => {\n  return { default: () => props ? h(component, props === true ? {} : props, slots) : h(Fragment, {}, slots) };\n};\n","import { computed, defineComponent, h, inject, provide, reactive, onMounted, nextTick, Suspense, Transition } from \"vue\";\nimport { RouterView } from \"vue-router\";\nimport { generateRouteKey, wrapInKeepAlive } from \"./utils.mjs\";\nimport { useNuxtApp } from \"#app\";\nimport { _wrapIf } from \"#app/components/utils\";\nimport { appPageTransition as defaultPageTransition, appKeepalive as defaultKeepaliveConfig } from \"#build/nuxt.config.mjs\";\nconst isNestedKey = Symbol(\"isNested\");\nexport default defineComponent({\n  name: \"NuxtPage\",\n  inheritAttrs: false,\n  props: {\n    name: {\n      type: String\n    },\n    transition: {\n      type: [Boolean, Object],\n      default: void 0\n    },\n    keepalive: {\n      type: [Boolean, Object],\n      default: void 0\n    },\n    route: {\n      type: Object\n    },\n    pageKey: {\n      type: [Function, String],\n      default: null\n    }\n  },\n  setup(props, { attrs }) {\n    const nuxtApp = useNuxtApp();\n    const isNested = inject(isNestedKey, false);\n    provide(isNestedKey, true);\n    return () => {\n      return h(RouterView, { name: props.name, route: props.route, ...attrs }, {\n        default: (routeProps) => {\n          if (!routeProps.Component) {\n            return;\n          }\n          const key = generateRouteKey(props.pageKey, routeProps);\n          const transitionProps = props.transition ?? routeProps.route.meta.pageTransition ?? defaultPageTransition;\n          return _wrapIf(\n            Transition,\n            transitionProps,\n            wrapInKeepAlive(\n              props.keepalive ?? routeProps.route.meta.keepalive ?? defaultKeepaliveConfig,\n              isNested && nuxtApp.isHydrating ? h(Component, { key, routeProps, pageKey: key, hasTransition: !!transitionProps }) : h(Suspense, {\n                onPending: () => nuxtApp.callHook(\"page:start\", routeProps.Component),\n                onResolve: () => nuxtApp.callHook(\"page:finish\", routeProps.Component)\n              }, { default: () => h(Component, { key, routeProps, pageKey: key, hasTransition: !!transitionProps }) })\n            )\n          ).default();\n        }\n      });\n    };\n  }\n});\nconst Component = defineComponent({\n  props: [\"routeProps\", \"pageKey\", \"hasTransition\"],\n  setup(props) {\n    const previousKey = props.pageKey;\n    const previousRoute = props.routeProps.route;\n    const route = {};\n    for (const key in props.routeProps.route) {\n      route[key] = computed(() => previousKey === props.pageKey ? props.routeProps.route[key] : previousRoute[key]);\n    }\n    provide(\"_route\", reactive(route));\n    let vnode;\n    if (process.dev && process.client && props.hasTransition) {\n      onMounted(() => {\n        nextTick(() => {\n          if ([\"#comment\", \"#text\"].includes(vnode?.el?.nodeName)) {\n            const filename = (vnode?.type).__file;\n            console.warn(`[nuxt] \\`${filename}\\` does not have a single root node and will cause errors when navigating between routes.`);\n          }\n        });\n      });\n    }\n    return () => {\n      if (process.dev && process.client) {\n        vnode = h(props.routeProps.Component);\n        return vnode;\n      }\n      return h(props.routeProps.Component);\n    };\n  }\n});\n","<script setup lang=\"ts\"></script>\n\n<template>\n  <svg viewBox=\"0 0 100 100\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path\n      d=\"M0 50C0 8.825 8.825 0 50 0C91.175 0 100 8.825 100 50C100 91.175 91.175 100 50 100C8.825 100 0 91.175 0 50Z\"\n      fill=\"#2D2D2D\"\n    />\n    <path\n      d=\"M29.4375 30.4688H46.25V72.9375H29.4375V30.4688ZM51.4375 42.0312C51.4375 37.4271 52.6042 34.3333 54.9375 32.75C57.1458 31.2708 61.3021 30.5312 67.4062 30.5312H70.5625V36.4375C70.5625 41.1458 69.3646 44.5 66.9688 46.5C64.5312 48.5 60.3333 49.5 54.375 49.5H51.4375V42.0312ZM51.4375 52.75H54.375C60.25 52.75 64.4479 53.9167 66.9688 56.25C69.3646 58.4792 70.5625 62 70.5625 66.8125V73H67.4062C61.4271 73 57.2708 72.1042 54.9375 70.3125C52.6042 68.5 51.4375 65.25 51.4375 60.5625V52.75Z\"\n      fill=\"white\"\n    />\n  </svg>\n</template>\n","<template>\n  <div class=\"my-20 flex flex-col justify-center w-full items-center\">\n    <Logo class=\"w-12 h-12 animate-spin animate-duration-1500 animate-ease-in-out\"></Logo>\n    <div class=\"mt-12 font-medium text-gray-400 flex\">\n      <p class=\"mr-2\">Tips:</p>\n      <p>⌘ + K to search for commands</p>\n    </div>\n  </div>\n</template>\n","import { useState } from \"#imports\";\nexport const useSupabaseUser = () => useState(\"supabase_user\");\n","export const version = '1.35.7';\n//# sourceMappingURL=version.js.map","// constants.ts\nimport { version } from './version';\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `supabase-js/${version}` };\nexport const STORAGE_KEY = 'supabase.auth.token';\n//# sourceMappingURL=constants.js.map","// helpers.ts\nexport function uuid() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        var r = (Math.random() * 16) | 0, v = c == 'x' ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n}\nexport function stripTrailingSlash(url) {\n    return url.replace(/\\/$/, '');\n}\nexport const isBrowser = () => typeof window !== 'undefined';\n//# sourceMappingURL=helpers.js.map","// generated by genversion\nexport const version = '1.23.1';\n//# sourceMappingURL=version.js.map","import { version } from './version';\nexport const GOTRUE_URL = 'http://localhost:9999';\nexport const AUDIENCE = '';\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `gotrue-js/${version}` };\nexport const EXPIRY_MARGIN = 10; // in seconds\nexport const NETWORK_FAILURE = {\n    ERROR_MESSAGE: 'Request Failed',\n    MAX_RETRIES: 10,\n    RETRY_INTERVAL: 2, // in deciseconds\n};\nexport const STORAGE_KEY = 'supabase.auth.token';\nexport const COOKIE_OPTIONS = {\n    name: 'sb',\n    lifetime: 60 * 60 * 8,\n    domain: '',\n    path: '/',\n    sameSite: 'lax',\n};\n//# sourceMappingURL=constants.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { NETWORK_FAILURE } from './constants';\nconst _getErrorMessage = (err) => err.msg || err.message || err.error_description || err.error || JSON.stringify(err);\nconst handleError = (error, reject) => {\n    if (!(error === null || error === void 0 ? void 0 : error.status)) {\n        return reject({ message: NETWORK_FAILURE.ERROR_MESSAGE });\n    }\n    if (typeof error.json !== 'function') {\n        return reject(error);\n    }\n    error.json().then((err) => {\n        return reject({\n            message: _getErrorMessage(err),\n            status: (error === null || error === void 0 ? void 0 : error.status) || 500,\n        });\n    });\n};\nconst _getRequestParams = (method, options, body) => {\n    const params = { method, headers: (options === null || options === void 0 ? void 0 : options.headers) || {} };\n    if (method === 'GET') {\n        return params;\n    }\n    params.headers = Object.assign({ 'Content-Type': 'application/json;charset=UTF-8' }, options === null || options === void 0 ? void 0 : options.headers);\n    params.body = JSON.stringify(body);\n    return params;\n};\nfunction _handleRequest(fetcher, method, url, options, body) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve, reject) => {\n            fetcher(url, _getRequestParams(method, options, body))\n                .then((result) => {\n                if (!result.ok)\n                    throw result;\n                if (options === null || options === void 0 ? void 0 : options.noResolveJson)\n                    return resolve;\n                return result.json();\n            })\n                .then((data) => resolve(data))\n                .catch((error) => handleError(error, reject));\n        });\n    });\n}\nexport function get(fetcher, url, options) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return _handleRequest(fetcher, 'GET', url, options);\n    });\n}\nexport function post(fetcher, url, body, options) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return _handleRequest(fetcher, 'POST', url, options, body);\n    });\n}\nexport function put(fetcher, url, body, options) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return _handleRequest(fetcher, 'PUT', url, options, body);\n    });\n}\nexport function remove(fetcher, url, body, options) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return _handleRequest(fetcher, 'DELETE', url, options, body);\n    });\n}\n//# sourceMappingURL=fetch.js.map","/**\n * Serialize data into a cookie header.\n */\nfunction serialize(name, val, options) {\n    const opt = options || {};\n    const enc = encodeURIComponent;\n    /* eslint-disable-next-line no-control-regex */\n    const fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n    if (typeof enc !== 'function') {\n        throw new TypeError('option encode is invalid');\n    }\n    if (!fieldContentRegExp.test(name)) {\n        throw new TypeError('argument name is invalid');\n    }\n    const value = enc(val);\n    if (value && !fieldContentRegExp.test(value)) {\n        throw new TypeError('argument val is invalid');\n    }\n    let str = name + '=' + value;\n    if (null != opt.maxAge) {\n        const maxAge = opt.maxAge - 0;\n        if (isNaN(maxAge) || !isFinite(maxAge)) {\n            throw new TypeError('option maxAge is invalid');\n        }\n        str += '; Max-Age=' + Math.floor(maxAge);\n    }\n    if (opt.domain) {\n        if (!fieldContentRegExp.test(opt.domain)) {\n            throw new TypeError('option domain is invalid');\n        }\n        str += '; Domain=' + opt.domain;\n    }\n    if (opt.path) {\n        if (!fieldContentRegExp.test(opt.path)) {\n            throw new TypeError('option path is invalid');\n        }\n        str += '; Path=' + opt.path;\n    }\n    if (opt.expires) {\n        if (typeof opt.expires.toUTCString !== 'function') {\n            throw new TypeError('option expires is invalid');\n        }\n        str += '; Expires=' + opt.expires.toUTCString();\n    }\n    if (opt.httpOnly) {\n        str += '; HttpOnly';\n    }\n    if (opt.secure) {\n        str += '; Secure';\n    }\n    if (opt.sameSite) {\n        const sameSite = typeof opt.sameSite === 'string' ? opt.sameSite.toLowerCase() : opt.sameSite;\n        switch (sameSite) {\n            case 'lax':\n                str += '; SameSite=Lax';\n                break;\n            case 'strict':\n                str += '; SameSite=Strict';\n                break;\n            case 'none':\n                str += '; SameSite=None';\n                break;\n            default:\n                throw new TypeError('option sameSite is invalid');\n        }\n    }\n    return str;\n}\n/**\n * Based on the environment and the request we know if a secure cookie can be set.\n */\nfunction isSecureEnvironment(req) {\n    if (!req || !req.headers || !req.headers.host) {\n        throw new Error('The \"host\" request header is not available');\n    }\n    const host = (req.headers.host.indexOf(':') > -1 && req.headers.host.split(':')[0]) || req.headers.host;\n    if (['localhost', '127.0.0.1'].indexOf(host) > -1 || host.endsWith('.local')) {\n        return false;\n    }\n    return true;\n}\n/**\n * Serialize a cookie to a string.\n */\nfunction serializeCookie(cookie, secure) {\n    var _a, _b, _c;\n    return serialize(cookie.name, cookie.value, {\n        maxAge: cookie.maxAge,\n        expires: new Date(Date.now() + cookie.maxAge * 1000),\n        httpOnly: true,\n        secure,\n        path: (_a = cookie.path) !== null && _a !== void 0 ? _a : '/',\n        domain: (_b = cookie.domain) !== null && _b !== void 0 ? _b : '',\n        sameSite: (_c = cookie.sameSite) !== null && _c !== void 0 ? _c : 'lax',\n    });\n}\n/**\n * Get Cookie Header strings.\n */\nexport function getCookieString(req, res, cookies) {\n    const strCookies = cookies.map((c) => serializeCookie(c, isSecureEnvironment(req)));\n    const previousCookies = res.getHeader('Set-Cookie');\n    if (previousCookies) {\n        if (previousCookies instanceof Array) {\n            Array.prototype.push.apply(strCookies, previousCookies);\n        }\n        else if (typeof previousCookies === 'string') {\n            strCookies.push(previousCookies);\n        }\n    }\n    return strCookies;\n}\n/**\n * Set one or more cookies.\n */\nexport function setCookies(req, res, cookies) {\n    res.setHeader('Set-Cookie', getCookieString(req, res, cookies));\n}\n/**\n * Set one or more cookies.\n */\nexport function setCookie(req, res, cookie) {\n    setCookies(req, res, [cookie]);\n}\nexport function deleteCookie(req, res, name) {\n    setCookie(req, res, {\n        name,\n        value: '',\n        maxAge: -1,\n    });\n}\n//# sourceMappingURL=cookies.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nexport function expiresAt(expiresIn) {\n    const timeNow = Math.round(Date.now() / 1000);\n    return timeNow + expiresIn;\n}\nexport function uuid() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        const r = (Math.random() * 16) | 0, v = c == 'x' ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n}\nexport const isBrowser = () => typeof window !== 'undefined';\nexport function getParameterByName(name, url) {\n    var _a;\n    if (!url)\n        url = ((_a = window === null || window === void 0 ? void 0 : window.location) === null || _a === void 0 ? void 0 : _a.href) || '';\n    // eslint-disable-next-line no-useless-escape\n    name = name.replace(/[\\[\\]]/g, '\\\\$&');\n    const regex = new RegExp('[?&#]' + name + '(=([^&#]*)|&|#|$)'), results = regex.exec(url);\n    if (!results)\n        return null;\n    if (!results[2])\n        return '';\n    return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n}\nexport const resolveFetch = (customFetch) => {\n    let _fetch;\n    if (customFetch) {\n        _fetch = customFetch;\n    }\n    else if (typeof fetch === 'undefined') {\n        _fetch = (...args) => __awaiter(void 0, void 0, void 0, function* () { return yield (yield import('cross-fetch')).fetch(...args); });\n    }\n    else {\n        _fetch = fetch;\n    }\n    return (...args) => _fetch(...args);\n};\n// LocalStorage helpers\nexport const setItemAsync = (storage, key, data) => __awaiter(void 0, void 0, void 0, function* () {\n    isBrowser() && (yield (storage === null || storage === void 0 ? void 0 : storage.setItem(key, JSON.stringify(data))));\n});\nexport const getItemAsync = (storage, key) => __awaiter(void 0, void 0, void 0, function* () {\n    const value = isBrowser() && (yield (storage === null || storage === void 0 ? void 0 : storage.getItem(key)));\n    if (!value)\n        return null;\n    try {\n        return JSON.parse(value);\n    }\n    catch (_a) {\n        return value;\n    }\n});\nexport const getItemSynchronously = (storage, key) => {\n    const value = isBrowser() && (storage === null || storage === void 0 ? void 0 : storage.getItem(key));\n    if (!value || typeof value !== 'string') {\n        return null;\n    }\n    try {\n        return JSON.parse(value);\n    }\n    catch (_a) {\n        return value;\n    }\n};\nexport const removeItemAsync = (storage, key) => __awaiter(void 0, void 0, void 0, function* () {\n    isBrowser() && (yield (storage === null || storage === void 0 ? void 0 : storage.removeItem(key)));\n});\n//# sourceMappingURL=helpers.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { get, post, put, remove } from './lib/fetch';\nimport { COOKIE_OPTIONS } from './lib/constants';\nimport { setCookies, getCookieString } from './lib/cookies';\nimport { expiresAt, resolveFetch } from './lib/helpers';\nexport default class GoTrueApi {\n    constructor({ url = '', headers = {}, cookieOptions, fetch, }) {\n        this.url = url;\n        this.headers = headers;\n        this.cookieOptions = Object.assign(Object.assign({}, COOKIE_OPTIONS), cookieOptions);\n        this.fetch = resolveFetch(fetch);\n    }\n    /**\n     * Create a temporary object with all configured headers and\n     * adds the Authorization token to be used on request methods\n     * @param jwt A valid, logged-in JWT.\n     */\n    _createRequestHeaders(jwt) {\n        const headers = Object.assign({}, this.headers);\n        headers['Authorization'] = `Bearer ${jwt}`;\n        return headers;\n    }\n    cookieName() {\n        var _a;\n        return (_a = this.cookieOptions.name) !== null && _a !== void 0 ? _a : '';\n    }\n    /**\n     * Generates the relevant login URL for a third-party provider.\n     * @param provider One of the providers supported by GoTrue.\n     * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n     * @param scopes A space-separated list of scopes granted to the OAuth application.\n     */\n    getUrlForProvider(provider, options) {\n        const urlParams = [`provider=${encodeURIComponent(provider)}`];\n        if (options === null || options === void 0 ? void 0 : options.redirectTo) {\n            urlParams.push(`redirect_to=${encodeURIComponent(options.redirectTo)}`);\n        }\n        if (options === null || options === void 0 ? void 0 : options.scopes) {\n            urlParams.push(`scopes=${encodeURIComponent(options.scopes)}`);\n        }\n        if (options === null || options === void 0 ? void 0 : options.queryParams) {\n            const query = new URLSearchParams(options.queryParams);\n            urlParams.push(`${query}`);\n        }\n        return `${this.url}/authorize?${urlParams.join('&')}`;\n    }\n    /**\n     * Creates a new user using their email address.\n     * @param email The email address of the user.\n     * @param password The password of the user.\n     * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n     * @param data Optional user metadata.\n     * @param captchaToken Verification token received when the user completes the captcha on your site.\n     *\n     * @returns A logged-in session if the server has \"autoconfirm\" ON\n     * @returns A user if the server has \"autoconfirm\" OFF\n     */\n    signUpWithEmail(email, password, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const headers = Object.assign({}, this.headers);\n                let queryString = '';\n                if (options.redirectTo) {\n                    queryString = '?redirect_to=' + encodeURIComponent(options.redirectTo);\n                }\n                const data = yield post(this.fetch, `${this.url}/signup${queryString}`, {\n                    email,\n                    password,\n                    data: options.data,\n                    gotrue_meta_security: { captcha_token: options.captchaToken },\n                }, { headers });\n                const session = Object.assign({}, data);\n                if (session.expires_in)\n                    session.expires_at = expiresAt(data.expires_in);\n                return { data: session, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Logs in an existing user using their email address.\n     * @param email The email address of the user.\n     * @param password The password of the user.\n     * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n     * @param captchaToken Verification token received when the user completes the captcha on your site.\n     */\n    signInWithEmail(email, password, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const headers = Object.assign({}, this.headers);\n                let queryString = '?grant_type=password';\n                if (options.redirectTo) {\n                    queryString += '&redirect_to=' + encodeURIComponent(options.redirectTo);\n                }\n                const data = yield post(this.fetch, `${this.url}/token${queryString}`, { email, password, gotrue_meta_security: { captcha_token: options.captchaToken } }, { headers });\n                const session = Object.assign({}, data);\n                if (session.expires_in)\n                    session.expires_at = expiresAt(data.expires_in);\n                return { data: session, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Signs up a new user using their phone number and a password.\n     * @param phone The phone number of the user.\n     * @param password The password of the user.\n     * @param data Optional user metadata.\n     * @param captchaToken Verification token received when the user completes the captcha on your site.\n     */\n    signUpWithPhone(phone, password, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const headers = Object.assign({}, this.headers);\n                const data = yield post(this.fetch, `${this.url}/signup`, {\n                    phone,\n                    password,\n                    data: options.data,\n                    gotrue_meta_security: { captcha_token: options.captchaToken },\n                }, { headers });\n                const session = Object.assign({}, data);\n                if (session.expires_in)\n                    session.expires_at = expiresAt(data.expires_in);\n                return { data: session, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Logs in an existing user using their phone number and password.\n     * @param phone The phone number of the user.\n     * @param password The password of the user.\n     * @param captchaToken Verification token received when the user completes the captcha on your site.\n     */\n    signInWithPhone(phone, password, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const headers = Object.assign({}, this.headers);\n                const queryString = '?grant_type=password';\n                const data = yield post(this.fetch, `${this.url}/token${queryString}`, { phone, password, gotrue_meta_security: { captcha_token: options.captchaToken } }, { headers });\n                const session = Object.assign({}, data);\n                if (session.expires_in)\n                    session.expires_at = expiresAt(data.expires_in);\n                return { data: session, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Logs in an OpenID Connect user using their id_token.\n     * @param id_token The IDToken of the user.\n     * @param nonce The nonce of the user. The nonce is a random value generated by the developer (= yourself) before the initial grant is started. You should check the OpenID Connect specification for details. https://openid.net/developers/specs/\n     * @param provider The provider of the user.\n     * @param client_id The clientID of the user.\n     * @param issuer The issuer of the user.\n     */\n    signInWithOpenIDConnect({ id_token, nonce, client_id, issuer, provider, }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const headers = Object.assign({}, this.headers);\n                const queryString = '?grant_type=id_token';\n                const data = yield post(this.fetch, `${this.url}/token${queryString}`, { id_token, nonce, client_id, issuer, provider }, { headers });\n                const session = Object.assign({}, data);\n                if (session.expires_in)\n                    session.expires_at = expiresAt(data.expires_in);\n                return { data: session, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Sends a magic login link to an email address.\n     * @param email The email address of the user.\n     * @param shouldCreateUser A boolean flag to indicate whether to automatically create a user on magiclink / otp sign-ins if the user doesn't exist. Defaults to true.\n     * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n     * @param captchaToken Verification token received when the user completes the captcha on your site.\n     */\n    sendMagicLinkEmail(email, options = {}) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const headers = Object.assign({}, this.headers);\n                let queryString = '';\n                if (options.redirectTo) {\n                    queryString += '?redirect_to=' + encodeURIComponent(options.redirectTo);\n                }\n                const shouldCreateUser = (_a = options.shouldCreateUser) !== null && _a !== void 0 ? _a : true;\n                const data = yield post(this.fetch, `${this.url}/otp${queryString}`, {\n                    email,\n                    create_user: shouldCreateUser,\n                    gotrue_meta_security: { captcha_token: options.captchaToken },\n                }, { headers });\n                return { data, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Sends a mobile OTP via SMS. Will register the account if it doesn't already exist\n     * @param phone The user's phone number WITH international prefix\n     * @param shouldCreateUser A boolean flag to indicate whether to automatically create a user on magiclink / otp sign-ins if the user doesn't exist. Defaults to true.\n     * @param captchaToken Verification token received when the user completes the captcha on your site.\n     */\n    sendMobileOTP(phone, options = {}) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const shouldCreateUser = (_a = options.shouldCreateUser) !== null && _a !== void 0 ? _a : true;\n                const headers = Object.assign({}, this.headers);\n                const data = yield post(this.fetch, `${this.url}/otp`, {\n                    phone,\n                    create_user: shouldCreateUser,\n                    gotrue_meta_security: { captcha_token: options.captchaToken },\n                }, { headers });\n                return { data, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Removes a logged-in session.\n     * @param jwt A valid, logged-in JWT.\n     */\n    signOut(jwt) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                yield post(this.fetch, `${this.url}/logout`, {}, { headers: this._createRequestHeaders(jwt), noResolveJson: true });\n                return { error: null };\n            }\n            catch (e) {\n                return { error: e };\n            }\n        });\n    }\n    /**\n     * @deprecated Use `verifyOTP` instead!\n     * @param phone The user's phone number WITH international prefix\n     * @param token token that user was sent to their mobile phone\n     * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n     */\n    verifyMobileOTP(phone, token, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const headers = Object.assign({}, this.headers);\n                const data = yield post(this.fetch, `${this.url}/verify`, { phone, token, type: 'sms', redirect_to: options.redirectTo }, { headers });\n                const session = Object.assign({}, data);\n                if (session.expires_in)\n                    session.expires_at = expiresAt(data.expires_in);\n                return { data: session, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Send User supplied Email / Mobile OTP to be verified\n     * @param email The user's email address\n     * @param phone The user's phone number WITH international prefix\n     * @param token token that user was sent to their mobile phone\n     * @param type verification type that the otp is generated for\n     * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n     */\n    verifyOTP({ email, phone, token, type = 'sms' }, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const headers = Object.assign({}, this.headers);\n                const data = yield post(this.fetch, `${this.url}/verify`, { email, phone, token, type, redirect_to: options.redirectTo }, { headers });\n                const session = Object.assign({}, data);\n                if (session.expires_in)\n                    session.expires_at = expiresAt(data.expires_in);\n                return { data: session, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Sends an invite link to an email address.\n     * @param email The email address of the user.\n     * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n     * @param data Optional user metadata\n     */\n    inviteUserByEmail(email, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const headers = Object.assign({}, this.headers);\n                let queryString = '';\n                if (options.redirectTo) {\n                    queryString += '?redirect_to=' + encodeURIComponent(options.redirectTo);\n                }\n                const data = yield post(this.fetch, `${this.url}/invite${queryString}`, { email, data: options.data }, { headers });\n                return { data, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Sends a reset request to an email address.\n     * @param email The email address of the user.\n     * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n     * @param captchaToken Verification token received when the user completes the captcha on your site.\n     */\n    resetPasswordForEmail(email, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const headers = Object.assign({}, this.headers);\n                let queryString = '';\n                if (options.redirectTo) {\n                    queryString += '?redirect_to=' + encodeURIComponent(options.redirectTo);\n                }\n                const data = yield post(this.fetch, `${this.url}/recover${queryString}`, { email, gotrue_meta_security: { captcha_token: options.captchaToken } }, { headers });\n                return { data, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Generates a new JWT.\n     * @param refreshToken A valid refresh token that was returned on login.\n     */\n    refreshAccessToken(refreshToken) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/token?grant_type=refresh_token`, { refresh_token: refreshToken }, { headers: this.headers });\n                const session = Object.assign({}, data);\n                if (session.expires_in)\n                    session.expires_at = expiresAt(data.expires_in);\n                return { data: session, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Set/delete the auth cookie based on the AuthChangeEvent.\n     * Works for Next.js & Express (requires cookie-parser middleware).\n     * @param req The request object.\n     * @param res The response object.\n     */\n    setAuthCookie(req, res) {\n        if (req.method !== 'POST') {\n            res.setHeader('Allow', 'POST');\n            res.status(405).end('Method Not Allowed');\n        }\n        const { event, session } = req.body;\n        if (!event)\n            throw new Error('Auth event missing!');\n        if (event === 'SIGNED_IN') {\n            if (!session)\n                throw new Error('Auth session missing!');\n            setCookies(req, res, [\n                { key: 'access-token', value: session.access_token },\n                { key: 'refresh-token', value: session.refresh_token },\n            ].map((token) => {\n                var _a;\n                return ({\n                    name: `${this.cookieName()}-${token.key}`,\n                    value: token.value,\n                    domain: this.cookieOptions.domain,\n                    maxAge: (_a = this.cookieOptions.lifetime) !== null && _a !== void 0 ? _a : 0,\n                    path: this.cookieOptions.path,\n                    sameSite: this.cookieOptions.sameSite,\n                });\n            }));\n        }\n        if (event === 'SIGNED_OUT') {\n            setCookies(req, res, ['access-token', 'refresh-token'].map((key) => ({\n                name: `${this.cookieName()}-${key}`,\n                value: '',\n                maxAge: -1,\n            })));\n        }\n        res.status(200).json({});\n    }\n    /**\n     * Deletes the Auth Cookies and redirects to the\n     * @param req The request object.\n     * @param res The response object.\n     * @param options Optionally specify a `redirectTo` URL in the options.\n     */\n    deleteAuthCookie(req, res, { redirectTo = '/' }) {\n        setCookies(req, res, ['access-token', 'refresh-token'].map((key) => ({\n            name: `${this.cookieName()}-${key}`,\n            value: '',\n            maxAge: -1,\n        })));\n        return res.redirect(307, redirectTo);\n    }\n    /**\n     * Helper method to generate the Auth Cookie string for you in case you can't use `setAuthCookie`.\n     * @param req The request object.\n     * @param res The response object.\n     * @returns The Cookie string that needs to be set as the value for the `Set-Cookie` header.\n     */\n    getAuthCookieString(req, res) {\n        if (req.method !== 'POST') {\n            res.setHeader('Allow', 'POST');\n            res.status(405).end('Method Not Allowed');\n        }\n        const { event, session } = req.body;\n        if (!event)\n            throw new Error('Auth event missing!');\n        if (event === 'SIGNED_IN') {\n            if (!session)\n                throw new Error('Auth session missing!');\n            return getCookieString(req, res, [\n                { key: 'access-token', value: session.access_token },\n                { key: 'refresh-token', value: session.refresh_token },\n            ].map((token) => {\n                var _a;\n                return ({\n                    name: `${this.cookieName()}-${token.key}`,\n                    value: token.value,\n                    domain: this.cookieOptions.domain,\n                    maxAge: (_a = this.cookieOptions.lifetime) !== null && _a !== void 0 ? _a : 0,\n                    path: this.cookieOptions.path,\n                    sameSite: this.cookieOptions.sameSite,\n                });\n            }));\n        }\n        if (event === 'SIGNED_OUT') {\n            return getCookieString(req, res, ['access-token', 'refresh-token'].map((key) => ({\n                name: `${this.cookieName()}-${key}`,\n                value: '',\n                maxAge: -1,\n            })));\n        }\n        return res.getHeader('Set-Cookie');\n    }\n    /**\n     * Generates links to be sent via email or other.\n     * @param type The link type (\"signup\" or \"magiclink\" or \"recovery\" or \"invite\").\n     * @param email The user's email.\n     * @param password User password. For signup only.\n     * @param data Optional user metadata. For signup only.\n     * @param redirectTo The link type (\"signup\" or \"magiclink\" or \"recovery\" or \"invite\").\n     */\n    generateLink(type, email, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/admin/generate_link`, {\n                    type,\n                    email,\n                    password: options.password,\n                    data: options.data,\n                    redirect_to: options.redirectTo,\n                }, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    // User Admin API\n    /**\n     * Creates a new user.\n     *\n     * This function should only be called on a server. Never expose your `service_role` key in the browser.\n     *\n     * @param attributes The data you want to create the user with.\n     */\n    createUser(attributes) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/admin/users`, attributes, {\n                    headers: this.headers,\n                });\n                return { user: data, data, error: null };\n            }\n            catch (e) {\n                return { user: null, data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Get a list of users.\n     *\n     * This function should only be called on a server. Never expose your `service_role` key in the browser.\n     */\n    listUsers() {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield get(this.fetch, `${this.url}/admin/users`, {\n                    headers: this.headers,\n                });\n                return { data: data.users, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Get user by id.\n     *\n     * @param uid The user's unique identifier\n     *\n     * This function should only be called on a server. Never expose your `service_role` key in the browser.\n     */\n    getUserById(uid) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield get(this.fetch, `${this.url}/admin/users/${uid}`, {\n                    headers: this.headers,\n                });\n                return { data, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Get user by reading the cookie from the request.\n     * Works for Next.js & Express (requires cookie-parser middleware).\n     */\n    getUserByCookie(req, res) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (!req.cookies) {\n                    throw new Error('Not able to parse cookies! When using Express make sure the cookie-parser middleware is in use!');\n                }\n                const access_token = req.cookies[`${this.cookieName()}-access-token`];\n                const refresh_token = req.cookies[`${this.cookieName()}-refresh-token`];\n                if (!access_token) {\n                    throw new Error('No cookie found!');\n                }\n                const { user, error: getUserError } = yield this.getUser(access_token);\n                if (getUserError) {\n                    if (!refresh_token)\n                        throw new Error('No refresh_token cookie found!');\n                    if (!res)\n                        throw new Error('You need to pass the res object to automatically refresh the session!');\n                    const { data, error } = yield this.refreshAccessToken(refresh_token);\n                    if (error) {\n                        throw error;\n                    }\n                    else if (data) {\n                        setCookies(req, res, [\n                            { key: 'access-token', value: data.access_token },\n                            { key: 'refresh-token', value: data.refresh_token },\n                        ].map((token) => {\n                            var _a;\n                            return ({\n                                name: `${this.cookieName()}-${token.key}`,\n                                value: token.value,\n                                domain: this.cookieOptions.domain,\n                                maxAge: (_a = this.cookieOptions.lifetime) !== null && _a !== void 0 ? _a : 0,\n                                path: this.cookieOptions.path,\n                                sameSite: this.cookieOptions.sameSite,\n                            });\n                        }));\n                        return { token: data.access_token, user: data.user, data: data.user, error: null };\n                    }\n                }\n                return { token: access_token, user: user, data: user, error: null };\n            }\n            catch (e) {\n                return { token: null, user: null, data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Updates the user data.\n     *\n     * @param attributes The data you want to update.\n     *\n     * This function should only be called on a server. Never expose your `service_role` key in the browser.\n     */\n    updateUserById(uid, attributes) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                this; //\n                const data = yield put(this.fetch, `${this.url}/admin/users/${uid}`, attributes, {\n                    headers: this.headers,\n                });\n                return { user: data, data, error: null };\n            }\n            catch (e) {\n                return { user: null, data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Delete a user. Requires a `service_role` key.\n     *\n     * This function should only be called on a server. Never expose your `service_role` key in the browser.\n     *\n     * @param uid The user uid you want to remove.\n     */\n    deleteUser(uid) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield remove(this.fetch, `${this.url}/admin/users/${uid}`, {}, {\n                    headers: this.headers,\n                });\n                return { user: data, data, error: null };\n            }\n            catch (e) {\n                return { user: null, data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Gets the current user details.\n     *\n     * This method is called by the GoTrueClient `update` where\n     * the jwt is set to this.currentSession.access_token\n     * and therefore, acts like getting the currently authenticated user\n     *\n     * @param jwt A valid, logged-in JWT. Typically, the access_token for the currentSession\n     */\n    getUser(jwt) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield get(this.fetch, `${this.url}/user`, {\n                    headers: this._createRequestHeaders(jwt),\n                });\n                return { user: data, data, error: null };\n            }\n            catch (e) {\n                return { user: null, data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Updates the user data.\n     * @param jwt A valid, logged-in JWT.\n     * @param attributes The data you want to update.\n     */\n    updateUser(jwt, attributes) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield put(this.fetch, `${this.url}/user`, attributes, {\n                    headers: this._createRequestHeaders(jwt),\n                });\n                return { user: data, data, error: null };\n            }\n            catch (e) {\n                return { user: null, data: null, error: e };\n            }\n        });\n    }\n}\n//# sourceMappingURL=GoTrueApi.js.map","/**\n * https://mathiasbynens.be/notes/globalthis\n */\nexport function polyfillGlobalThis() {\n    if (typeof globalThis === 'object')\n        return;\n    try {\n        Object.defineProperty(Object.prototype, '__magic__', {\n            get: function () {\n                return this;\n            },\n            configurable: true,\n        });\n        // @ts-expect-error 'Allow access to magic'\n        __magic__.globalThis = __magic__;\n        // @ts-expect-error 'Allow access to magic'\n        delete Object.prototype.__magic__;\n    }\n    catch (e) {\n        if (typeof self !== 'undefined') {\n            // @ts-expect-error 'Allow access to globals'\n            self.globalThis = self;\n        }\n    }\n}\n//# sourceMappingURL=polyfills.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport GoTrueApi from './GoTrueApi';\nimport { isBrowser, getParameterByName, uuid, setItemAsync, removeItemAsync, getItemSynchronously, getItemAsync, } from './lib/helpers';\nimport { GOTRUE_URL, DEFAULT_HEADERS, STORAGE_KEY, EXPIRY_MARGIN, NETWORK_FAILURE, } from './lib/constants';\nimport { polyfillGlobalThis } from './lib/polyfills';\npolyfillGlobalThis(); // Make \"globalThis\" available\nconst DEFAULT_OPTIONS = {\n    url: GOTRUE_URL,\n    autoRefreshToken: true,\n    persistSession: true,\n    detectSessionInUrl: true,\n    multiTab: true,\n    headers: DEFAULT_HEADERS,\n};\nexport default class GoTrueClient {\n    /**\n     * Create a new client for use in the browser.\n     * @param options.url The URL of the GoTrue server.\n     * @param options.headers Any additional headers to send to the GoTrue server.\n     * @param options.detectSessionInUrl Set to \"true\" if you want to automatically detects OAuth grants in the URL and signs in the user.\n     * @param options.autoRefreshToken Set to \"true\" if you want to automatically refresh the token before expiring.\n     * @param options.persistSession Set to \"true\" if you want to automatically save the user session into local storage.\n     * @param options.localStorage Provide your own local storage implementation to use instead of the browser's local storage.\n     * @param options.multiTab Set to \"false\" if you want to disable multi-tab/window events.\n     * @param options.cookieOptions\n     * @param options.fetch A custom fetch implementation.\n     */\n    constructor(options) {\n        this.stateChangeEmitters = new Map();\n        this.networkRetries = 0;\n        const settings = Object.assign(Object.assign({}, DEFAULT_OPTIONS), options);\n        this.currentUser = null;\n        this.currentSession = null;\n        this.autoRefreshToken = settings.autoRefreshToken;\n        this.persistSession = settings.persistSession;\n        this.multiTab = settings.multiTab;\n        this.localStorage = settings.localStorage || globalThis.localStorage;\n        this.api = new GoTrueApi({\n            url: settings.url,\n            headers: settings.headers,\n            cookieOptions: settings.cookieOptions,\n            fetch: settings.fetch,\n        });\n        this._recoverSession();\n        this._recoverAndRefresh();\n        this._listenForMultiTabEvents();\n        this._handleVisibilityChange();\n        if (settings.detectSessionInUrl && isBrowser() && !!getParameterByName('access_token')) {\n            // Handle the OAuth redirect\n            this.getSessionFromUrl({ storeSession: true }).then(({ error }) => {\n                if (error) {\n                    throw new Error('Error getting session from URL.');\n                }\n            });\n        }\n    }\n    /**\n     * Creates a new user.\n     * @type UserCredentials\n     * @param email The user's email address.\n     * @param password The user's password.\n     * @param phone The user's phone number.\n     * @param redirectTo The redirect URL attached to the signup confirmation link. Does not redirect the user if it's a mobile signup.\n     * @param data Optional user metadata.\n     */\n    signUp({ email, password, phone }, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                this._removeSession();\n                const { data, error } = phone && password\n                    ? yield this.api.signUpWithPhone(phone, password, {\n                        data: options.data,\n                        captchaToken: options.captchaToken,\n                    })\n                    : yield this.api.signUpWithEmail(email, password, {\n                        redirectTo: options.redirectTo,\n                        data: options.data,\n                        captchaToken: options.captchaToken,\n                    });\n                if (error) {\n                    throw error;\n                }\n                if (!data) {\n                    throw 'An error occurred on sign up.';\n                }\n                let session = null;\n                let user = null;\n                if (data.access_token) {\n                    session = data;\n                    user = session.user;\n                    this._saveSession(session);\n                    this._notifyAllSubscribers('SIGNED_IN');\n                }\n                if (data.id) {\n                    user = data;\n                }\n                return { user, session, error: null };\n            }\n            catch (e) {\n                return { user: null, session: null, error: e };\n            }\n        });\n    }\n    /**\n     * Log in an existing user, or login via a third-party provider.\n     * @type UserCredentials\n     * @param email The user's email address.\n     * @param phone The user's phone number.\n     * @param password The user's password.\n     * @param refreshToken A valid refresh token that was returned on login.\n     * @param provider One of the providers supported by GoTrue.\n     * @param redirectTo A URL to send the user to after they are confirmed (OAuth logins only).\n     * @param shouldCreateUser A boolean flag to indicate whether to automatically create a user on magiclink / otp sign-ins if the user doesn't exist. Defaults to true.\n     * @param scopes A space-separated list of scopes granted to the OAuth application.\n     */\n    signIn({ email, phone, password, refreshToken, provider, oidc }, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                this._removeSession();\n                if (email && !password) {\n                    const { error } = yield this.api.sendMagicLinkEmail(email, {\n                        redirectTo: options.redirectTo,\n                        shouldCreateUser: options.shouldCreateUser,\n                        captchaToken: options.captchaToken,\n                    });\n                    return { user: null, session: null, error };\n                }\n                if (email && password) {\n                    return this._handleEmailSignIn(email, password, {\n                        redirectTo: options.redirectTo,\n                        captchaToken: options.captchaToken,\n                    });\n                }\n                if (phone && !password) {\n                    const { error } = yield this.api.sendMobileOTP(phone, {\n                        shouldCreateUser: options.shouldCreateUser,\n                        captchaToken: options.captchaToken,\n                    });\n                    return { user: null, session: null, error };\n                }\n                if (phone && password) {\n                    return this._handlePhoneSignIn(phone, password);\n                }\n                if (refreshToken) {\n                    // currentSession and currentUser will be updated to latest on _callRefreshToken using the passed refreshToken\n                    const { error } = yield this._callRefreshToken(refreshToken);\n                    if (error)\n                        throw error;\n                    return {\n                        user: this.currentUser,\n                        session: this.currentSession,\n                        error: null,\n                    };\n                }\n                if (provider) {\n                    return this._handleProviderSignIn(provider, {\n                        redirectTo: options.redirectTo,\n                        scopes: options.scopes,\n                        queryParams: options.queryParams,\n                    });\n                }\n                if (oidc) {\n                    return this._handleOpenIDConnectSignIn(oidc);\n                }\n                throw new Error(`You must provide either an email, phone number, a third-party provider or OpenID Connect.`);\n            }\n            catch (e) {\n                return { user: null, session: null, error: e };\n            }\n        });\n    }\n    /**\n     * Log in a user given a User supplied OTP received via mobile.\n     * @param email The user's email address.\n     * @param phone The user's phone number.\n     * @param token The user's password.\n     * @param type The user's verification type.\n     * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n     */\n    verifyOTP(params, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                this._removeSession();\n                const { data, error } = yield this.api.verifyOTP(params, options);\n                if (error) {\n                    throw error;\n                }\n                if (!data) {\n                    throw 'An error occurred on token verification.';\n                }\n                let session = null;\n                let user = null;\n                if (data.access_token) {\n                    session = data;\n                    user = session.user;\n                    this._saveSession(session);\n                    this._notifyAllSubscribers('SIGNED_IN');\n                }\n                if (data.id) {\n                    user = data;\n                }\n                return { user, session, error: null };\n            }\n            catch (e) {\n                return { user: null, session: null, error: e };\n            }\n        });\n    }\n    /**\n     * Inside a browser context, `user()` will return the user data, if there is a logged in user.\n     *\n     * For server-side management, you can get a user through `auth.api.getUserByCookie()`\n     */\n    user() {\n        return this.currentUser;\n    }\n    /**\n     * Returns the session data, if there is an active session.\n     */\n    session() {\n        return this.currentSession;\n    }\n    /**\n     * Force refreshes the session including the user data in case it was updated in a different session.\n     */\n    refreshSession() {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (!((_a = this.currentSession) === null || _a === void 0 ? void 0 : _a.access_token))\n                    throw new Error('Not logged in.');\n                // currentSession and currentUser will be updated to latest on _callRefreshToken\n                const { error } = yield this._callRefreshToken();\n                if (error)\n                    throw error;\n                return { data: this.currentSession, user: this.currentUser, error: null };\n            }\n            catch (e) {\n                return { data: null, user: null, error: e };\n            }\n        });\n    }\n    /**\n     * Updates user data, if there is a logged in user.\n     */\n    update(attributes) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (!((_a = this.currentSession) === null || _a === void 0 ? void 0 : _a.access_token))\n                    throw new Error('Not logged in.');\n                const { user, error } = yield this.api.updateUser(this.currentSession.access_token, attributes);\n                if (error)\n                    throw error;\n                if (!user)\n                    throw Error('Invalid user data.');\n                const session = Object.assign(Object.assign({}, this.currentSession), { user });\n                this._saveSession(session);\n                this._notifyAllSubscribers('USER_UPDATED');\n                return { data: user, user, error: null };\n            }\n            catch (e) {\n                return { data: null, user: null, error: e };\n            }\n        });\n    }\n    /**\n     * Sets the session data from refresh_token and returns current Session and Error\n     * @param refresh_token a JWT token\n     */\n    setSession(refresh_token) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (!refresh_token) {\n                    throw new Error('No current session.');\n                }\n                const { data, error } = yield this.api.refreshAccessToken(refresh_token);\n                if (error) {\n                    return { session: null, error: error };\n                }\n                this._saveSession(data);\n                this._notifyAllSubscribers('SIGNED_IN');\n                return { session: data, error: null };\n            }\n            catch (e) {\n                return { error: e, session: null };\n            }\n        });\n    }\n    /**\n     * Overrides the JWT on the current client. The JWT will then be sent in all subsequent network requests.\n     * @param access_token a jwt access token\n     */\n    setAuth(access_token) {\n        this.currentSession = Object.assign(Object.assign({}, this.currentSession), { access_token, token_type: 'bearer', user: this.user() });\n        this._notifyAllSubscribers('TOKEN_REFRESHED');\n        return this.currentSession;\n    }\n    /**\n     * Gets the session data from a URL string\n     * @param options.storeSession Optionally store the session in the browser\n     */\n    getSessionFromUrl(options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (!isBrowser())\n                    throw new Error('No browser detected.');\n                const error_description = getParameterByName('error_description');\n                if (error_description)\n                    throw new Error(error_description);\n                const provider_token = getParameterByName('provider_token');\n                const provider_refresh_token = getParameterByName('provider_refresh_token');\n                const access_token = getParameterByName('access_token');\n                if (!access_token)\n                    throw new Error('No access_token detected.');\n                const expires_in = getParameterByName('expires_in');\n                if (!expires_in)\n                    throw new Error('No expires_in detected.');\n                const refresh_token = getParameterByName('refresh_token');\n                if (!refresh_token)\n                    throw new Error('No refresh_token detected.');\n                const token_type = getParameterByName('token_type');\n                if (!token_type)\n                    throw new Error('No token_type detected.');\n                const timeNow = Math.round(Date.now() / 1000);\n                const expires_at = timeNow + parseInt(expires_in);\n                const { user, error } = yield this.api.getUser(access_token);\n                if (error)\n                    throw error;\n                const session = {\n                    provider_token,\n                    provider_refresh_token,\n                    access_token,\n                    expires_in: parseInt(expires_in),\n                    expires_at,\n                    refresh_token,\n                    token_type,\n                    user: user,\n                };\n                if (options === null || options === void 0 ? void 0 : options.storeSession) {\n                    this._saveSession(session);\n                    const recoveryMode = getParameterByName('type');\n                    this._notifyAllSubscribers('SIGNED_IN');\n                    if (recoveryMode === 'recovery') {\n                        this._notifyAllSubscribers('PASSWORD_RECOVERY');\n                    }\n                }\n                // Remove tokens from URL\n                window.location.hash = '';\n                return { data: session, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Inside a browser context, `signOut()` will remove the logged in user from the browser session\n     * and log them out - removing all items from localstorage and then trigger a \"SIGNED_OUT\" event.\n     *\n     * For server-side management, you can revoke all refresh tokens for a user by passing a user's JWT through to `auth.api.signOut(JWT: string)`. There is no way to revoke a user's session JWT before it automatically expires\n     */\n    signOut() {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const accessToken = (_a = this.currentSession) === null || _a === void 0 ? void 0 : _a.access_token;\n            this._removeSession();\n            this._notifyAllSubscribers('SIGNED_OUT');\n            if (accessToken) {\n                const { error } = yield this.api.signOut(accessToken);\n                if (error)\n                    return { error };\n            }\n            return { error: null };\n        });\n    }\n    /**\n     * Receive a notification every time an auth event happens.\n     * @returns {Subscription} A subscription object which can be used to unsubscribe itself.\n     */\n    onAuthStateChange(callback) {\n        try {\n            const id = uuid();\n            const subscription = {\n                id,\n                callback,\n                unsubscribe: () => {\n                    this.stateChangeEmitters.delete(id);\n                },\n            };\n            this.stateChangeEmitters.set(id, subscription);\n            return { data: subscription, error: null };\n        }\n        catch (e) {\n            return { data: null, error: e };\n        }\n    }\n    _handleEmailSignIn(email, password, options = {}) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const { data, error } = yield this.api.signInWithEmail(email, password, {\n                    redirectTo: options.redirectTo,\n                    captchaToken: options.captchaToken,\n                });\n                if (error || !data)\n                    return { data: null, user: null, session: null, error };\n                if (((_a = data === null || data === void 0 ? void 0 : data.user) === null || _a === void 0 ? void 0 : _a.confirmed_at) || ((_b = data === null || data === void 0 ? void 0 : data.user) === null || _b === void 0 ? void 0 : _b.email_confirmed_at)) {\n                    this._saveSession(data);\n                    this._notifyAllSubscribers('SIGNED_IN');\n                }\n                return { data, user: data.user, session: data, error: null };\n            }\n            catch (e) {\n                return { data: null, user: null, session: null, error: e };\n            }\n        });\n    }\n    _handlePhoneSignIn(phone, password, options = {}) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const { data, error } = yield this.api.signInWithPhone(phone, password, options);\n                if (error || !data)\n                    return { data: null, user: null, session: null, error };\n                if ((_a = data === null || data === void 0 ? void 0 : data.user) === null || _a === void 0 ? void 0 : _a.phone_confirmed_at) {\n                    this._saveSession(data);\n                    this._notifyAllSubscribers('SIGNED_IN');\n                }\n                return { data, user: data.user, session: data, error: null };\n            }\n            catch (e) {\n                return { data: null, user: null, session: null, error: e };\n            }\n        });\n    }\n    _handleProviderSignIn(provider, options = {}) {\n        const url = this.api.getUrlForProvider(provider, {\n            redirectTo: options.redirectTo,\n            scopes: options.scopes,\n            queryParams: options.queryParams,\n        });\n        try {\n            // try to open on the browser\n            if (isBrowser()) {\n                window.location.href = url;\n            }\n            return { provider, url, data: null, session: null, user: null, error: null };\n        }\n        catch (e) {\n            // fallback to returning the URL\n            if (url)\n                return { provider, url, data: null, session: null, user: null, error: null };\n            return { data: null, user: null, session: null, error: e };\n        }\n    }\n    _handleOpenIDConnectSignIn({ id_token, nonce, client_id, issuer, provider, }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (id_token && nonce && ((client_id && issuer) || provider)) {\n                try {\n                    const { data, error } = yield this.api.signInWithOpenIDConnect({\n                        id_token,\n                        nonce,\n                        client_id,\n                        issuer,\n                        provider,\n                    });\n                    if (error || !data)\n                        return { user: null, session: null, error };\n                    this._saveSession(data);\n                    this._notifyAllSubscribers('SIGNED_IN');\n                    return { user: data.user, session: data, error: null };\n                }\n                catch (e) {\n                    return { user: null, session: null, error: e };\n                }\n            }\n            throw new Error(`You must provide a OpenID Connect provider with your id token and nonce.`);\n        });\n    }\n    /**\n     * Attempts to get the session from LocalStorage\n     * Note: this should never be async (even for React Native), as we need it to return immediately in the constructor.\n     */\n    _recoverSession() {\n        try {\n            const data = getItemSynchronously(this.localStorage, STORAGE_KEY);\n            if (!data)\n                return null;\n            const { currentSession, expiresAt } = data;\n            const timeNow = Math.round(Date.now() / 1000);\n            if (expiresAt >= timeNow + EXPIRY_MARGIN && (currentSession === null || currentSession === void 0 ? void 0 : currentSession.user)) {\n                this._saveSession(currentSession);\n                this._notifyAllSubscribers('SIGNED_IN');\n            }\n        }\n        catch (error) {\n            console.log('error', error);\n        }\n    }\n    /**\n     * Recovers the session from LocalStorage and refreshes\n     * Note: this method is async to accommodate for AsyncStorage e.g. in React native.\n     */\n    _recoverAndRefresh() {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield getItemAsync(this.localStorage, STORAGE_KEY);\n                if (!data)\n                    return null;\n                const { currentSession, expiresAt } = data;\n                const timeNow = Math.round(Date.now() / 1000);\n                if (expiresAt < timeNow + EXPIRY_MARGIN) {\n                    if (this.autoRefreshToken && currentSession.refresh_token) {\n                        this.networkRetries++;\n                        const { error } = yield this._callRefreshToken(currentSession.refresh_token);\n                        if (error) {\n                            console.log(error.message);\n                            if (error.message === NETWORK_FAILURE.ERROR_MESSAGE &&\n                                this.networkRetries < NETWORK_FAILURE.MAX_RETRIES) {\n                                if (this.refreshTokenTimer)\n                                    clearTimeout(this.refreshTokenTimer);\n                                this.refreshTokenTimer = setTimeout(() => this._recoverAndRefresh(), Math.pow(NETWORK_FAILURE.RETRY_INTERVAL, this.networkRetries) * 100 // exponential backoff\n                                );\n                                return;\n                            }\n                            yield this._removeSession();\n                        }\n                        this.networkRetries = 0;\n                    }\n                    else {\n                        this._removeSession();\n                    }\n                }\n                else if (!currentSession) {\n                    console.log('Current session is missing data.');\n                    this._removeSession();\n                }\n                else {\n                    // should be handled on _recoverSession method already\n                    // But we still need the code here to accommodate for AsyncStorage e.g. in React native\n                    this._saveSession(currentSession);\n                    this._notifyAllSubscribers('SIGNED_IN');\n                }\n            }\n            catch (err) {\n                console.error(err);\n                return null;\n            }\n        });\n    }\n    _callRefreshToken(refresh_token) {\n        var _a;\n        if (refresh_token === void 0) { refresh_token = (_a = this.currentSession) === null || _a === void 0 ? void 0 : _a.refresh_token; }\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (!refresh_token) {\n                    throw new Error('No current session.');\n                }\n                const { data, error } = yield this.api.refreshAccessToken(refresh_token);\n                if (error)\n                    throw error;\n                if (!data)\n                    throw Error('Invalid session data.');\n                this._saveSession(data);\n                this._notifyAllSubscribers('TOKEN_REFRESHED');\n                this._notifyAllSubscribers('SIGNED_IN');\n                return { data, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    _notifyAllSubscribers(event) {\n        this.stateChangeEmitters.forEach((x) => x.callback(event, this.currentSession));\n    }\n    /**\n     * set currentSession and currentUser\n     * process to _startAutoRefreshToken if possible\n     */\n    _saveSession(session) {\n        this.currentSession = session;\n        this.currentUser = session.user;\n        const expiresAt = session.expires_at;\n        if (expiresAt) {\n            const timeNow = Math.round(Date.now() / 1000);\n            const expiresIn = expiresAt - timeNow;\n            const refreshDurationBeforeExpires = expiresIn > EXPIRY_MARGIN ? EXPIRY_MARGIN : 0.5;\n            this._startAutoRefreshToken((expiresIn - refreshDurationBeforeExpires) * 1000);\n        }\n        // Do we need any extra check before persist session\n        // access_token or user ?\n        if (this.persistSession && session.expires_at) {\n            this._persistSession(this.currentSession);\n        }\n    }\n    _persistSession(currentSession) {\n        const data = { currentSession, expiresAt: currentSession.expires_at };\n        setItemAsync(this.localStorage, STORAGE_KEY, data);\n    }\n    _removeSession() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.currentSession = null;\n            this.currentUser = null;\n            if (this.refreshTokenTimer)\n                clearTimeout(this.refreshTokenTimer);\n            removeItemAsync(this.localStorage, STORAGE_KEY);\n        });\n    }\n    /**\n     * Clear and re-create refresh token timer\n     * @param value time intervals in milliseconds\n     */\n    _startAutoRefreshToken(value) {\n        if (this.refreshTokenTimer)\n            clearTimeout(this.refreshTokenTimer);\n        if (value <= 0 || !this.autoRefreshToken)\n            return;\n        this.refreshTokenTimer = setTimeout(() => __awaiter(this, void 0, void 0, function* () {\n            this.networkRetries++;\n            const { error } = yield this._callRefreshToken();\n            if (!error)\n                this.networkRetries = 0;\n            if ((error === null || error === void 0 ? void 0 : error.message) === NETWORK_FAILURE.ERROR_MESSAGE &&\n                this.networkRetries < NETWORK_FAILURE.MAX_RETRIES)\n                this._startAutoRefreshToken(Math.pow(NETWORK_FAILURE.RETRY_INTERVAL, this.networkRetries) * 100); // exponential backoff\n        }), value);\n        if (typeof this.refreshTokenTimer.unref === 'function')\n            this.refreshTokenTimer.unref();\n    }\n    /**\n     * Listens for changes to LocalStorage and updates the current session.\n     */\n    _listenForMultiTabEvents() {\n        if (!this.multiTab || !isBrowser() || !(window === null || window === void 0 ? void 0 : window.addEventListener)) {\n            return false;\n        }\n        try {\n            window === null || window === void 0 ? void 0 : window.addEventListener('storage', (e) => {\n                var _a;\n                if (e.key === STORAGE_KEY) {\n                    const newSession = JSON.parse(String(e.newValue));\n                    if ((_a = newSession === null || newSession === void 0 ? void 0 : newSession.currentSession) === null || _a === void 0 ? void 0 : _a.access_token) {\n                        this._saveSession(newSession.currentSession);\n                        this._notifyAllSubscribers('SIGNED_IN');\n                    }\n                    else {\n                        this._removeSession();\n                        this._notifyAllSubscribers('SIGNED_OUT');\n                    }\n                }\n            });\n        }\n        catch (error) {\n            console.error('_listenForMultiTabEvents', error);\n        }\n    }\n    _handleVisibilityChange() {\n        if (!this.multiTab || !isBrowser() || !(window === null || window === void 0 ? void 0 : window.addEventListener)) {\n            return false;\n        }\n        try {\n            window === null || window === void 0 ? void 0 : window.addEventListener('visibilitychange', () => {\n                if (document.visibilityState === 'visible') {\n                    this._recoverAndRefresh();\n                }\n            });\n        }\n        catch (error) {\n            console.error('_handleVisibilityChange', error);\n        }\n    }\n}\n//# sourceMappingURL=GoTrueClient.js.map","import { GoTrueClient } from '@supabase/gotrue-js';\nexport class SupabaseAuthClient extends GoTrueClient {\n    constructor(options) {\n        super(options);\n    }\n}\n//# sourceMappingURL=SupabaseAuthClient.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nexport class PostgrestBuilder {\n    constructor(builder) {\n        Object.assign(this, builder);\n        let _fetch;\n        if (builder.fetch) {\n            _fetch = builder.fetch;\n        }\n        else if (typeof fetch === 'undefined') {\n            _fetch = (...args) => __awaiter(this, void 0, void 0, function* () { return yield (yield import('cross-fetch')).fetch(...args); });\n        }\n        else {\n            _fetch = fetch;\n        }\n        this.fetch = (...args) => _fetch(...args);\n        this.shouldThrowOnError = builder.shouldThrowOnError || false;\n        this.allowEmpty = builder.allowEmpty || false;\n    }\n    /**\n     * If there's an error with the query, throwOnError will reject the promise by\n     * throwing the error instead of returning it as part of a successful response.\n     *\n     * {@link https://github.com/supabase/supabase-js/issues/92}\n     */\n    throwOnError(throwOnError) {\n        if (throwOnError === null || throwOnError === undefined) {\n            throwOnError = true;\n        }\n        this.shouldThrowOnError = throwOnError;\n        return this;\n    }\n    then(onfulfilled, onrejected) {\n        // https://postgrest.org/en/stable/api.html#switching-schemas\n        if (typeof this.schema === 'undefined') {\n            // skip\n        }\n        else if (['GET', 'HEAD'].includes(this.method)) {\n            this.headers['Accept-Profile'] = this.schema;\n        }\n        else {\n            this.headers['Content-Profile'] = this.schema;\n        }\n        if (this.method !== 'GET' && this.method !== 'HEAD') {\n            this.headers['Content-Type'] = 'application/json';\n        }\n        let res = this.fetch(this.url.toString(), {\n            method: this.method,\n            headers: this.headers,\n            body: JSON.stringify(this.body),\n            signal: this.signal,\n        }).then((res) => __awaiter(this, void 0, void 0, function* () {\n            var _a, _b, _c, _d;\n            let error = null;\n            let data = null;\n            let count = null;\n            let status = res.status;\n            let statusText = res.statusText;\n            if (res.ok) {\n                const isReturnMinimal = (_a = this.headers['Prefer']) === null || _a === void 0 ? void 0 : _a.split(',').includes('return=minimal');\n                if (this.method !== 'HEAD' && !isReturnMinimal) {\n                    const text = yield res.text();\n                    if (!text) {\n                        // discard `text`\n                    }\n                    else if (this.headers['Accept'] === 'text/csv') {\n                        data = text;\n                    }\n                    else {\n                        data = JSON.parse(text);\n                    }\n                }\n                const countHeader = (_b = this.headers['Prefer']) === null || _b === void 0 ? void 0 : _b.match(/count=(exact|planned|estimated)/);\n                const contentRange = (_c = res.headers.get('content-range')) === null || _c === void 0 ? void 0 : _c.split('/');\n                if (countHeader && contentRange && contentRange.length > 1) {\n                    count = parseInt(contentRange[1]);\n                }\n            }\n            else {\n                const body = yield res.text();\n                try {\n                    error = JSON.parse(body);\n                }\n                catch (_e) {\n                    error = {\n                        message: body,\n                    };\n                }\n                if (error && this.allowEmpty && ((_d = error === null || error === void 0 ? void 0 : error.details) === null || _d === void 0 ? void 0 : _d.includes('Results contain 0 rows'))) {\n                    error = null;\n                    status = 200;\n                    statusText = 'OK';\n                }\n                if (error && this.shouldThrowOnError) {\n                    throw error;\n                }\n            }\n            const postgrestResponse = {\n                error,\n                data,\n                count,\n                status,\n                statusText,\n                body: data,\n            };\n            return postgrestResponse;\n        }));\n        if (!this.shouldThrowOnError) {\n            res = res.catch((fetchError) => ({\n                error: {\n                    message: `FetchError: ${fetchError.message}`,\n                    details: '',\n                    hint: '',\n                    code: fetchError.code || '',\n                },\n                data: null,\n                body: null,\n                count: null,\n                status: 400,\n                statusText: 'Bad Request',\n            }));\n        }\n        return res.then(onfulfilled, onrejected);\n    }\n}\n//# sourceMappingURL=types.js.map","import { PostgrestBuilder } from './types';\n/**\n * Post-filters (transforms)\n */\nexport default class PostgrestTransformBuilder extends PostgrestBuilder {\n    /**\n     * Performs vertical filtering with SELECT.\n     *\n     * @param columns  The columns to retrieve, separated by commas.\n     */\n    select(columns = '*') {\n        // Remove whitespaces except when quoted\n        let quoted = false;\n        const cleanedColumns = columns\n            .split('')\n            .map((c) => {\n            if (/\\s/.test(c) && !quoted) {\n                return '';\n            }\n            if (c === '\"') {\n                quoted = !quoted;\n            }\n            return c;\n        })\n            .join('');\n        this.url.searchParams.set('select', cleanedColumns);\n        return this;\n    }\n    /**\n     * Orders the result with the specified `column`.\n     *\n     * @param column  The column to order on.\n     * @param ascending  If `true`, the result will be in ascending order.\n     * @param nullsFirst  If `true`, `null`s appear first.\n     * @param foreignTable  The foreign table to use (if `column` is a foreign column).\n     */\n    order(column, { ascending = true, nullsFirst = false, foreignTable, } = {}) {\n        const key = typeof foreignTable === 'undefined' ? 'order' : `${foreignTable}.order`;\n        const existingOrder = this.url.searchParams.get(key);\n        this.url.searchParams.set(key, `${existingOrder ? `${existingOrder},` : ''}${column}.${ascending ? 'asc' : 'desc'}.${nullsFirst ? 'nullsfirst' : 'nullslast'}`);\n        return this;\n    }\n    /**\n     * Limits the result with the specified `count`.\n     *\n     * @param count  The maximum no. of rows to limit to.\n     * @param foreignTable  The foreign table to use (for foreign columns).\n     */\n    limit(count, { foreignTable } = {}) {\n        const key = typeof foreignTable === 'undefined' ? 'limit' : `${foreignTable}.limit`;\n        this.url.searchParams.set(key, `${count}`);\n        return this;\n    }\n    /**\n     * Limits the result to rows within the specified range, inclusive.\n     *\n     * @param from  The starting index from which to limit the result, inclusive.\n     * @param to  The last index to which to limit the result, inclusive.\n     * @param foreignTable  The foreign table to use (for foreign columns).\n     */\n    range(from, to, { foreignTable } = {}) {\n        const keyOffset = typeof foreignTable === 'undefined' ? 'offset' : `${foreignTable}.offset`;\n        const keyLimit = typeof foreignTable === 'undefined' ? 'limit' : `${foreignTable}.limit`;\n        this.url.searchParams.set(keyOffset, `${from}`);\n        // Range is inclusive, so add 1\n        this.url.searchParams.set(keyLimit, `${to - from + 1}`);\n        return this;\n    }\n    /**\n     * Sets the AbortSignal for the fetch request.\n     */\n    abortSignal(signal) {\n        this.signal = signal;\n        return this;\n    }\n    /**\n     * Retrieves only one row from the result. Result must be one row (e.g. using\n     * `limit`), otherwise this will result in an error.\n     */\n    single() {\n        this.headers['Accept'] = 'application/vnd.pgrst.object+json';\n        return this;\n    }\n    /**\n     * Retrieves at most one row from the result. Result must be at most one row\n     * (e.g. using `eq` on a UNIQUE column), otherwise this will result in an\n     * error.\n     */\n    maybeSingle() {\n        this.headers['Accept'] = 'application/vnd.pgrst.object+json';\n        this.allowEmpty = true;\n        return this;\n    }\n    /**\n     * Set the response type to CSV.\n     */\n    csv() {\n        this.headers['Accept'] = 'text/csv';\n        return this;\n    }\n}\n//# sourceMappingURL=PostgrestTransformBuilder.js.map","import PostgrestTransformBuilder from './PostgrestTransformBuilder';\nexport default class PostgrestFilterBuilder extends PostgrestTransformBuilder {\n    constructor() {\n        super(...arguments);\n        /** @deprecated Use `contains()` instead. */\n        this.cs = this.contains;\n        /** @deprecated Use `containedBy()` instead. */\n        this.cd = this.containedBy;\n        /** @deprecated Use `rangeLt()` instead. */\n        this.sl = this.rangeLt;\n        /** @deprecated Use `rangeGt()` instead. */\n        this.sr = this.rangeGt;\n        /** @deprecated Use `rangeGte()` instead. */\n        this.nxl = this.rangeGte;\n        /** @deprecated Use `rangeLte()` instead. */\n        this.nxr = this.rangeLte;\n        /** @deprecated Use `rangeAdjacent()` instead. */\n        this.adj = this.rangeAdjacent;\n        /** @deprecated Use `overlaps()` instead. */\n        this.ov = this.overlaps;\n    }\n    /**\n     * Finds all rows which doesn't satisfy the filter.\n     *\n     * @param column  The column to filter on.\n     * @param operator  The operator to filter with.\n     * @param value  The value to filter with.\n     */\n    not(column, operator, value) {\n        this.url.searchParams.append(`${column}`, `not.${operator}.${value}`);\n        return this;\n    }\n    /**\n     * Finds all rows satisfying at least one of the filters.\n     *\n     * @param filters  The filters to use, separated by commas.\n     * @param foreignTable  The foreign table to use (if `column` is a foreign column).\n     */\n    or(filters, { foreignTable } = {}) {\n        const key = typeof foreignTable === 'undefined' ? 'or' : `${foreignTable}.or`;\n        this.url.searchParams.append(key, `(${filters})`);\n        return this;\n    }\n    /**\n     * Finds all rows whose value on the stated `column` exactly matches the\n     * specified `value`.\n     *\n     * @param column  The column to filter on.\n     * @param value  The value to filter with.\n     */\n    eq(column, value) {\n        this.url.searchParams.append(`${column}`, `eq.${value}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose value on the stated `column` doesn't match the\n     * specified `value`.\n     *\n     * @param column  The column to filter on.\n     * @param value  The value to filter with.\n     */\n    neq(column, value) {\n        this.url.searchParams.append(`${column}`, `neq.${value}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose value on the stated `column` is greater than the\n     * specified `value`.\n     *\n     * @param column  The column to filter on.\n     * @param value  The value to filter with.\n     */\n    gt(column, value) {\n        this.url.searchParams.append(`${column}`, `gt.${value}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose value on the stated `column` is greater than or\n     * equal to the specified `value`.\n     *\n     * @param column  The column to filter on.\n     * @param value  The value to filter with.\n     */\n    gte(column, value) {\n        this.url.searchParams.append(`${column}`, `gte.${value}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose value on the stated `column` is less than the\n     * specified `value`.\n     *\n     * @param column  The column to filter on.\n     * @param value  The value to filter with.\n     */\n    lt(column, value) {\n        this.url.searchParams.append(`${column}`, `lt.${value}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose value on the stated `column` is less than or equal\n     * to the specified `value`.\n     *\n     * @param column  The column to filter on.\n     * @param value  The value to filter with.\n     */\n    lte(column, value) {\n        this.url.searchParams.append(`${column}`, `lte.${value}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose value in the stated `column` matches the supplied\n     * `pattern` (case sensitive).\n     *\n     * @param column  The column to filter on.\n     * @param pattern  The pattern to filter with.\n     */\n    like(column, pattern) {\n        this.url.searchParams.append(`${column}`, `like.${pattern}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose value in the stated `column` matches the supplied\n     * `pattern` (case insensitive).\n     *\n     * @param column  The column to filter on.\n     * @param pattern  The pattern to filter with.\n     */\n    ilike(column, pattern) {\n        this.url.searchParams.append(`${column}`, `ilike.${pattern}`);\n        return this;\n    }\n    /**\n     * A check for exact equality (null, true, false), finds all rows whose\n     * value on the stated `column` exactly match the specified `value`.\n     *\n     * @param column  The column to filter on.\n     * @param value  The value to filter with.\n     */\n    is(column, value) {\n        this.url.searchParams.append(`${column}`, `is.${value}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose value on the stated `column` is found on the\n     * specified `values`.\n     *\n     * @param column  The column to filter on.\n     * @param values  The values to filter with.\n     */\n    in(column, values) {\n        const cleanedValues = values\n            .map((s) => {\n            // handle postgrest reserved characters\n            // https://postgrest.org/en/v7.0.0/api.html#reserved-characters\n            if (typeof s === 'string' && new RegExp('[,()]').test(s))\n                return `\"${s}\"`;\n            else\n                return `${s}`;\n        })\n            .join(',');\n        this.url.searchParams.append(`${column}`, `in.(${cleanedValues})`);\n        return this;\n    }\n    /**\n     * Finds all rows whose json, array, or range value on the stated `column`\n     * contains the values specified in `value`.\n     *\n     * @param column  The column to filter on.\n     * @param value  The value to filter with.\n     */\n    contains(column, value) {\n        if (typeof value === 'string') {\n            // range types can be inclusive '[', ']' or exclusive '(', ')' so just\n            // keep it simple and accept a string\n            this.url.searchParams.append(`${column}`, `cs.${value}`);\n        }\n        else if (Array.isArray(value)) {\n            // array\n            this.url.searchParams.append(`${column}`, `cs.{${value.join(',')}}`);\n        }\n        else {\n            // json\n            this.url.searchParams.append(`${column}`, `cs.${JSON.stringify(value)}`);\n        }\n        return this;\n    }\n    /**\n     * Finds all rows whose json, array, or range value on the stated `column` is\n     * contained by the specified `value`.\n     *\n     * @param column  The column to filter on.\n     * @param value  The value to filter with.\n     */\n    containedBy(column, value) {\n        if (typeof value === 'string') {\n            // range\n            this.url.searchParams.append(`${column}`, `cd.${value}`);\n        }\n        else if (Array.isArray(value)) {\n            // array\n            this.url.searchParams.append(`${column}`, `cd.{${value.join(',')}}`);\n        }\n        else {\n            // json\n            this.url.searchParams.append(`${column}`, `cd.${JSON.stringify(value)}`);\n        }\n        return this;\n    }\n    /**\n     * Finds all rows whose range value on the stated `column` is strictly to the\n     * left of the specified `range`.\n     *\n     * @param column  The column to filter on.\n     * @param range  The range to filter with.\n     */\n    rangeLt(column, range) {\n        this.url.searchParams.append(`${column}`, `sl.${range}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose range value on the stated `column` is strictly to\n     * the right of the specified `range`.\n     *\n     * @param column  The column to filter on.\n     * @param range  The range to filter with.\n     */\n    rangeGt(column, range) {\n        this.url.searchParams.append(`${column}`, `sr.${range}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose range value on the stated `column` does not extend\n     * to the left of the specified `range`.\n     *\n     * @param column  The column to filter on.\n     * @param range  The range to filter with.\n     */\n    rangeGte(column, range) {\n        this.url.searchParams.append(`${column}`, `nxl.${range}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose range value on the stated `column` does not extend\n     * to the right of the specified `range`.\n     *\n     * @param column  The column to filter on.\n     * @param range  The range to filter with.\n     */\n    rangeLte(column, range) {\n        this.url.searchParams.append(`${column}`, `nxr.${range}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose range value on the stated `column` is adjacent to\n     * the specified `range`.\n     *\n     * @param column  The column to filter on.\n     * @param range  The range to filter with.\n     */\n    rangeAdjacent(column, range) {\n        this.url.searchParams.append(`${column}`, `adj.${range}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose array or range value on the stated `column` overlaps\n     * (has a value in common) with the specified `value`.\n     *\n     * @param column  The column to filter on.\n     * @param value  The value to filter with.\n     */\n    overlaps(column, value) {\n        if (typeof value === 'string') {\n            // range\n            this.url.searchParams.append(`${column}`, `ov.${value}`);\n        }\n        else {\n            // array\n            this.url.searchParams.append(`${column}`, `ov.{${value.join(',')}}`);\n        }\n        return this;\n    }\n    /**\n     * Finds all rows whose text or tsvector value on the stated `column` matches\n     * the tsquery in `query`.\n     *\n     * @param column  The column to filter on.\n     * @param query  The Postgres tsquery string to filter with.\n     * @param config  The text search configuration to use.\n     * @param type  The type of tsquery conversion to use on `query`.\n     */\n    textSearch(column, query, { config, type = null, } = {}) {\n        let typePart = '';\n        if (type === 'plain') {\n            typePart = 'pl';\n        }\n        else if (type === 'phrase') {\n            typePart = 'ph';\n        }\n        else if (type === 'websearch') {\n            typePart = 'w';\n        }\n        const configPart = config === undefined ? '' : `(${config})`;\n        this.url.searchParams.append(`${column}`, `${typePart}fts${configPart}.${query}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose tsvector value on the stated `column` matches\n     * to_tsquery(`query`).\n     *\n     * @param column  The column to filter on.\n     * @param query  The Postgres tsquery string to filter with.\n     * @param config  The text search configuration to use.\n     *\n     * @deprecated Use `textSearch()` instead.\n     */\n    fts(column, query, { config } = {}) {\n        const configPart = typeof config === 'undefined' ? '' : `(${config})`;\n        this.url.searchParams.append(`${column}`, `fts${configPart}.${query}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose tsvector value on the stated `column` matches\n     * plainto_tsquery(`query`).\n     *\n     * @param column  The column to filter on.\n     * @param query  The Postgres tsquery string to filter with.\n     * @param config  The text search configuration to use.\n     *\n     * @deprecated Use `textSearch()` with `type: 'plain'` instead.\n     */\n    plfts(column, query, { config } = {}) {\n        const configPart = typeof config === 'undefined' ? '' : `(${config})`;\n        this.url.searchParams.append(`${column}`, `plfts${configPart}.${query}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose tsvector value on the stated `column` matches\n     * phraseto_tsquery(`query`).\n     *\n     * @param column  The column to filter on.\n     * @param query  The Postgres tsquery string to filter with.\n     * @param config  The text search configuration to use.\n     *\n     * @deprecated Use `textSearch()` with `type: 'phrase'` instead.\n     */\n    phfts(column, query, { config } = {}) {\n        const configPart = typeof config === 'undefined' ? '' : `(${config})`;\n        this.url.searchParams.append(`${column}`, `phfts${configPart}.${query}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose tsvector value on the stated `column` matches\n     * websearch_to_tsquery(`query`).\n     *\n     * @param column  The column to filter on.\n     * @param query  The Postgres tsquery string to filter with.\n     * @param config  The text search configuration to use.\n     *\n     * @deprecated Use `textSearch()` with `type: 'websearch'` instead.\n     */\n    wfts(column, query, { config } = {}) {\n        const configPart = typeof config === 'undefined' ? '' : `(${config})`;\n        this.url.searchParams.append(`${column}`, `wfts${configPart}.${query}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose `column` satisfies the filter.\n     *\n     * @param column  The column to filter on.\n     * @param operator  The operator to filter with.\n     * @param value  The value to filter with.\n     */\n    filter(column, operator, value) {\n        this.url.searchParams.append(`${column}`, `${operator}.${value}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose columns match the specified `query` object.\n     *\n     * @param query  The object to filter with, with column names as keys mapped\n     *               to their filter values.\n     */\n    match(query) {\n        Object.keys(query).forEach((key) => {\n            this.url.searchParams.append(`${key}`, `eq.${query[key]}`);\n        });\n        return this;\n    }\n}\n//# sourceMappingURL=PostgrestFilterBuilder.js.map","import { PostgrestBuilder } from './types';\nimport PostgrestFilterBuilder from './PostgrestFilterBuilder';\nexport default class PostgrestQueryBuilder extends PostgrestBuilder {\n    constructor(url, { headers = {}, schema, fetch, shouldThrowOnError, } = {}) {\n        super({ fetch, shouldThrowOnError });\n        this.url = new URL(url);\n        this.headers = Object.assign({}, headers);\n        this.schema = schema;\n    }\n    /**\n     * Performs vertical filtering with SELECT.\n     *\n     * @param columns  The columns to retrieve, separated by commas.\n     * @param head  When set to true, select will void data.\n     * @param count  Count algorithm to use to count rows in a table.\n     */\n    select(columns = '*', { head = false, count = null, } = {}) {\n        this.method = 'GET';\n        // Remove whitespaces except when quoted\n        let quoted = false;\n        const cleanedColumns = columns\n            .split('')\n            .map((c) => {\n            if (/\\s/.test(c) && !quoted) {\n                return '';\n            }\n            if (c === '\"') {\n                quoted = !quoted;\n            }\n            return c;\n        })\n            .join('');\n        this.url.searchParams.set('select', cleanedColumns);\n        if (count) {\n            this.headers['Prefer'] = `count=${count}`;\n        }\n        if (head) {\n            this.method = 'HEAD';\n        }\n        return new PostgrestFilterBuilder(this);\n    }\n    insert(values, { upsert = false, onConflict, returning = 'representation', count = null, } = {}) {\n        this.method = 'POST';\n        const prefersHeaders = [`return=${returning}`];\n        if (upsert)\n            prefersHeaders.push('resolution=merge-duplicates');\n        if (upsert && onConflict !== undefined)\n            this.url.searchParams.set('on_conflict', onConflict);\n        this.body = values;\n        if (count) {\n            prefersHeaders.push(`count=${count}`);\n        }\n        if (this.headers['Prefer']) {\n            prefersHeaders.unshift(this.headers['Prefer']);\n        }\n        this.headers['Prefer'] = prefersHeaders.join(',');\n        if (Array.isArray(values)) {\n            const columns = values.reduce((acc, x) => acc.concat(Object.keys(x)), []);\n            if (columns.length > 0) {\n                const uniqueColumns = [...new Set(columns)].map((column) => `\"${column}\"`);\n                this.url.searchParams.set('columns', uniqueColumns.join(','));\n            }\n        }\n        return new PostgrestFilterBuilder(this);\n    }\n    /**\n     * Performs an UPSERT into the table.\n     *\n     * @param values  The values to insert.\n     * @param onConflict  By specifying the `on_conflict` query parameter, you can make UPSERT work on a column(s) that has a UNIQUE constraint.\n     * @param returning  By default the new record is returned. Set this to 'minimal' if you don't need this value.\n     * @param count  Count algorithm to use to count rows in a table.\n     * @param ignoreDuplicates  Specifies if duplicate rows should be ignored and not inserted.\n     */\n    upsert(values, { onConflict, returning = 'representation', count = null, ignoreDuplicates = false, } = {}) {\n        this.method = 'POST';\n        const prefersHeaders = [\n            `resolution=${ignoreDuplicates ? 'ignore' : 'merge'}-duplicates`,\n            `return=${returning}`,\n        ];\n        if (onConflict !== undefined)\n            this.url.searchParams.set('on_conflict', onConflict);\n        this.body = values;\n        if (count) {\n            prefersHeaders.push(`count=${count}`);\n        }\n        if (this.headers['Prefer']) {\n            prefersHeaders.unshift(this.headers['Prefer']);\n        }\n        this.headers['Prefer'] = prefersHeaders.join(',');\n        return new PostgrestFilterBuilder(this);\n    }\n    /**\n     * Performs an UPDATE on the table.\n     *\n     * @param values  The values to update.\n     * @param returning  By default the updated record is returned. Set this to 'minimal' if you don't need this value.\n     * @param count  Count algorithm to use to count rows in a table.\n     */\n    update(values, { returning = 'representation', count = null, } = {}) {\n        this.method = 'PATCH';\n        const prefersHeaders = [`return=${returning}`];\n        this.body = values;\n        if (count) {\n            prefersHeaders.push(`count=${count}`);\n        }\n        if (this.headers['Prefer']) {\n            prefersHeaders.unshift(this.headers['Prefer']);\n        }\n        this.headers['Prefer'] = prefersHeaders.join(',');\n        return new PostgrestFilterBuilder(this);\n    }\n    /**\n     * Performs a DELETE on the table.\n     *\n     * @param returning  If `true`, return the deleted row(s) in the response.\n     * @param count  Count algorithm to use to count rows in a table.\n     */\n    delete({ returning = 'representation', count = null, } = {}) {\n        this.method = 'DELETE';\n        const prefersHeaders = [`return=${returning}`];\n        if (count) {\n            prefersHeaders.push(`count=${count}`);\n        }\n        if (this.headers['Prefer']) {\n            prefersHeaders.unshift(this.headers['Prefer']);\n        }\n        this.headers['Prefer'] = prefersHeaders.join(',');\n        return new PostgrestFilterBuilder(this);\n    }\n}\n//# sourceMappingURL=PostgrestQueryBuilder.js.map","import { PostgrestBuilder } from './types';\nimport PostgrestFilterBuilder from './PostgrestFilterBuilder';\nexport default class PostgrestRpcBuilder extends PostgrestBuilder {\n    constructor(url, { headers = {}, schema, fetch, shouldThrowOnError, } = {}) {\n        super({ fetch, shouldThrowOnError });\n        this.url = new URL(url);\n        this.headers = Object.assign({}, headers);\n        this.schema = schema;\n    }\n    /**\n     * Perform a function call.\n     */\n    rpc(params, { head = false, count = null, } = {}) {\n        if (head) {\n            this.method = 'HEAD';\n            if (params) {\n                Object.entries(params).forEach(([name, value]) => {\n                    this.url.searchParams.append(name, value);\n                });\n            }\n        }\n        else {\n            this.method = 'POST';\n            this.body = params;\n        }\n        if (count) {\n            if (this.headers['Prefer'] !== undefined)\n                this.headers['Prefer'] += `,count=${count}`;\n            else\n                this.headers['Prefer'] = `count=${count}`;\n        }\n        return new PostgrestFilterBuilder(this);\n    }\n}\n//# sourceMappingURL=PostgrestRpcBuilder.js.map","// generated by genversion\nexport const version = '0.37.4';\n//# sourceMappingURL=version.js.map","import { version } from './version';\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `postgrest-js/${version}` };\n//# sourceMappingURL=constants.js.map","import PostgrestQueryBuilder from './lib/PostgrestQueryBuilder';\nimport PostgrestRpcBuilder from './lib/PostgrestRpcBuilder';\nimport { DEFAULT_HEADERS } from './lib/constants';\nexport default class PostgrestClient {\n    /**\n     * Creates a PostgREST client.\n     *\n     * @param url  URL of the PostgREST endpoint.\n     * @param headers  Custom headers.\n     * @param schema  Postgres schema to switch to.\n     */\n    constructor(url, { headers = {}, schema, fetch, throwOnError, } = {}) {\n        this.url = url;\n        this.headers = Object.assign(Object.assign({}, DEFAULT_HEADERS), headers);\n        this.schema = schema;\n        this.fetch = fetch;\n        this.shouldThrowOnError = throwOnError;\n    }\n    /**\n     * Authenticates the request with JWT.\n     *\n     * @param token  The JWT token to use.\n     */\n    auth(token) {\n        this.headers['Authorization'] = `Bearer ${token}`;\n        return this;\n    }\n    /**\n     * Perform a table operation.\n     *\n     * @param table  The table name to operate on.\n     */\n    from(table) {\n        const url = `${this.url}/${table}`;\n        return new PostgrestQueryBuilder(url, {\n            headers: this.headers,\n            schema: this.schema,\n            fetch: this.fetch,\n            shouldThrowOnError: this.shouldThrowOnError,\n        });\n    }\n    /**\n     * Perform a function call.\n     *\n     * @param fn  The function name to call.\n     * @param params  The parameters to pass to the function call.\n     * @param head  When set to true, no data will be returned.\n     * @param count  Count algorithm to use to count rows in a table.\n     */\n    rpc(fn, params, { head = false, count = null, } = {}) {\n        const url = `${this.url}/rpc/${fn}`;\n        return new PostgrestRpcBuilder(url, {\n            headers: this.headers,\n            schema: this.schema,\n            fetch: this.fetch,\n            shouldThrowOnError: this.shouldThrowOnError,\n        }).rpc(params, { head, count });\n    }\n}\n//# sourceMappingURL=PostgrestClient.js.map","/**\n * Helpers to convert the change Payload into native JS types.\n */\n// Adapted from epgsql (src/epgsql_binary.erl), this module licensed under\n// 3-clause BSD found here: https://raw.githubusercontent.com/epgsql/epgsql/devel/LICENSE\nexport var PostgresTypes;\n(function (PostgresTypes) {\n    PostgresTypes[\"abstime\"] = \"abstime\";\n    PostgresTypes[\"bool\"] = \"bool\";\n    PostgresTypes[\"date\"] = \"date\";\n    PostgresTypes[\"daterange\"] = \"daterange\";\n    PostgresTypes[\"float4\"] = \"float4\";\n    PostgresTypes[\"float8\"] = \"float8\";\n    PostgresTypes[\"int2\"] = \"int2\";\n    PostgresTypes[\"int4\"] = \"int4\";\n    PostgresTypes[\"int4range\"] = \"int4range\";\n    PostgresTypes[\"int8\"] = \"int8\";\n    PostgresTypes[\"int8range\"] = \"int8range\";\n    PostgresTypes[\"json\"] = \"json\";\n    PostgresTypes[\"jsonb\"] = \"jsonb\";\n    PostgresTypes[\"money\"] = \"money\";\n    PostgresTypes[\"numeric\"] = \"numeric\";\n    PostgresTypes[\"oid\"] = \"oid\";\n    PostgresTypes[\"reltime\"] = \"reltime\";\n    PostgresTypes[\"text\"] = \"text\";\n    PostgresTypes[\"time\"] = \"time\";\n    PostgresTypes[\"timestamp\"] = \"timestamp\";\n    PostgresTypes[\"timestamptz\"] = \"timestamptz\";\n    PostgresTypes[\"timetz\"] = \"timetz\";\n    PostgresTypes[\"tsrange\"] = \"tsrange\";\n    PostgresTypes[\"tstzrange\"] = \"tstzrange\";\n})(PostgresTypes || (PostgresTypes = {}));\n/**\n * Takes an array of columns and an object of string values then converts each string value\n * to its mapped type.\n *\n * @param {{name: String, type: String}[]} columns\n * @param {Object} record\n * @param {Object} options The map of various options that can be applied to the mapper\n * @param {Array} options.skipTypes The array of types that should not be converted\n *\n * @example convertChangeData([{name: 'first_name', type: 'text'}, {name: 'age', type: 'int4'}], {first_name: 'Paul', age:'33'}, {})\n * //=>{ first_name: 'Paul', age: 33 }\n */\nexport const convertChangeData = (columns, record, options = {}) => {\n    var _a;\n    const skipTypes = (_a = options.skipTypes) !== null && _a !== void 0 ? _a : [];\n    return Object.keys(record).reduce((acc, rec_key) => {\n        acc[rec_key] = convertColumn(rec_key, columns, record, skipTypes);\n        return acc;\n    }, {});\n};\n/**\n * Converts the value of an individual column.\n *\n * @param {String} columnName The column that you want to convert\n * @param {{name: String, type: String}[]} columns All of the columns\n * @param {Object} record The map of string values\n * @param {Array} skipTypes An array of types that should not be converted\n * @return {object} Useless information\n *\n * @example convertColumn('age', [{name: 'first_name', type: 'text'}, {name: 'age', type: 'int4'}], {first_name: 'Paul', age: '33'}, [])\n * //=> 33\n * @example convertColumn('age', [{name: 'first_name', type: 'text'}, {name: 'age', type: 'int4'}], {first_name: 'Paul', age: '33'}, ['int4'])\n * //=> \"33\"\n */\nexport const convertColumn = (columnName, columns, record, skipTypes) => {\n    const column = columns.find((x) => x.name === columnName);\n    const colType = column === null || column === void 0 ? void 0 : column.type;\n    const value = record[columnName];\n    if (colType && !skipTypes.includes(colType)) {\n        return convertCell(colType, value);\n    }\n    return noop(value);\n};\n/**\n * If the value of the cell is `null`, returns null.\n * Otherwise converts the string value to the correct type.\n * @param {String} type A postgres column type\n * @param {String} stringValue The cell value\n *\n * @example convertCell('bool', 't')\n * //=> true\n * @example convertCell('int8', '10')\n * //=> 10\n * @example convertCell('_int4', '{1,2,3,4}')\n * //=> [1,2,3,4]\n */\nexport const convertCell = (type, value) => {\n    // if data type is an array\n    if (type.charAt(0) === '_') {\n        const dataType = type.slice(1, type.length);\n        return toArray(value, dataType);\n    }\n    // If not null, convert to correct type.\n    switch (type) {\n        case PostgresTypes.bool:\n            return toBoolean(value);\n        case PostgresTypes.float4:\n        case PostgresTypes.float8:\n        case PostgresTypes.int2:\n        case PostgresTypes.int4:\n        case PostgresTypes.int8:\n        case PostgresTypes.numeric:\n        case PostgresTypes.oid:\n            return toNumber(value);\n        case PostgresTypes.json:\n        case PostgresTypes.jsonb:\n            return toJson(value);\n        case PostgresTypes.timestamp:\n            return toTimestampString(value); // Format to be consistent with PostgREST\n        case PostgresTypes.abstime: // To allow users to cast it based on Timezone\n        case PostgresTypes.date: // To allow users to cast it based on Timezone\n        case PostgresTypes.daterange:\n        case PostgresTypes.int4range:\n        case PostgresTypes.int8range:\n        case PostgresTypes.money:\n        case PostgresTypes.reltime: // To allow users to cast it based on Timezone\n        case PostgresTypes.text:\n        case PostgresTypes.time: // To allow users to cast it based on Timezone\n        case PostgresTypes.timestamptz: // To allow users to cast it based on Timezone\n        case PostgresTypes.timetz: // To allow users to cast it based on Timezone\n        case PostgresTypes.tsrange:\n        case PostgresTypes.tstzrange:\n            return noop(value);\n        default:\n            // Return the value for remaining types\n            return noop(value);\n    }\n};\nconst noop = (value) => {\n    return value;\n};\nexport const toBoolean = (value) => {\n    switch (value) {\n        case 't':\n            return true;\n        case 'f':\n            return false;\n        default:\n            return value;\n    }\n};\nexport const toNumber = (value) => {\n    if (typeof value === 'string') {\n        const parsedValue = parseFloat(value);\n        if (!Number.isNaN(parsedValue)) {\n            return parsedValue;\n        }\n    }\n    return value;\n};\nexport const toJson = (value) => {\n    if (typeof value === 'string') {\n        try {\n            return JSON.parse(value);\n        }\n        catch (error) {\n            console.log(`JSON parse error: ${error}`);\n            return value;\n        }\n    }\n    return value;\n};\n/**\n * Converts a Postgres Array into a native JS array\n *\n * @example toArray('{}', 'int4')\n * //=> []\n * @example toArray('{\"[2021-01-01,2021-12-31)\",\"(2021-01-01,2021-12-32]\"}', 'daterange')\n * //=> ['[2021-01-01,2021-12-31)', '(2021-01-01,2021-12-32]']\n * @example toArray([1,2,3,4], 'int4')\n * //=> [1,2,3,4]\n */\nexport const toArray = (value, type) => {\n    if (typeof value !== 'string') {\n        return value;\n    }\n    const lastIdx = value.length - 1;\n    const closeBrace = value[lastIdx];\n    const openBrace = value[0];\n    // Confirm value is a Postgres array by checking curly brackets\n    if (openBrace === '{' && closeBrace === '}') {\n        let arr;\n        const valTrim = value.slice(1, lastIdx);\n        // TODO: find a better solution to separate Postgres array data\n        try {\n            arr = JSON.parse('[' + valTrim + ']');\n        }\n        catch (_) {\n            // WARNING: splitting on comma does not cover all edge cases\n            arr = valTrim ? valTrim.split(',') : [];\n        }\n        return arr.map((val) => convertCell(type, val));\n    }\n    return value;\n};\n/**\n * Fixes timestamp to be ISO-8601. Swaps the space between the date and time for a 'T'\n * See https://github.com/supabase/supabase/issues/18\n *\n * @example toTimestampString('2019-09-10 00:00:00')\n * //=> '2019-09-10T00:00:00'\n */\nexport const toTimestampString = (value) => {\n    if (typeof value === 'string') {\n        return value.replace(' ', 'T');\n    }\n    return value;\n};\n//# sourceMappingURL=transformers.js.map","var noop = exports.noop = function(){};\n\nexports.extend = function extend(dest, source) {\n    for (var prop in source) {\n        dest[prop] = source[prop];\n    }\n};\n\nexports.eventEmitterListenerCount =\n    require('events').EventEmitter.listenerCount ||\n    function(emitter, type) { return emitter.listeners(type).length; };\n\nexports.bufferAllocUnsafe = Buffer.allocUnsafe ?\n    Buffer.allocUnsafe :\n    function oldBufferAllocUnsafe(size) { return new Buffer(size); };\n\nexports.bufferFromString = Buffer.from ?\n    Buffer.from :\n    function oldBufferFromString(string, encoding) {\n      return new Buffer(string, encoding);\n    };\n\nexports.BufferingLogger = function createBufferingLogger(identifier, uniqueID) {\n    var logFunction = require('debug')(identifier);\n    if (logFunction.enabled) {\n        var logger = new BufferingLogger(identifier, uniqueID, logFunction);\n        var debug = logger.log.bind(logger);\n        debug.printOutput = logger.printOutput.bind(logger);\n        debug.enabled = logFunction.enabled;\n        return debug;\n    }\n    logFunction.printOutput = noop;\n    return logFunction;\n};\n\nfunction BufferingLogger(identifier, uniqueID, logFunction) {\n    this.logFunction = logFunction;\n    this.identifier = identifier;\n    this.uniqueID = uniqueID;\n    this.buffer = [];\n}\n\nBufferingLogger.prototype.log = function() {\n  this.buffer.push([ new Date(), Array.prototype.slice.call(arguments) ]);\n  return this;\n};\n\nBufferingLogger.prototype.clear = function() {\n  this.buffer = [];\n  return this;\n};\n\nBufferingLogger.prototype.printOutput = function(logFunction) {\n    if (!logFunction) { logFunction = this.logFunction; }\n    var uniqueID = this.uniqueID;\n    this.buffer.forEach(function(entry) {\n        var date = entry[0].toLocaleString();\n        var args = entry[1].slice();\n        var formatString = args[0];\n        if (formatString !== (void 0) && formatString !== null) {\n            formatString = '%s - %s - ' + formatString.toString();\n            args.splice(0, 1, formatString, date, uniqueID);\n            logFunction.apply(global, args);\n        }\n    });\n};\n","/************************************************************************\n *  Copyright 2010-2015 Brian McKelvey.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n ***********************************************************************/\n\nvar bufferUtil = require('bufferutil');\nvar bufferAllocUnsafe = require('./utils').bufferAllocUnsafe;\n\nconst DECODE_HEADER = 1;\nconst WAITING_FOR_16_BIT_LENGTH = 2;\nconst WAITING_FOR_64_BIT_LENGTH = 3;\nconst WAITING_FOR_MASK_KEY = 4;\nconst WAITING_FOR_PAYLOAD = 5;\nconst COMPLETE = 6;\n\n// WebSocketConnection will pass shared buffer objects for maskBytes and\n// frameHeader into the constructor to avoid tons of small memory allocations\n// for each frame we have to parse.  This is only used for parsing frames\n// we receive off the wire.\nfunction WebSocketFrame(maskBytes, frameHeader, config) {\n    this.maskBytes = maskBytes;\n    this.frameHeader = frameHeader;\n    this.config = config;\n    this.maxReceivedFrameSize = config.maxReceivedFrameSize;\n    this.protocolError = false;\n    this.frameTooLarge = false;\n    this.invalidCloseFrameLength = false;\n    this.parseState = DECODE_HEADER;\n    this.closeStatus = -1;\n}\n\nWebSocketFrame.prototype.addData = function(bufferList) {\n    if (this.parseState === DECODE_HEADER) {\n        if (bufferList.length >= 2) {\n            bufferList.joinInto(this.frameHeader, 0, 0, 2);\n            bufferList.advance(2);\n            var firstByte = this.frameHeader[0];\n            var secondByte = this.frameHeader[1];\n\n            this.fin     = Boolean(firstByte  & 0x80);\n            this.rsv1    = Boolean(firstByte  & 0x40);\n            this.rsv2    = Boolean(firstByte  & 0x20);\n            this.rsv3    = Boolean(firstByte  & 0x10);\n            this.mask    = Boolean(secondByte & 0x80);\n\n            this.opcode  = firstByte  & 0x0F;\n            this.length = secondByte & 0x7F;\n\n            // Control frame sanity check\n            if (this.opcode >= 0x08) {\n                if (this.length > 125) {\n                    this.protocolError = true;\n                    this.dropReason = 'Illegal control frame longer than 125 bytes.';\n                    return true;\n                }\n                if (!this.fin) {\n                    this.protocolError = true;\n                    this.dropReason = 'Control frames must not be fragmented.';\n                    return true;\n                }\n            }\n\n            if (this.length === 126) {\n                this.parseState = WAITING_FOR_16_BIT_LENGTH;\n            }\n            else if (this.length === 127) {\n                this.parseState = WAITING_FOR_64_BIT_LENGTH;\n            }\n            else {\n                this.parseState = WAITING_FOR_MASK_KEY;\n            }\n        }\n    }\n    if (this.parseState === WAITING_FOR_16_BIT_LENGTH) {\n        if (bufferList.length >= 2) {\n            bufferList.joinInto(this.frameHeader, 2, 0, 2);\n            bufferList.advance(2);\n            this.length = this.frameHeader.readUInt16BE(2);\n            this.parseState = WAITING_FOR_MASK_KEY;\n        }\n    }\n    else if (this.parseState === WAITING_FOR_64_BIT_LENGTH) {\n        if (bufferList.length >= 8) {\n            bufferList.joinInto(this.frameHeader, 2, 0, 8);\n            bufferList.advance(8);\n            var lengthPair = [\n              this.frameHeader.readUInt32BE(2),\n              this.frameHeader.readUInt32BE(2+4)\n            ];\n\n            if (lengthPair[0] !== 0) {\n                this.protocolError = true;\n                this.dropReason = 'Unsupported 64-bit length frame received';\n                return true;\n            }\n            this.length = lengthPair[1];\n            this.parseState = WAITING_FOR_MASK_KEY;\n        }\n    }\n\n    if (this.parseState === WAITING_FOR_MASK_KEY) {\n        if (this.mask) {\n            if (bufferList.length >= 4) {\n                bufferList.joinInto(this.maskBytes, 0, 0, 4);\n                bufferList.advance(4);\n                this.parseState = WAITING_FOR_PAYLOAD;\n            }\n        }\n        else {\n            this.parseState = WAITING_FOR_PAYLOAD;\n        }\n    }\n\n    if (this.parseState === WAITING_FOR_PAYLOAD) {\n        if (this.length > this.maxReceivedFrameSize) {\n            this.frameTooLarge = true;\n            this.dropReason = 'Frame size of ' + this.length.toString(10) +\n                              ' bytes exceeds maximum accepted frame size';\n            return true;\n        }\n\n        if (this.length === 0) {\n            this.binaryPayload = bufferAllocUnsafe(0);\n            this.parseState = COMPLETE;\n            return true;\n        }\n        if (bufferList.length >= this.length) {\n            this.binaryPayload = bufferList.take(this.length);\n            bufferList.advance(this.length);\n            if (this.mask) {\n                bufferUtil.unmask(this.binaryPayload, this.maskBytes);\n                // xor(this.binaryPayload, this.maskBytes, 0);\n            }\n\n            if (this.opcode === 0x08) { // WebSocketOpcode.CONNECTION_CLOSE\n                if (this.length === 1) {\n                    // Invalid length for a close frame.  Must be zero or at least two.\n                    this.binaryPayload = bufferAllocUnsafe(0);\n                    this.invalidCloseFrameLength = true;\n                }\n                if (this.length >= 2) {\n                    this.closeStatus = this.binaryPayload.readUInt16BE(0);\n                    this.binaryPayload = this.binaryPayload.slice(2);\n                }\n            }\n\n            this.parseState = COMPLETE;\n            return true;\n        }\n    }\n    return false;\n};\n\nWebSocketFrame.prototype.throwAwayPayload = function(bufferList) {\n    if (bufferList.length >= this.length) {\n        bufferList.advance(this.length);\n        this.parseState = COMPLETE;\n        return true;\n    }\n    return false;\n};\n\nWebSocketFrame.prototype.toBuffer = function(nullMask) {\n    var maskKey;\n    var headerLength = 2;\n    var data;\n    var outputPos;\n    var firstByte = 0x00;\n    var secondByte = 0x00;\n\n    if (this.fin) {\n        firstByte |= 0x80;\n    }\n    if (this.rsv1) {\n        firstByte |= 0x40;\n    }\n    if (this.rsv2) {\n        firstByte |= 0x20;\n    }\n    if (this.rsv3) {\n        firstByte |= 0x10;\n    }\n    if (this.mask) {\n        secondByte |= 0x80;\n    }\n\n    firstByte |= (this.opcode & 0x0F);\n\n    // the close frame is a special case because the close reason is\n    // prepended to the payload data.\n    if (this.opcode === 0x08) {\n        this.length = 2;\n        if (this.binaryPayload) {\n            this.length += this.binaryPayload.length;\n        }\n        data = bufferAllocUnsafe(this.length);\n        data.writeUInt16BE(this.closeStatus, 0);\n        if (this.length > 2) {\n            this.binaryPayload.copy(data, 2);\n        }\n    }\n    else if (this.binaryPayload) {\n        data = this.binaryPayload;\n        this.length = data.length;\n    }\n    else {\n        this.length = 0;\n    }\n\n    if (this.length <= 125) {\n        // encode the length directly into the two-byte frame header\n        secondByte |= (this.length & 0x7F);\n    }\n    else if (this.length > 125 && this.length <= 0xFFFF) {\n        // Use 16-bit length\n        secondByte |= 126;\n        headerLength += 2;\n    }\n    else if (this.length > 0xFFFF) {\n        // Use 64-bit length\n        secondByte |= 127;\n        headerLength += 8;\n    }\n\n    var output = bufferAllocUnsafe(this.length + headerLength + (this.mask ? 4 : 0));\n\n    // write the frame header\n    output[0] = firstByte;\n    output[1] = secondByte;\n\n    outputPos = 2;\n\n    if (this.length > 125 && this.length <= 0xFFFF) {\n        // write 16-bit length\n        output.writeUInt16BE(this.length, outputPos);\n        outputPos += 2;\n    }\n    else if (this.length > 0xFFFF) {\n        // write 64-bit length\n        output.writeUInt32BE(0x00000000, outputPos);\n        output.writeUInt32BE(this.length, outputPos + 4);\n        outputPos += 8;\n    }\n\n    if (this.mask) {\n        maskKey = nullMask ? 0 : ((Math.random() * 0xFFFFFFFF) >>> 0);\n        this.maskBytes.writeUInt32BE(maskKey, 0);\n\n        // write the mask key\n        this.maskBytes.copy(output, outputPos);\n        outputPos += 4;\n\n        if (data) {\n          bufferUtil.mask(data, this.maskBytes, output, outputPos, this.length);\n        }\n    }\n    else if (data) {\n        data.copy(output, outputPos);\n    }\n\n    return output;\n};\n\nWebSocketFrame.prototype.toString = function() {\n    return 'Opcode: ' + this.opcode + ', fin: ' + this.fin + ', length: ' + this.length + ', hasPayload: ' + Boolean(this.binaryPayload) + ', masked: ' + this.mask;\n};\n\n\nmodule.exports = WebSocketFrame;\n","// This file was copied from https://github.com/substack/node-bufferlist\n// and modified to be able to copy bytes from the bufferlist directly into\n// a pre-existing fixed-size buffer without an additional memory allocation.\n\n// bufferlist.js\n// Treat a linked list of buffers as a single variable-size buffer.\nvar Buffer = require('buffer').Buffer;\nvar EventEmitter = require('events').EventEmitter;\nvar bufferAllocUnsafe = require('../lib/utils').bufferAllocUnsafe;\n\nmodule.exports = BufferList;\nmodule.exports.BufferList = BufferList; // backwards compatibility\n\nfunction BufferList(opts) {\n    if (!(this instanceof BufferList)) return new BufferList(opts);\n    EventEmitter.call(this);\n    var self = this;\n    \n    if (typeof(opts) == 'undefined') opts = {};\n    \n    // default encoding to use for take(). Leaving as 'undefined'\n    // makes take() return a Buffer instead.\n    self.encoding = opts.encoding;\n    \n    var head = { next : null, buffer : null };\n    var last = { next : null, buffer : null };\n    \n    // length can get negative when advanced past the end\n    // and this is the desired behavior\n    var length = 0;\n    self.__defineGetter__('length', function () {\n        return length;\n    });\n    \n    // keep an offset of the head to decide when to head = head.next\n    var offset = 0;\n    \n    // Write to the bufferlist. Emits 'write'. Always returns true.\n    self.write = function (buf) {\n        if (!head.buffer) {\n            head.buffer = buf;\n            last = head;\n        }\n        else {\n            last.next = { next : null, buffer : buf };\n            last = last.next;\n        }\n        length += buf.length;\n        self.emit('write', buf);\n        return true;\n    };\n    \n    self.end = function (buf) {\n        if (Buffer.isBuffer(buf)) self.write(buf);\n    };\n    \n    // Push buffers to the end of the linked list. (deprecated)\n    // Return this (self).\n    self.push = function () {\n        var args = [].concat.apply([], arguments);\n        args.forEach(self.write);\n        return self;\n    };\n    \n    // For each buffer, perform some action.\n    // If fn's result is a true value, cut out early.\n    // Returns this (self).\n    self.forEach = function (fn) {\n        if (!head.buffer) return bufferAllocUnsafe(0);\n        \n        if (head.buffer.length - offset <= 0) return self;\n        var firstBuf = head.buffer.slice(offset);\n        \n        var b = { buffer : firstBuf, next : head.next };\n        \n        while (b && b.buffer) {\n            var r = fn(b.buffer);\n            if (r) break;\n            b = b.next;\n        }\n        \n        return self;\n    };\n    \n    // Create a single Buffer out of all the chunks or some subset specified by\n    // start and one-past the end (like slice) in bytes.\n    self.join = function (start, end) {\n        if (!head.buffer) return bufferAllocUnsafe(0);\n        if (start == undefined) start = 0;\n        if (end == undefined) end = self.length;\n        \n        var big = bufferAllocUnsafe(end - start);\n        var ix = 0;\n        self.forEach(function (buffer) {\n            if (start < (ix + buffer.length) && ix < end) {\n                // at least partially contained in the range\n                buffer.copy(\n                    big,\n                    Math.max(0, ix - start),\n                    Math.max(0, start - ix),\n                    Math.min(buffer.length, end - ix)\n                );\n            }\n            ix += buffer.length;\n            if (ix > end) return true; // stop processing past end\n        });\n        \n        return big;\n    };\n    \n    self.joinInto = function (targetBuffer, targetStart, sourceStart, sourceEnd) {\n        if (!head.buffer) return new bufferAllocUnsafe(0);\n        if (sourceStart == undefined) sourceStart = 0;\n        if (sourceEnd == undefined) sourceEnd = self.length;\n        \n        var big = targetBuffer;\n        if (big.length - targetStart < sourceEnd - sourceStart) {\n            throw new Error(\"Insufficient space available in target Buffer.\");\n        }\n        var ix = 0;\n        self.forEach(function (buffer) {\n            if (sourceStart < (ix + buffer.length) && ix < sourceEnd) {\n                // at least partially contained in the range\n                buffer.copy(\n                    big,\n                    Math.max(targetStart, targetStart + ix - sourceStart),\n                    Math.max(0, sourceStart - ix),\n                    Math.min(buffer.length, sourceEnd - ix)\n                );\n            }\n            ix += buffer.length;\n            if (ix > sourceEnd) return true; // stop processing past end\n        });\n        \n        return big;\n    };\n    \n    // Advance the buffer stream by n bytes.\n    // If n the aggregate advance offset passes the end of the buffer list,\n    // operations such as .take() will return empty strings until enough data is\n    // pushed.\n    // Returns this (self).\n    self.advance = function (n) {\n        offset += n;\n        length -= n;\n        while (head.buffer && offset >= head.buffer.length) {\n            offset -= head.buffer.length;\n            head = head.next\n                ? head.next\n                : { buffer : null, next : null }\n            ;\n        }\n        if (head.buffer === null) last = { next : null, buffer : null };\n        self.emit('advance', n);\n        return self;\n    };\n    \n    // Take n bytes from the start of the buffers.\n    // Returns a string.\n    // If there are less than n bytes in all the buffers or n is undefined,\n    // returns the entire concatenated buffer string.\n    self.take = function (n, encoding) {\n        if (n == undefined) n = self.length;\n        else if (typeof n !== 'number') {\n            encoding = n;\n            n = self.length;\n        }\n        var b = head;\n        if (!encoding) encoding = self.encoding;\n        if (encoding) {\n            var acc = '';\n            self.forEach(function (buffer) {\n                if (n <= 0) return true;\n                acc += buffer.toString(\n                    encoding, 0, Math.min(n,buffer.length)\n                );\n                n -= buffer.length;\n            });\n            return acc;\n        } else {\n            // If no 'encoding' is specified, then return a Buffer.\n            return self.join(0, n);\n        }\n    };\n    \n    // The entire concatenated buffer as a string.\n    self.toString = function () {\n        return self.take('binary');\n    };\n}\nrequire('util').inherits(BufferList, EventEmitter);\n","/************************************************************************\n *  Copyright 2010-2015 Brian McKelvey.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n ***********************************************************************/\n\nvar util = require('util');\nvar utils = require('./utils');\nvar EventEmitter = require('events').EventEmitter;\nvar WebSocketFrame = require('./WebSocketFrame');\nvar BufferList = require('../vendor/FastBufferList');\nvar isValidUTF8 = require('utf-8-validate');\nvar bufferAllocUnsafe = utils.bufferAllocUnsafe;\nvar bufferFromString = utils.bufferFromString;\n\n// Connected, fully-open, ready to send and receive frames\nconst STATE_OPEN = 'open';\n// Received a close frame from the remote peer\nconst STATE_PEER_REQUESTED_CLOSE = 'peer_requested_close';\n// Sent close frame to remote peer.  No further data can be sent.\nconst STATE_ENDING = 'ending';\n// Connection is fully closed.  No further data can be sent or received.\nconst STATE_CLOSED = 'closed';\n\nvar setImmediateImpl = ('setImmediate' in global) ?\n                            global.setImmediate.bind(global) :\n                            process.nextTick.bind(process);\n\nvar idCounter = 0;\n\nfunction WebSocketConnection(socket, extensions, protocol, maskOutgoingPackets, config) {\n    this._debug = utils.BufferingLogger('websocket:connection', ++idCounter);\n    this._debug('constructor');\n    \n    if (this._debug.enabled) {\n        instrumentSocketForDebugging(this, socket);\n    }\n    \n    // Superclass Constructor\n    EventEmitter.call(this);\n\n    this._pingListenerCount = 0;\n    this.on('newListener', function(ev) {\n        if (ev === 'ping'){\n            this._pingListenerCount++;\n        }\n      }).on('removeListener', function(ev) {\n        if (ev === 'ping') {\n            this._pingListenerCount--;\n        }\n    });\n\n    this.config = config;\n    this.socket = socket;\n    this.protocol = protocol;\n    this.extensions = extensions;\n    this.remoteAddress = socket.remoteAddress;\n    this.closeReasonCode = -1;\n    this.closeDescription = null;\n    this.closeEventEmitted = false;\n\n    // We have to mask outgoing packets if we're acting as a WebSocket client.\n    this.maskOutgoingPackets = maskOutgoingPackets;\n\n    // We re-use the same buffers for the mask and frame header for all frames\n    // received on each connection to avoid a small memory allocation for each\n    // frame.\n    this.maskBytes = bufferAllocUnsafe(4);\n    this.frameHeader = bufferAllocUnsafe(10);\n\n    // the BufferList will handle the data streaming in\n    this.bufferList = new BufferList();\n\n    // Prepare for receiving first frame\n    this.currentFrame = new WebSocketFrame(this.maskBytes, this.frameHeader, this.config);\n    this.fragmentationSize = 0; // data received so far...\n    this.frameQueue = [];\n    \n    // Various bits of connection state\n    this.connected = true;\n    this.state = STATE_OPEN;\n    this.waitingForCloseResponse = false;\n    // Received TCP FIN, socket's readable stream is finished.\n    this.receivedEnd = false;\n\n    this.closeTimeout = this.config.closeTimeout;\n    this.assembleFragments = this.config.assembleFragments;\n    this.maxReceivedMessageSize = this.config.maxReceivedMessageSize;\n\n    this.outputBufferFull = false;\n    this.inputPaused = false;\n    this.receivedDataHandler = this.processReceivedData.bind(this);\n    this._closeTimerHandler = this.handleCloseTimer.bind(this);\n\n    // Disable nagle algorithm?\n    this.socket.setNoDelay(this.config.disableNagleAlgorithm);\n\n    // Make sure there is no socket inactivity timeout\n    this.socket.setTimeout(0);\n\n    if (this.config.keepalive && !this.config.useNativeKeepalive) {\n        if (typeof(this.config.keepaliveInterval) !== 'number') {\n            throw new Error('keepaliveInterval must be specified and numeric ' +\n                            'if keepalive is true.');\n        }\n        this._keepaliveTimerHandler = this.handleKeepaliveTimer.bind(this);\n        this.setKeepaliveTimer();\n\n        if (this.config.dropConnectionOnKeepaliveTimeout) {\n            if (typeof(this.config.keepaliveGracePeriod) !== 'number') {\n                throw new Error('keepaliveGracePeriod  must be specified and ' +\n                                'numeric if dropConnectionOnKeepaliveTimeout ' +\n                                'is true.');\n            }\n            this._gracePeriodTimerHandler = this.handleGracePeriodTimer.bind(this);\n        }\n    }\n    else if (this.config.keepalive && this.config.useNativeKeepalive) {\n        if (!('setKeepAlive' in this.socket)) {\n            throw new Error('Unable to use native keepalive: unsupported by ' +\n                            'this version of Node.');\n        }\n        this.socket.setKeepAlive(true, this.config.keepaliveInterval);\n    }\n    \n    // The HTTP Client seems to subscribe to socket error events\n    // and re-dispatch them in such a way that doesn't make sense\n    // for users of our client, so we want to make sure nobody\n    // else is listening for error events on the socket besides us.\n    this.socket.removeAllListeners('error');\n}\n\nWebSocketConnection.CLOSE_REASON_NORMAL = 1000;\nWebSocketConnection.CLOSE_REASON_GOING_AWAY = 1001;\nWebSocketConnection.CLOSE_REASON_PROTOCOL_ERROR = 1002;\nWebSocketConnection.CLOSE_REASON_UNPROCESSABLE_INPUT = 1003;\nWebSocketConnection.CLOSE_REASON_RESERVED = 1004; // Reserved value.  Undefined meaning.\nWebSocketConnection.CLOSE_REASON_NOT_PROVIDED = 1005; // Not to be used on the wire\nWebSocketConnection.CLOSE_REASON_ABNORMAL = 1006; // Not to be used on the wire\nWebSocketConnection.CLOSE_REASON_INVALID_DATA = 1007;\nWebSocketConnection.CLOSE_REASON_POLICY_VIOLATION = 1008;\nWebSocketConnection.CLOSE_REASON_MESSAGE_TOO_BIG = 1009;\nWebSocketConnection.CLOSE_REASON_EXTENSION_REQUIRED = 1010;\nWebSocketConnection.CLOSE_REASON_INTERNAL_SERVER_ERROR = 1011;\nWebSocketConnection.CLOSE_REASON_TLS_HANDSHAKE_FAILED = 1015; // Not to be used on the wire\n\nWebSocketConnection.CLOSE_DESCRIPTIONS = {\n    1000: 'Normal connection closure',\n    1001: 'Remote peer is going away',\n    1002: 'Protocol error',\n    1003: 'Unprocessable input',\n    1004: 'Reserved',\n    1005: 'Reason not provided',\n    1006: 'Abnormal closure, no further detail available',\n    1007: 'Invalid data received',\n    1008: 'Policy violation',\n    1009: 'Message too big',\n    1010: 'Extension requested by client is required',\n    1011: 'Internal Server Error',\n    1015: 'TLS Handshake Failed'\n};\n\nfunction validateCloseReason(code) {\n    if (code < 1000) {\n        // Status codes in the range 0-999 are not used\n        return false;\n    }\n    if (code >= 1000 && code <= 2999) {\n        // Codes from 1000 - 2999 are reserved for use by the protocol.  Only\n        // a few codes are defined, all others are currently illegal.\n        return [1000, 1001, 1002, 1003, 1007, 1008, 1009, 1010, 1011, 1012, 1013, 1014, 1015].indexOf(code) !== -1;\n    }\n    if (code >= 3000 && code <= 3999) {\n        // Reserved for use by libraries, frameworks, and applications.\n        // Should be registered with IANA.  Interpretation of these codes is\n        // undefined by the WebSocket protocol.\n        return true;\n    }\n    if (code >= 4000 && code <= 4999) {\n        // Reserved for private use.  Interpretation of these codes is\n        // undefined by the WebSocket protocol.\n        return true;\n    }\n    if (code >= 5000) {\n        return false;\n    }\n}\n\nutil.inherits(WebSocketConnection, EventEmitter);\n\nWebSocketConnection.prototype._addSocketEventListeners = function() {\n    this.socket.on('error', this.handleSocketError.bind(this));\n    this.socket.on('end', this.handleSocketEnd.bind(this));\n    this.socket.on('close', this.handleSocketClose.bind(this));\n    this.socket.on('drain', this.handleSocketDrain.bind(this));\n    this.socket.on('pause', this.handleSocketPause.bind(this));\n    this.socket.on('resume', this.handleSocketResume.bind(this));\n    this.socket.on('data', this.handleSocketData.bind(this));\n};\n\n// set or reset the keepalive timer when data is received.\nWebSocketConnection.prototype.setKeepaliveTimer = function() {\n    this._debug('setKeepaliveTimer');\n    if (!this.config.keepalive  || this.config.useNativeKeepalive) { return; }\n    this.clearKeepaliveTimer();\n    this.clearGracePeriodTimer();\n    this._keepaliveTimeoutID = setTimeout(this._keepaliveTimerHandler, this.config.keepaliveInterval);\n};\n\nWebSocketConnection.prototype.clearKeepaliveTimer = function() {\n    if (this._keepaliveTimeoutID) {\n        clearTimeout(this._keepaliveTimeoutID);\n    }\n};\n\n// No data has been received within config.keepaliveTimeout ms.\nWebSocketConnection.prototype.handleKeepaliveTimer = function() {\n    this._debug('handleKeepaliveTimer');\n    this._keepaliveTimeoutID = null;\n    this.ping();\n\n    // If we are configured to drop connections if the client doesn't respond\n    // then set the grace period timer.\n    if (this.config.dropConnectionOnKeepaliveTimeout) {\n        this.setGracePeriodTimer();\n    }\n    else {\n        // Otherwise reset the keepalive timer to send the next ping.\n        this.setKeepaliveTimer();\n    }\n};\n\nWebSocketConnection.prototype.setGracePeriodTimer = function() {\n    this._debug('setGracePeriodTimer');\n    this.clearGracePeriodTimer();\n    this._gracePeriodTimeoutID = setTimeout(this._gracePeriodTimerHandler, this.config.keepaliveGracePeriod);\n};\n\nWebSocketConnection.prototype.clearGracePeriodTimer = function() {\n    if (this._gracePeriodTimeoutID) {\n        clearTimeout(this._gracePeriodTimeoutID);\n    }\n};\n\nWebSocketConnection.prototype.handleGracePeriodTimer = function() {\n    this._debug('handleGracePeriodTimer');\n    // If this is called, the client has not responded and is assumed dead.\n    this._gracePeriodTimeoutID = null;\n    this.drop(WebSocketConnection.CLOSE_REASON_ABNORMAL, 'Peer not responding.', true);\n};\n\nWebSocketConnection.prototype.handleSocketData = function(data) {\n    this._debug('handleSocketData');\n    // Reset the keepalive timer when receiving data of any kind.\n    this.setKeepaliveTimer();\n\n    // Add received data to our bufferList, which efficiently holds received\n    // data chunks in a linked list of Buffer objects.\n    this.bufferList.write(data);\n\n    this.processReceivedData();\n};\n\nWebSocketConnection.prototype.processReceivedData = function() {\n    this._debug('processReceivedData');\n    // If we're not connected, we should ignore any data remaining on the buffer.\n    if (!this.connected) { return; }\n\n    // Receiving/parsing is expected to be halted when paused.\n    if (this.inputPaused) { return; }\n\n    var frame = this.currentFrame;\n\n    // WebSocketFrame.prototype.addData returns true if all data necessary to\n    // parse the frame was available.  It returns false if we are waiting for\n    // more data to come in on the wire.\n    if (!frame.addData(this.bufferList)) { this._debug('-- insufficient data for frame'); return; }\n\n    var self = this;\n\n    // Handle possible parsing errors\n    if (frame.protocolError) {\n        // Something bad happened.. get rid of this client.\n        this._debug('-- protocol error');\n        process.nextTick(function() {\n            self.drop(WebSocketConnection.CLOSE_REASON_PROTOCOL_ERROR, frame.dropReason);\n        });\n        return;\n    }\n    else if (frame.frameTooLarge) {\n        this._debug('-- frame too large');\n        process.nextTick(function() {\n            self.drop(WebSocketConnection.CLOSE_REASON_MESSAGE_TOO_BIG, frame.dropReason);\n        });\n        return;\n    }\n\n    // For now since we don't support extensions, all RSV bits are illegal\n    if (frame.rsv1 || frame.rsv2 || frame.rsv3) {\n        this._debug('-- illegal rsv flag');\n        process.nextTick(function() {\n            self.drop(WebSocketConnection.CLOSE_REASON_PROTOCOL_ERROR,\n              'Unsupported usage of rsv bits without negotiated extension.');\n        });\n        return;\n    }\n\n    if (!this.assembleFragments) {\n        this._debug('-- emitting frame');\n        process.nextTick(function() { self.emit('frame', frame); });\n    }\n\n    process.nextTick(function() { self.processFrame(frame); });\n    \n    this.currentFrame = new WebSocketFrame(this.maskBytes, this.frameHeader, this.config);\n\n    // If there's data remaining, schedule additional processing, but yield\n    // for now so that other connections have a chance to have their data\n    // processed.  We use setImmediate here instead of process.nextTick to\n    // explicitly indicate that we wish for other I/O to be handled first.\n    if (this.bufferList.length > 0) {\n        setImmediateImpl(this.receivedDataHandler);\n    }\n};\n\nWebSocketConnection.prototype.handleSocketError = function(error) {\n    this._debug('handleSocketError: %j', error);\n    if (this.state === STATE_CLOSED) {\n\t\t// See https://github.com/theturtle32/WebSocket-Node/issues/288\n        this._debug('  --- Socket \\'error\\' after \\'close\\'');\n        return;\n    }\n    this.closeReasonCode = WebSocketConnection.CLOSE_REASON_ABNORMAL;\n    this.closeDescription = 'Socket Error: ' + error.syscall + ' ' + error.code;\n    this.connected = false;\n    this.state = STATE_CLOSED;\n    this.fragmentationSize = 0;\n    if (utils.eventEmitterListenerCount(this, 'error') > 0) {\n        this.emit('error', error);\n    }\n    this.socket.destroy();\n    this._debug.printOutput();\n};\n\nWebSocketConnection.prototype.handleSocketEnd = function() {\n    this._debug('handleSocketEnd: received socket end.  state = %s', this.state);\n    this.receivedEnd = true;\n    if (this.state === STATE_CLOSED) {\n        // When using the TLS module, sometimes the socket will emit 'end'\n        // after it emits 'close'.  I don't think that's correct behavior,\n        // but we should deal with it gracefully by ignoring it.\n        this._debug('  --- Socket \\'end\\' after \\'close\\'');\n        return;\n    }\n    if (this.state !== STATE_PEER_REQUESTED_CLOSE &&\n        this.state !== STATE_ENDING) {\n      this._debug('  --- UNEXPECTED socket end.');\n      this.socket.end();\n    }\n};\n\nWebSocketConnection.prototype.handleSocketClose = function(hadError) {\n    this._debug('handleSocketClose: received socket close');\n    this.socketHadError = hadError;\n    this.connected = false;\n    this.state = STATE_CLOSED;\n    // If closeReasonCode is still set to -1 at this point then we must\n    // not have received a close frame!!\n    if (this.closeReasonCode === -1) {\n        this.closeReasonCode = WebSocketConnection.CLOSE_REASON_ABNORMAL;\n        this.closeDescription = 'Connection dropped by remote peer.';\n    }\n    this.clearCloseTimer();\n    this.clearKeepaliveTimer();\n    this.clearGracePeriodTimer();\n    if (!this.closeEventEmitted) {\n        this.closeEventEmitted = true;\n        this._debug('-- Emitting WebSocketConnection close event');\n        this.emit('close', this.closeReasonCode, this.closeDescription);\n    }\n};\n\nWebSocketConnection.prototype.handleSocketDrain = function() {\n    this._debug('handleSocketDrain: socket drain event');\n    this.outputBufferFull = false;\n    this.emit('drain');\n};\n\nWebSocketConnection.prototype.handleSocketPause = function() {\n    this._debug('handleSocketPause: socket pause event');\n    this.inputPaused = true;\n    this.emit('pause');\n};\n\nWebSocketConnection.prototype.handleSocketResume = function() {\n    this._debug('handleSocketResume: socket resume event');\n    this.inputPaused = false;\n    this.emit('resume');\n    this.processReceivedData();\n};\n\nWebSocketConnection.prototype.pause = function() {\n    this._debug('pause: pause requested');\n    this.socket.pause();\n};\n\nWebSocketConnection.prototype.resume = function() {\n    this._debug('resume: resume requested');\n    this.socket.resume();\n};\n\nWebSocketConnection.prototype.close = function(reasonCode, description) {\n    if (this.connected) {\n        this._debug('close: Initating clean WebSocket close sequence.');\n        if ('number' !== typeof reasonCode) {\n            reasonCode = WebSocketConnection.CLOSE_REASON_NORMAL;\n        }\n        if (!validateCloseReason(reasonCode)) {\n            throw new Error('Close code ' + reasonCode + ' is not valid.');\n        }\n        if ('string' !== typeof description) {\n            description = WebSocketConnection.CLOSE_DESCRIPTIONS[reasonCode];\n        }\n        this.closeReasonCode = reasonCode;\n        this.closeDescription = description;\n        this.setCloseTimer();\n        this.sendCloseFrame(this.closeReasonCode, this.closeDescription);\n        this.state = STATE_ENDING;\n        this.connected = false;\n    }\n};\n\nWebSocketConnection.prototype.drop = function(reasonCode, description, skipCloseFrame) {\n    this._debug('drop');\n    if (typeof(reasonCode) !== 'number') {\n        reasonCode = WebSocketConnection.CLOSE_REASON_PROTOCOL_ERROR;\n    }\n\n    if (typeof(description) !== 'string') {\n        // If no description is provided, try to look one up based on the\n        // specified reasonCode.\n        description = WebSocketConnection.CLOSE_DESCRIPTIONS[reasonCode];\n    }\n\n    this._debug('Forcefully dropping connection. skipCloseFrame: %s, code: %d, description: %s',\n        skipCloseFrame, reasonCode, description\n    );\n\n    this.closeReasonCode = reasonCode;\n    this.closeDescription = description;\n    this.frameQueue = [];\n    this.fragmentationSize = 0;\n    if (!skipCloseFrame) {\n        this.sendCloseFrame(reasonCode, description);\n    }\n    this.connected = false;\n    this.state = STATE_CLOSED;\n    this.clearCloseTimer();\n    this.clearKeepaliveTimer();\n    this.clearGracePeriodTimer();\n\n    if (!this.closeEventEmitted) {\n        this.closeEventEmitted = true;\n        this._debug('Emitting WebSocketConnection close event');\n        this.emit('close', this.closeReasonCode, this.closeDescription);\n    }\n    \n    this._debug('Drop: destroying socket');\n    this.socket.destroy();\n};\n\nWebSocketConnection.prototype.setCloseTimer = function() {\n    this._debug('setCloseTimer');\n    this.clearCloseTimer();\n    this._debug('Setting close timer');\n    this.waitingForCloseResponse = true;\n    this.closeTimer = setTimeout(this._closeTimerHandler, this.closeTimeout);\n};\n\nWebSocketConnection.prototype.clearCloseTimer = function() {\n    this._debug('clearCloseTimer');\n    if (this.closeTimer) {\n        this._debug('Clearing close timer');\n        clearTimeout(this.closeTimer);\n        this.waitingForCloseResponse = false;\n        this.closeTimer = null;\n    }\n};\n\nWebSocketConnection.prototype.handleCloseTimer = function() {\n    this._debug('handleCloseTimer');\n    this.closeTimer = null;\n    if (this.waitingForCloseResponse) {\n        this._debug('Close response not received from client.  Forcing socket end.');\n        this.waitingForCloseResponse = false;\n        this.state = STATE_CLOSED;\n        this.socket.end();\n    }\n};\n\nWebSocketConnection.prototype.processFrame = function(frame) {\n    this._debug('processFrame');\n    this._debug(' -- frame: %s', frame);\n    \n    // Any non-control opcode besides 0x00 (continuation) received in the\n    // middle of a fragmented message is illegal.\n    if (this.frameQueue.length !== 0 && (frame.opcode > 0x00 && frame.opcode < 0x08)) {\n        this.drop(WebSocketConnection.CLOSE_REASON_PROTOCOL_ERROR,\n          'Illegal frame opcode 0x' + frame.opcode.toString(16) + ' ' +\n          'received in middle of fragmented message.');\n        return;\n    }\n\n    switch(frame.opcode) {\n        case 0x02: // WebSocketFrame.BINARY_FRAME\n            this._debug('-- Binary Frame');\n            if (this.assembleFragments) {\n                if (frame.fin) {\n                    // Complete single-frame message received\n                    this._debug('---- Emitting \\'message\\' event');\n                    this.emit('message', {\n                        type: 'binary',\n                        binaryData: frame.binaryPayload\n                    });\n                }\n                else {\n                    // beginning of a fragmented message\n                    this.frameQueue.push(frame);\n                    this.fragmentationSize = frame.length;\n                }\n            }\n            break;\n        case 0x01: // WebSocketFrame.TEXT_FRAME\n            this._debug('-- Text Frame');\n            if (this.assembleFragments) {\n                if (frame.fin) {\n                    if (!isValidUTF8(frame.binaryPayload)) {\n                        this.drop(WebSocketConnection.CLOSE_REASON_INVALID_DATA,\n                          'Invalid UTF-8 Data Received');\n                        return;\n                    }\n                    // Complete single-frame message received\n                    this._debug('---- Emitting \\'message\\' event');\n                    this.emit('message', {\n                        type: 'utf8',\n                        utf8Data: frame.binaryPayload.toString('utf8')\n                    });\n                }\n                else {\n                    // beginning of a fragmented message\n                    this.frameQueue.push(frame);\n                    this.fragmentationSize = frame.length;\n                }\n            }\n            break;\n        case 0x00: // WebSocketFrame.CONTINUATION\n            this._debug('-- Continuation Frame');\n            if (this.assembleFragments) {\n                if (this.frameQueue.length === 0) {\n                    this.drop(WebSocketConnection.CLOSE_REASON_PROTOCOL_ERROR,\n                      'Unexpected Continuation Frame');\n                    return;\n                }\n\n                this.fragmentationSize += frame.length;\n\n                if (this.fragmentationSize > this.maxReceivedMessageSize) {\n                    this.drop(WebSocketConnection.CLOSE_REASON_MESSAGE_TOO_BIG,\n                      'Maximum message size exceeded.');\n                    return;\n                }\n\n                this.frameQueue.push(frame);\n\n                if (frame.fin) {\n                    // end of fragmented message, so we process the whole\n                    // message now.  We also have to decode the utf-8 data\n                    // for text frames after combining all the fragments.\n                    var bytesCopied = 0;\n                    var binaryPayload = bufferAllocUnsafe(this.fragmentationSize);\n                    var opcode = this.frameQueue[0].opcode;\n                    this.frameQueue.forEach(function (currentFrame) {\n                        currentFrame.binaryPayload.copy(binaryPayload, bytesCopied);\n                        bytesCopied += currentFrame.binaryPayload.length;\n                    });\n                    this.frameQueue = [];\n                    this.fragmentationSize = 0;\n\n                    switch (opcode) {\n                        case 0x02: // WebSocketOpcode.BINARY_FRAME\n                            this.emit('message', {\n                                type: 'binary',\n                                binaryData: binaryPayload\n                            });\n                            break;\n                        case 0x01: // WebSocketOpcode.TEXT_FRAME\n                            if (!isValidUTF8(binaryPayload)) {\n                                this.drop(WebSocketConnection.CLOSE_REASON_INVALID_DATA,\n                                  'Invalid UTF-8 Data Received');\n                                return;\n                            }\n                            this.emit('message', {\n                                type: 'utf8',\n                                utf8Data: binaryPayload.toString('utf8')\n                            });\n                            break;\n                        default:\n                            this.drop(WebSocketConnection.CLOSE_REASON_PROTOCOL_ERROR,\n                              'Unexpected first opcode in fragmentation sequence: 0x' + opcode.toString(16));\n                            return;\n                    }\n                }\n            }\n            break;\n        case 0x09: // WebSocketFrame.PING\n            this._debug('-- Ping Frame');\n\n            if (this._pingListenerCount > 0) {\n                // logic to emit the ping frame: this is only done when a listener is known to exist\n                // Expose a function allowing the user to override the default ping() behavior\n                var cancelled = false;\n                var cancel = function() { \n                  cancelled = true; \n                };\n                this.emit('ping', cancel, frame.binaryPayload);\n\n                // Only send a pong if the client did not indicate that he would like to cancel\n                if (!cancelled) {\n                    this.pong(frame.binaryPayload);\n                }\n            }\n            else {\n                this.pong(frame.binaryPayload);\n            }\n\n            break;\n        case 0x0A: // WebSocketFrame.PONG\n            this._debug('-- Pong Frame');\n            this.emit('pong', frame.binaryPayload);\n            break;\n        case 0x08: // WebSocketFrame.CONNECTION_CLOSE\n            this._debug('-- Close Frame');\n            if (this.waitingForCloseResponse) {\n                // Got response to our request to close the connection.\n                // Close is complete, so we just hang up.\n                this._debug('---- Got close response from peer.  Completing closing handshake.');\n                this.clearCloseTimer();\n                this.waitingForCloseResponse = false;\n                this.state = STATE_CLOSED;\n                this.socket.end();\n                return;\n            }\n            \n            this._debug('---- Closing handshake initiated by peer.');\n            // Got request from other party to close connection.\n            // Send back acknowledgement and then hang up.\n            this.state = STATE_PEER_REQUESTED_CLOSE;\n            var respondCloseReasonCode;\n\n            // Make sure the close reason provided is legal according to\n            // the protocol spec.  Providing no close status is legal.\n            // WebSocketFrame sets closeStatus to -1 by default, so if it\n            // is still -1, then no status was provided.\n            if (frame.invalidCloseFrameLength) {\n                this.closeReasonCode = 1005; // 1005 = No reason provided.\n                respondCloseReasonCode = WebSocketConnection.CLOSE_REASON_PROTOCOL_ERROR;\n            }\n            else if (frame.closeStatus === -1 || validateCloseReason(frame.closeStatus)) {\n                this.closeReasonCode = frame.closeStatus;\n                respondCloseReasonCode = WebSocketConnection.CLOSE_REASON_NORMAL;\n            }\n            else {\n                this.closeReasonCode = frame.closeStatus;\n                respondCloseReasonCode = WebSocketConnection.CLOSE_REASON_PROTOCOL_ERROR;\n            }\n            \n            // If there is a textual description in the close frame, extract it.\n            if (frame.binaryPayload.length > 1) {\n                if (!isValidUTF8(frame.binaryPayload)) {\n                    this.drop(WebSocketConnection.CLOSE_REASON_INVALID_DATA,\n                      'Invalid UTF-8 Data Received');\n                    return;\n                }\n                this.closeDescription = frame.binaryPayload.toString('utf8');\n            }\n            else {\n                this.closeDescription = WebSocketConnection.CLOSE_DESCRIPTIONS[this.closeReasonCode];\n            }\n            this._debug(\n                '------ Remote peer %s - code: %d - %s - close frame payload length: %d',\n                this.remoteAddress, this.closeReasonCode,\n                this.closeDescription, frame.length\n            );\n            this._debug('------ responding to remote peer\\'s close request.');\n            this.sendCloseFrame(respondCloseReasonCode, null);\n            this.connected = false;\n            break;\n        default:\n            this._debug('-- Unrecognized Opcode %d', frame.opcode);\n            this.drop(WebSocketConnection.CLOSE_REASON_PROTOCOL_ERROR,\n              'Unrecognized Opcode: 0x' + frame.opcode.toString(16));\n            break;\n    }\n};\n\nWebSocketConnection.prototype.send = function(data, cb) {\n    this._debug('send');\n    if (Buffer.isBuffer(data)) {\n        this.sendBytes(data, cb);\n    }\n    else if (typeof(data['toString']) === 'function') {\n        this.sendUTF(data, cb);\n    }\n    else {\n        throw new Error('Data provided must either be a Node Buffer or implement toString()');\n    }\n};\n\nWebSocketConnection.prototype.sendUTF = function(data, cb) {\n    data = bufferFromString(data.toString(), 'utf8');\n    this._debug('sendUTF: %d bytes', data.length);\n    var frame = new WebSocketFrame(this.maskBytes, this.frameHeader, this.config);\n    frame.opcode = 0x01; // WebSocketOpcode.TEXT_FRAME\n    frame.binaryPayload = data;\n    this.fragmentAndSend(frame, cb);\n};\n\nWebSocketConnection.prototype.sendBytes = function(data, cb) {\n    this._debug('sendBytes');\n    if (!Buffer.isBuffer(data)) {\n        throw new Error('You must pass a Node Buffer object to WebSocketConnection.prototype.sendBytes()');\n    }\n    var frame = new WebSocketFrame(this.maskBytes, this.frameHeader, this.config);\n    frame.opcode = 0x02; // WebSocketOpcode.BINARY_FRAME\n    frame.binaryPayload = data;\n    this.fragmentAndSend(frame, cb);\n};\n\nWebSocketConnection.prototype.ping = function(data) {\n    this._debug('ping');\n    var frame = new WebSocketFrame(this.maskBytes, this.frameHeader, this.config);\n    frame.opcode = 0x09; // WebSocketOpcode.PING\n    frame.fin = true;\n    if (data) {\n        if (!Buffer.isBuffer(data)) {\n            data = bufferFromString(data.toString(), 'utf8');\n        }\n        if (data.length > 125) {\n            this._debug('WebSocket: Data for ping is longer than 125 bytes.  Truncating.');\n            data = data.slice(0,124);\n        }\n        frame.binaryPayload = data;\n    }\n    this.sendFrame(frame);\n};\n\n// Pong frames have to echo back the contents of the data portion of the\n// ping frame exactly, byte for byte.\nWebSocketConnection.prototype.pong = function(binaryPayload) {\n    this._debug('pong');\n    var frame = new WebSocketFrame(this.maskBytes, this.frameHeader, this.config);\n    frame.opcode = 0x0A; // WebSocketOpcode.PONG\n    if (Buffer.isBuffer(binaryPayload) && binaryPayload.length > 125) {\n        this._debug('WebSocket: Data for pong is longer than 125 bytes.  Truncating.');\n        binaryPayload = binaryPayload.slice(0,124);\n    }\n    frame.binaryPayload = binaryPayload;\n    frame.fin = true;\n    this.sendFrame(frame);\n};\n\nWebSocketConnection.prototype.fragmentAndSend = function(frame, cb) {\n    this._debug('fragmentAndSend');\n    if (frame.opcode > 0x07) {\n        throw new Error('You cannot fragment control frames.');\n    }\n\n    var threshold = this.config.fragmentationThreshold;\n    var length = frame.binaryPayload.length;\n\n    // Send immediately if fragmentation is disabled or the message is not\n    // larger than the fragmentation threshold.\n    if (!this.config.fragmentOutgoingMessages || (frame.binaryPayload && length <= threshold)) {\n        frame.fin = true;\n        this.sendFrame(frame, cb);\n        return;\n    }\n    \n    var numFragments = Math.ceil(length / threshold);\n    var sentFragments = 0;\n    var sentCallback = function fragmentSentCallback(err) {\n        if (err) {\n            if (typeof cb === 'function') {\n                // pass only the first error\n                cb(err);\n                cb = null;\n            }\n            return;\n        }\n        ++sentFragments;\n        if ((sentFragments === numFragments) && (typeof cb === 'function')) {\n            cb();\n        }\n    };\n    for (var i=1; i <= numFragments; i++) {\n        var currentFrame = new WebSocketFrame(this.maskBytes, this.frameHeader, this.config);\n        \n        // continuation opcode except for first frame.\n        currentFrame.opcode = (i === 1) ? frame.opcode : 0x00;\n        \n        // fin set on last frame only\n        currentFrame.fin = (i === numFragments);\n        \n        // length is likely to be shorter on the last fragment\n        var currentLength = (i === numFragments) ? length - (threshold * (i-1)) : threshold;\n        var sliceStart = threshold * (i-1);\n        \n        // Slice the right portion of the original payload\n        currentFrame.binaryPayload = frame.binaryPayload.slice(sliceStart, sliceStart + currentLength);\n        \n        this.sendFrame(currentFrame, sentCallback);\n    }\n};\n\nWebSocketConnection.prototype.sendCloseFrame = function(reasonCode, description, cb) {\n    if (typeof(reasonCode) !== 'number') {\n        reasonCode = WebSocketConnection.CLOSE_REASON_NORMAL;\n    }\n    \n    this._debug('sendCloseFrame state: %s, reasonCode: %d, description: %s', this.state, reasonCode, description);\n    \n    if (this.state !== STATE_OPEN && this.state !== STATE_PEER_REQUESTED_CLOSE) { return; }\n    \n    var frame = new WebSocketFrame(this.maskBytes, this.frameHeader, this.config);\n    frame.fin = true;\n    frame.opcode = 0x08; // WebSocketOpcode.CONNECTION_CLOSE\n    frame.closeStatus = reasonCode;\n    if (typeof(description) === 'string') {\n        frame.binaryPayload = bufferFromString(description, 'utf8');\n    }\n    \n    this.sendFrame(frame, cb);\n    this.socket.end();\n};\n\nWebSocketConnection.prototype.sendFrame = function(frame, cb) {\n    this._debug('sendFrame');\n    frame.mask = this.maskOutgoingPackets;\n    var flushed = this.socket.write(frame.toBuffer(), cb);\n    this.outputBufferFull = !flushed;\n    return flushed;\n};\n\nmodule.exports = WebSocketConnection;\n\n\n\nfunction instrumentSocketForDebugging(connection, socket) {\n    /* jshint loopfunc: true */\n    if (!connection._debug.enabled) { return; }\n    \n    var originalSocketEmit = socket.emit;\n    socket.emit = function(event) {\n        connection._debug('||| Socket Event  \\'%s\\'', event);\n        originalSocketEmit.apply(this, arguments);\n    };\n    \n    for (var key in socket) {\n        if ('function' !== typeof(socket[key])) { continue; }\n        if (['emit'].indexOf(key) !== -1) { continue; }\n        (function(key) {\n            var original = socket[key];\n            if (key === 'on') {\n                socket[key] = function proxyMethod__EventEmitter__On() {\n                    connection._debug('||| Socket method called:  %s (%s)', key, arguments[0]);\n                    return original.apply(this, arguments);\n                };\n                return;\n            }\n            socket[key] = function proxyMethod() {\n                connection._debug('||| Socket method called:  %s', key);\n                return original.apply(this, arguments);\n            };\n        })(key);\n    }\n}\n","/************************************************************************\n *  Copyright 2010-2015 Brian McKelvey.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n ***********************************************************************/\n\nvar crypto = require('crypto');\nvar util = require('util');\nvar url = require('url');\nvar EventEmitter = require('events').EventEmitter;\nvar WebSocketConnection = require('./WebSocketConnection');\n\nvar headerValueSplitRegExp = /,\\s*/;\nvar headerParamSplitRegExp = /;\\s*/;\nvar headerSanitizeRegExp = /[\\r\\n]/g;\nvar xForwardedForSeparatorRegExp = /,\\s*/;\nvar separators = [\n    '(', ')', '<', '>', '@',\n    ',', ';', ':', '\\\\', '\\\"',\n    '/', '[', ']', '?', '=',\n    '{', '}', ' ', String.fromCharCode(9)\n];\nvar controlChars = [String.fromCharCode(127) /* DEL */];\nfor (var i=0; i < 31; i ++) {\n    /* US-ASCII Control Characters */\n    controlChars.push(String.fromCharCode(i));\n}\n\nvar cookieNameValidateRegEx = /([\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2f\\x3a-\\x3f\\x40\\x5b-\\x5e\\x7b\\x7d\\x7f])/;\nvar cookieValueValidateRegEx = /[^\\x21\\x23-\\x2b\\x2d-\\x3a\\x3c-\\x5b\\x5d-\\x7e]/;\nvar cookieValueDQuoteValidateRegEx = /^\"[^\"]*\"$/;\nvar controlCharsAndSemicolonRegEx = /[\\x00-\\x20\\x3b]/g;\n\nvar cookieSeparatorRegEx = /[;,] */;\n\nvar httpStatusDescriptions = {\n    100: 'Continue',\n    101: 'Switching Protocols',\n    200: 'OK',\n    201: 'Created',\n    203: 'Non-Authoritative Information',\n    204: 'No Content',\n    205: 'Reset Content',\n    206: 'Partial Content',\n    300: 'Multiple Choices',\n    301: 'Moved Permanently',\n    302: 'Found',\n    303: 'See Other',\n    304: 'Not Modified',\n    305: 'Use Proxy',\n    307: 'Temporary Redirect',\n    400: 'Bad Request',\n    401: 'Unauthorized',\n    402: 'Payment Required',\n    403: 'Forbidden',\n    404: 'Not Found',\n    406: 'Not Acceptable',\n    407: 'Proxy Authorization Required',\n    408: 'Request Timeout',\n    409: 'Conflict',\n    410: 'Gone',\n    411: 'Length Required',\n    412: 'Precondition Failed',\n    413: 'Request Entity Too Long',\n    414: 'Request-URI Too Long',\n    415: 'Unsupported Media Type',\n    416: 'Requested Range Not Satisfiable',\n    417: 'Expectation Failed',\n    426: 'Upgrade Required',\n    500: 'Internal Server Error',\n    501: 'Not Implemented',\n    502: 'Bad Gateway',\n    503: 'Service Unavailable',\n    504: 'Gateway Timeout',\n    505: 'HTTP Version Not Supported'\n};\n\nfunction WebSocketRequest(socket, httpRequest, serverConfig) {\n    // Superclass Constructor\n    EventEmitter.call(this);\n\n    this.socket = socket;\n    this.httpRequest = httpRequest;\n    this.resource = httpRequest.url;\n    this.remoteAddress = socket.remoteAddress;\n    this.remoteAddresses = [this.remoteAddress];\n    this.serverConfig = serverConfig;\n\n    // Watch for the underlying TCP socket closing before we call accept\n    this._socketIsClosing = false;\n    this._socketCloseHandler = this._handleSocketCloseBeforeAccept.bind(this);\n    this.socket.on('end', this._socketCloseHandler);\n    this.socket.on('close', this._socketCloseHandler);\n\n    this._resolved = false;\n}\n\nutil.inherits(WebSocketRequest, EventEmitter);\n\nWebSocketRequest.prototype.readHandshake = function() {\n    var self = this;\n    var request = this.httpRequest;\n\n    // Decode URL\n    this.resourceURL = url.parse(this.resource, true);\n\n    this.host = request.headers['host'];\n    if (!this.host) {\n        throw new Error('Client must provide a Host header.');\n    }\n\n    this.key = request.headers['sec-websocket-key'];\n    if (!this.key) {\n        throw new Error('Client must provide a value for Sec-WebSocket-Key.');\n    }\n\n    this.webSocketVersion = parseInt(request.headers['sec-websocket-version'], 10);\n\n    if (!this.webSocketVersion || isNaN(this.webSocketVersion)) {\n        throw new Error('Client must provide a value for Sec-WebSocket-Version.');\n    }\n\n    switch (this.webSocketVersion) {\n        case 8:\n        case 13:\n            break;\n        default:\n            var e = new Error('Unsupported websocket client version: ' + this.webSocketVersion +\n                              'Only versions 8 and 13 are supported.');\n            e.httpCode = 426;\n            e.headers = {\n                'Sec-WebSocket-Version': '13'\n            };\n            throw e;\n    }\n\n    if (this.webSocketVersion === 13) {\n        this.origin = request.headers['origin'];\n    }\n    else if (this.webSocketVersion === 8) {\n        this.origin = request.headers['sec-websocket-origin'];\n    }\n\n    // Protocol is optional.\n    var protocolString = request.headers['sec-websocket-protocol'];\n    this.protocolFullCaseMap = {};\n    this.requestedProtocols = [];\n    if (protocolString) {\n        var requestedProtocolsFullCase = protocolString.split(headerValueSplitRegExp);\n        requestedProtocolsFullCase.forEach(function(protocol) {\n            var lcProtocol = protocol.toLocaleLowerCase();\n            self.requestedProtocols.push(lcProtocol);\n            self.protocolFullCaseMap[lcProtocol] = protocol;\n        });\n    }\n\n    if (!this.serverConfig.ignoreXForwardedFor &&\n        request.headers['x-forwarded-for']) {\n        var immediatePeerIP = this.remoteAddress;\n        this.remoteAddresses = request.headers['x-forwarded-for']\n            .split(xForwardedForSeparatorRegExp);\n        this.remoteAddresses.push(immediatePeerIP);\n        this.remoteAddress = this.remoteAddresses[0];\n    }\n\n    // Extensions are optional.\n    if (this.serverConfig.parseExtensions) {\n        var extensionsString = request.headers['sec-websocket-extensions'];\n        this.requestedExtensions = this.parseExtensions(extensionsString);\n    } else {\n        this.requestedExtensions = [];\n    }\n\n    // Cookies are optional\n    if (this.serverConfig.parseCookies) {\n        var cookieString = request.headers['cookie'];\n        this.cookies = this.parseCookies(cookieString);\n    } else {\n        this.cookies = [];\n    }\n};\n\nWebSocketRequest.prototype.parseExtensions = function(extensionsString) {\n    if (!extensionsString || extensionsString.length === 0) {\n        return [];\n    }\n    var extensions = extensionsString.toLocaleLowerCase().split(headerValueSplitRegExp);\n    extensions.forEach(function(extension, index, array) {\n        var params = extension.split(headerParamSplitRegExp);\n        var extensionName = params[0];\n        var extensionParams = params.slice(1);\n        extensionParams.forEach(function(rawParam, index, array) {\n            var arr = rawParam.split('=');\n            var obj = {\n                name: arr[0],\n                value: arr[1]\n            };\n            array.splice(index, 1, obj);\n        });\n        var obj = {\n            name: extensionName,\n            params: extensionParams\n        };\n        array.splice(index, 1, obj);\n    });\n    return extensions;\n};\n\n// This function adapted from node-cookie\n// https://github.com/shtylman/node-cookie\nWebSocketRequest.prototype.parseCookies = function(str) {\n    // Sanity Check\n    if (!str || typeof(str) !== 'string') {\n        return [];\n    }\n\n    var cookies = [];\n    var pairs = str.split(cookieSeparatorRegEx);\n\n    pairs.forEach(function(pair) {\n        var eq_idx = pair.indexOf('=');\n        if (eq_idx === -1) {\n            cookies.push({\n                name: pair,\n                value: null\n            });\n            return;\n        }\n\n        var key = pair.substr(0, eq_idx).trim();\n        var val = pair.substr(++eq_idx, pair.length).trim();\n\n        // quoted values\n        if ('\"' === val[0]) {\n            val = val.slice(1, -1);\n        }\n\n        cookies.push({\n            name: key,\n            value: decodeURIComponent(val)\n        });\n    });\n\n    return cookies;\n};\n\nWebSocketRequest.prototype.accept = function(acceptedProtocol, allowedOrigin, cookies) {\n    this._verifyResolution();\n\n    // TODO: Handle extensions\n\n    var protocolFullCase;\n\n    if (acceptedProtocol) {\n        protocolFullCase = this.protocolFullCaseMap[acceptedProtocol.toLocaleLowerCase()];\n        if (typeof(protocolFullCase) === 'undefined') {\n            protocolFullCase = acceptedProtocol;\n        }\n    }\n    else {\n        protocolFullCase = acceptedProtocol;\n    }\n    this.protocolFullCaseMap = null;\n\n    // Create key validation hash\n    var sha1 = crypto.createHash('sha1');\n    sha1.update(this.key + '258EAFA5-E914-47DA-95CA-C5AB0DC85B11');\n    var acceptKey = sha1.digest('base64');\n\n    var response = 'HTTP/1.1 101 Switching Protocols\\r\\n' +\n                   'Upgrade: websocket\\r\\n' +\n                   'Connection: Upgrade\\r\\n' +\n                   'Sec-WebSocket-Accept: ' + acceptKey + '\\r\\n';\n\n    if (protocolFullCase) {\n        // validate protocol\n        for (var i=0; i < protocolFullCase.length; i++) {\n            var charCode = protocolFullCase.charCodeAt(i);\n            var character = protocolFullCase.charAt(i);\n            if (charCode < 0x21 || charCode > 0x7E || separators.indexOf(character) !== -1) {\n                this.reject(500);\n                throw new Error('Illegal character \"' + String.fromCharCode(character) + '\" in subprotocol.');\n            }\n        }\n        if (this.requestedProtocols.indexOf(acceptedProtocol) === -1) {\n            this.reject(500);\n            throw new Error('Specified protocol was not requested by the client.');\n        }\n\n        protocolFullCase = protocolFullCase.replace(headerSanitizeRegExp, '');\n        response += 'Sec-WebSocket-Protocol: ' + protocolFullCase + '\\r\\n';\n    }\n    this.requestedProtocols = null;\n\n    if (allowedOrigin) {\n        allowedOrigin = allowedOrigin.replace(headerSanitizeRegExp, '');\n        if (this.webSocketVersion === 13) {\n            response += 'Origin: ' + allowedOrigin + '\\r\\n';\n        }\n        else if (this.webSocketVersion === 8) {\n            response += 'Sec-WebSocket-Origin: ' + allowedOrigin + '\\r\\n';\n        }\n    }\n\n    if (cookies) {\n        if (!Array.isArray(cookies)) {\n            this.reject(500);\n            throw new Error('Value supplied for \"cookies\" argument must be an array.');\n        }\n        var seenCookies = {};\n        cookies.forEach(function(cookie) {\n            if (!cookie.name || !cookie.value) {\n                this.reject(500);\n                throw new Error('Each cookie to set must at least provide a \"name\" and \"value\"');\n            }\n\n            // Make sure there are no \\r\\n sequences inserted\n            cookie.name = cookie.name.replace(controlCharsAndSemicolonRegEx, '');\n            cookie.value = cookie.value.replace(controlCharsAndSemicolonRegEx, '');\n\n            if (seenCookies[cookie.name]) {\n                this.reject(500);\n                throw new Error('You may not specify the same cookie name twice.');\n            }\n            seenCookies[cookie.name] = true;\n\n            // token (RFC 2616, Section 2.2)\n            var invalidChar = cookie.name.match(cookieNameValidateRegEx);\n            if (invalidChar) {\n                this.reject(500);\n                throw new Error('Illegal character ' + invalidChar[0] + ' in cookie name');\n            }\n\n            // RFC 6265, Section 4.1.1\n            // *cookie-octet / ( DQUOTE *cookie-octet DQUOTE ) | %x21 / %x23-2B / %x2D-3A / %x3C-5B / %x5D-7E\n            if (cookie.value.match(cookieValueDQuoteValidateRegEx)) {\n                invalidChar = cookie.value.slice(1, -1).match(cookieValueValidateRegEx);\n            } else {\n                invalidChar = cookie.value.match(cookieValueValidateRegEx);\n            }\n            if (invalidChar) {\n                this.reject(500);\n                throw new Error('Illegal character ' + invalidChar[0] + ' in cookie value');\n            }\n\n            var cookieParts = [cookie.name + '=' + cookie.value];\n\n            // RFC 6265, Section 4.1.1\n            // 'Path=' path-value | <any CHAR except CTLs or ';'>\n            if(cookie.path){\n                invalidChar = cookie.path.match(controlCharsAndSemicolonRegEx);\n                if (invalidChar) {\n                    this.reject(500);\n                    throw new Error('Illegal character ' + invalidChar[0] + ' in cookie path');\n                }\n                cookieParts.push('Path=' + cookie.path);\n            }\n\n            // RFC 6265, Section 4.1.2.3\n            // 'Domain=' subdomain\n            if (cookie.domain) {\n                if (typeof(cookie.domain) !== 'string') {\n                    this.reject(500);\n                    throw new Error('Domain must be specified and must be a string.');\n                }\n                invalidChar = cookie.domain.match(controlCharsAndSemicolonRegEx);\n                if (invalidChar) {\n                    this.reject(500);\n                    throw new Error('Illegal character ' + invalidChar[0] + ' in cookie domain');\n                }\n                cookieParts.push('Domain=' + cookie.domain.toLowerCase());\n            }\n\n            // RFC 6265, Section 4.1.1\n            //'Expires=' sane-cookie-date | Force Date object requirement by using only epoch\n            if (cookie.expires) {\n                if (!(cookie.expires instanceof Date)){\n                    this.reject(500);\n                    throw new Error('Value supplied for cookie \"expires\" must be a vaild date object');\n                }\n                cookieParts.push('Expires=' + cookie.expires.toGMTString());\n            }\n\n            // RFC 6265, Section 4.1.1\n            //'Max-Age=' non-zero-digit *DIGIT\n            if (cookie.maxage) {\n                var maxage = cookie.maxage;\n                if (typeof(maxage) === 'string') {\n                    maxage = parseInt(maxage, 10);\n                }\n                if (isNaN(maxage) || maxage <= 0 ) {\n                    this.reject(500);\n                    throw new Error('Value supplied for cookie \"maxage\" must be a non-zero number');\n                }\n                maxage = Math.round(maxage);\n                cookieParts.push('Max-Age=' + maxage.toString(10));\n            }\n\n            // RFC 6265, Section 4.1.1\n            //'Secure;'\n            if (cookie.secure) {\n                if (typeof(cookie.secure) !== 'boolean') {\n                    this.reject(500);\n                    throw new Error('Value supplied for cookie \"secure\" must be of type boolean');\n                }\n                cookieParts.push('Secure');\n            }\n\n            // RFC 6265, Section 4.1.1\n            //'HttpOnly;'\n            if (cookie.httponly) {\n                if (typeof(cookie.httponly) !== 'boolean') {\n                    this.reject(500);\n                    throw new Error('Value supplied for cookie \"httponly\" must be of type boolean');\n                }\n                cookieParts.push('HttpOnly');\n            }\n\n            response += ('Set-Cookie: ' + cookieParts.join(';') + '\\r\\n');\n        }.bind(this));\n    }\n\n    // TODO: handle negotiated extensions\n    // if (negotiatedExtensions) {\n    //     response += 'Sec-WebSocket-Extensions: ' + negotiatedExtensions.join(', ') + '\\r\\n';\n    // }\n\n    // Mark the request resolved now so that the user can't call accept or\n    // reject a second time.\n    this._resolved = true;\n    this.emit('requestResolved', this);\n\n    response += '\\r\\n';\n\n    var connection = new WebSocketConnection(this.socket, [], acceptedProtocol, false, this.serverConfig);\n    connection.webSocketVersion = this.webSocketVersion;\n    connection.remoteAddress = this.remoteAddress;\n    connection.remoteAddresses = this.remoteAddresses;\n\n    var self = this;\n\n    if (this._socketIsClosing) {\n        // Handle case when the client hangs up before we get a chance to\n        // accept the connection and send our side of the opening handshake.\n        cleanupFailedConnection(connection);\n    }\n    else {\n        this.socket.write(response, 'ascii', function(error) {\n            if (error) {\n                cleanupFailedConnection(connection);\n                return;\n            }\n\n            self._removeSocketCloseListeners();\n            connection._addSocketEventListeners();\n        });\n    }\n\n    this.emit('requestAccepted', connection);\n    return connection;\n};\n\nWebSocketRequest.prototype.reject = function(status, reason, extraHeaders) {\n    this._verifyResolution();\n\n    // Mark the request resolved now so that the user can't call accept or\n    // reject a second time.\n    this._resolved = true;\n    this.emit('requestResolved', this);\n\n    if (typeof(status) !== 'number') {\n        status = 403;\n    }\n    var response = 'HTTP/1.1 ' + status + ' ' + httpStatusDescriptions[status] + '\\r\\n' +\n                   'Connection: close\\r\\n';\n    if (reason) {\n        reason = reason.replace(headerSanitizeRegExp, '');\n        response += 'X-WebSocket-Reject-Reason: ' + reason + '\\r\\n';\n    }\n\n    if (extraHeaders) {\n        for (var key in extraHeaders) {\n            var sanitizedValue = extraHeaders[key].toString().replace(headerSanitizeRegExp, '');\n            var sanitizedKey = key.replace(headerSanitizeRegExp, '');\n            response += (sanitizedKey + ': ' + sanitizedValue + '\\r\\n');\n        }\n    }\n\n    response += '\\r\\n';\n    this.socket.end(response, 'ascii');\n\n    this.emit('requestRejected', this);\n};\n\nWebSocketRequest.prototype._handleSocketCloseBeforeAccept = function() {\n    this._socketIsClosing = true;\n    this._removeSocketCloseListeners();\n};\n\nWebSocketRequest.prototype._removeSocketCloseListeners = function() {\n    this.socket.removeListener('end', this._socketCloseHandler);\n    this.socket.removeListener('close', this._socketCloseHandler);\n};\n\nWebSocketRequest.prototype._verifyResolution = function() {\n    if (this._resolved) {\n        throw new Error('WebSocketRequest may only be accepted or rejected one time.');\n    }\n};\n\nfunction cleanupFailedConnection(connection) {\n    // Since we have to return a connection object even if the socket is\n    // already dead in order not to break the API, we schedule a 'close'\n    // event on the connection object to occur immediately.\n    process.nextTick(function() {\n        // WebSocketConnection.CLOSE_REASON_ABNORMAL = 1006\n        // Third param: Skip sending the close frame to a dead socket\n        connection.drop(1006, 'TCP connection lost before handshake completed.', true);\n    });\n}\n\nmodule.exports = WebSocketRequest;\n","/************************************************************************\n *  Copyright 2010-2015 Brian McKelvey.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n ***********************************************************************/\n\nvar extend = require('./utils').extend;\nvar utils = require('./utils');\nvar util = require('util');\nvar debug = require('debug')('websocket:server');\nvar EventEmitter = require('events').EventEmitter;\nvar WebSocketRequest = require('./WebSocketRequest');\n\nvar WebSocketServer = function WebSocketServer(config) {\n    // Superclass Constructor\n    EventEmitter.call(this);\n\n    this._handlers = {\n        upgrade: this.handleUpgrade.bind(this),\n        requestAccepted: this.handleRequestAccepted.bind(this),\n        requestResolved: this.handleRequestResolved.bind(this)\n    };\n    this.connections = [];\n    this.pendingRequests = [];\n    if (config) {\n        this.mount(config);\n    }\n};\n\nutil.inherits(WebSocketServer, EventEmitter);\n\nWebSocketServer.prototype.mount = function(config) {\n    this.config = {\n        // The http server instance to attach to.  Required.\n        httpServer: null,\n\n        // 64KiB max frame size.\n        maxReceivedFrameSize: 0x10000,\n\n        // 1MiB max message size, only applicable if\n        // assembleFragments is true\n        maxReceivedMessageSize: 0x100000,\n\n        // Outgoing messages larger than fragmentationThreshold will be\n        // split into multiple fragments.\n        fragmentOutgoingMessages: true,\n\n        // Outgoing frames are fragmented if they exceed this threshold.\n        // Default is 16KiB\n        fragmentationThreshold: 0x4000,\n\n        // If true, the server will automatically send a ping to all\n        // clients every 'keepaliveInterval' milliseconds.  The timer is\n        // reset on any received data from the client.\n        keepalive: true,\n\n        // The interval to send keepalive pings to connected clients if the\n        // connection is idle.  Any received data will reset the counter.\n        keepaliveInterval: 20000,\n\n        // If true, the server will consider any connection that has not\n        // received any data within the amount of time specified by\n        // 'keepaliveGracePeriod' after a keepalive ping has been sent to\n        // be dead, and will drop the connection.\n        // Ignored if keepalive is false.\n        dropConnectionOnKeepaliveTimeout: true,\n\n        // The amount of time to wait after sending a keepalive ping before\n        // closing the connection if the connected peer does not respond.\n        // Ignored if keepalive is false.\n        keepaliveGracePeriod: 10000,\n\n        // Whether to use native TCP keep-alive instead of WebSockets ping\n        // and pong packets.  Native TCP keep-alive sends smaller packets\n        // on the wire and so uses bandwidth more efficiently.  This may\n        // be more important when talking to mobile devices.\n        // If this value is set to true, then these values will be ignored:\n        //   keepaliveGracePeriod\n        //   dropConnectionOnKeepaliveTimeout\n        useNativeKeepalive: false,\n\n        // If true, fragmented messages will be automatically assembled\n        // and the full message will be emitted via a 'message' event.\n        // If false, each frame will be emitted via a 'frame' event and\n        // the application will be responsible for aggregating multiple\n        // fragmented frames.  Single-frame messages will emit a 'message'\n        // event in addition to the 'frame' event.\n        // Most users will want to leave this set to 'true'\n        assembleFragments: true,\n\n        // If this is true, websocket connections will be accepted\n        // regardless of the path and protocol specified by the client.\n        // The protocol accepted will be the first that was requested\n        // by the client.  Clients from any origin will be accepted.\n        // This should only be used in the simplest of cases.  You should\n        // probably leave this set to 'false' and inspect the request\n        // object to make sure it's acceptable before accepting it.\n        autoAcceptConnections: false,\n\n        // Whether or not the X-Forwarded-For header should be respected.\n        // It's important to set this to 'true' when accepting connections\n        // from untrusted clients, as a malicious client could spoof its\n        // IP address by simply setting this header.  It's meant to be added\n        // by a trusted proxy or other intermediary within your own\n        // infrastructure.\n        // See:  http://en.wikipedia.org/wiki/X-Forwarded-For\n        ignoreXForwardedFor: false,\n\n        // If this is true, 'cookie' headers are parsed and exposed as WebSocketRequest.cookies\n        parseCookies: true,\n\n        // If this is true, 'sec-websocket-extensions' headers are parsed and exposed as WebSocketRequest.requestedExtensions\n        parseExtensions: true,\n\n        // The Nagle Algorithm makes more efficient use of network resources\n        // by introducing a small delay before sending small packets so that\n        // multiple messages can be batched together before going onto the\n        // wire.  This however comes at the cost of latency, so the default\n        // is to disable it.  If you don't need low latency and are streaming\n        // lots of small messages, you can change this to 'false'\n        disableNagleAlgorithm: true,\n\n        // The number of milliseconds to wait after sending a close frame\n        // for an acknowledgement to come back before giving up and just\n        // closing the socket.\n        closeTimeout: 5000\n    };\n    extend(this.config, config);\n\n    if (this.config.httpServer) {\n        if (!Array.isArray(this.config.httpServer)) {\n            this.config.httpServer = [this.config.httpServer];\n        }\n        var upgradeHandler = this._handlers.upgrade;\n        this.config.httpServer.forEach(function(httpServer) {\n            httpServer.on('upgrade', upgradeHandler);\n        });\n    }\n    else {\n        throw new Error('You must specify an httpServer on which to mount the WebSocket server.');\n    }\n};\n\nWebSocketServer.prototype.unmount = function() {\n    var upgradeHandler = this._handlers.upgrade;\n    this.config.httpServer.forEach(function(httpServer) {\n        httpServer.removeListener('upgrade', upgradeHandler);\n    });\n};\n\nWebSocketServer.prototype.closeAllConnections = function() {\n    this.connections.forEach(function(connection) {\n        connection.close();\n    });\n    this.pendingRequests.forEach(function(request) {\n        process.nextTick(function() {\n          request.reject(503); // HTTP 503 Service Unavailable\n        });\n    });\n};\n\nWebSocketServer.prototype.broadcast = function(data) {\n    if (Buffer.isBuffer(data)) {\n        this.broadcastBytes(data);\n    }\n    else if (typeof(data.toString) === 'function') {\n        this.broadcastUTF(data);\n    }\n};\n\nWebSocketServer.prototype.broadcastUTF = function(utfData) {\n    this.connections.forEach(function(connection) {\n        connection.sendUTF(utfData);\n    });\n};\n\nWebSocketServer.prototype.broadcastBytes = function(binaryData) {\n    this.connections.forEach(function(connection) {\n        connection.sendBytes(binaryData);\n    });\n};\n\nWebSocketServer.prototype.shutDown = function() {\n    this.unmount();\n    this.closeAllConnections();\n};\n\nWebSocketServer.prototype.handleUpgrade = function(request, socket) {\n    var self = this;\n    var wsRequest = new WebSocketRequest(socket, request, this.config);\n    try {\n        wsRequest.readHandshake();\n    }\n    catch(e) {\n        wsRequest.reject(\n            e.httpCode ? e.httpCode : 400,\n            e.message,\n            e.headers\n        );\n        debug('Invalid handshake: %s', e.message);\n        this.emit('upgradeError', e);\n        return;\n    }\n\n    this.pendingRequests.push(wsRequest);\n\n    wsRequest.once('requestAccepted', this._handlers.requestAccepted);\n    wsRequest.once('requestResolved', this._handlers.requestResolved);\n    socket.once('close', function () {\n        self._handlers.requestResolved(wsRequest);\n    });\n\n    if (!this.config.autoAcceptConnections && utils.eventEmitterListenerCount(this, 'request') > 0) {\n        this.emit('request', wsRequest);\n    }\n    else if (this.config.autoAcceptConnections) {\n        wsRequest.accept(wsRequest.requestedProtocols[0], wsRequest.origin);\n    }\n    else {\n        wsRequest.reject(404, 'No handler is configured to accept the connection.');\n    }\n};\n\nWebSocketServer.prototype.handleRequestAccepted = function(connection) {\n    var self = this;\n    connection.once('close', function(closeReason, description) {\n        self.handleConnectionClose(connection, closeReason, description);\n    });\n    this.connections.push(connection);\n    this.emit('connect', connection);\n};\n\nWebSocketServer.prototype.handleConnectionClose = function(connection, closeReason, description) {\n    var index = this.connections.indexOf(connection);\n    if (index !== -1) {\n        this.connections.splice(index, 1);\n    }\n    this.emit('close', connection, closeReason, description);\n};\n\nWebSocketServer.prototype.handleRequestResolved = function(request) {\n    var index = this.pendingRequests.indexOf(request);\n    if (index !== -1) { this.pendingRequests.splice(index, 1); }\n};\n\nmodule.exports = WebSocketServer;\n","/************************************************************************\n *  Copyright 2010-2015 Brian McKelvey.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n ***********************************************************************/\n\nvar utils = require('./utils');\nvar extend = utils.extend;\nvar util = require('util');\nvar EventEmitter = require('events').EventEmitter;\nvar http = require('http');\nvar https = require('https');\nvar url = require('url');\nvar crypto = require('crypto');\nvar WebSocketConnection = require('./WebSocketConnection');\nvar bufferAllocUnsafe = utils.bufferAllocUnsafe;\n\nvar protocolSeparators = [\n    '(', ')', '<', '>', '@',\n    ',', ';', ':', '\\\\', '\\\"',\n    '/', '[', ']', '?', '=',\n    '{', '}', ' ', String.fromCharCode(9)\n];\n\nvar excludedTlsOptions = ['hostname','port','method','path','headers'];\n\nfunction WebSocketClient(config) {\n    // Superclass Constructor\n    EventEmitter.call(this);\n\n    // TODO: Implement extensions\n\n    this.config = {\n        // 1MiB max frame size.\n        maxReceivedFrameSize: 0x100000,\n\n        // 8MiB max message size, only applicable if\n        // assembleFragments is true\n        maxReceivedMessageSize: 0x800000,\n\n        // Outgoing messages larger than fragmentationThreshold will be\n        // split into multiple fragments.\n        fragmentOutgoingMessages: true,\n\n        // Outgoing frames are fragmented if they exceed this threshold.\n        // Default is 16KiB\n        fragmentationThreshold: 0x4000,\n\n        // Which version of the protocol to use for this session.  This\n        // option will be removed once the protocol is finalized by the IETF\n        // It is only available to ease the transition through the\n        // intermediate draft protocol versions.\n        // At present, it only affects the name of the Origin header.\n        webSocketVersion: 13,\n\n        // If true, fragmented messages will be automatically assembled\n        // and the full message will be emitted via a 'message' event.\n        // If false, each frame will be emitted via a 'frame' event and\n        // the application will be responsible for aggregating multiple\n        // fragmented frames.  Single-frame messages will emit a 'message'\n        // event in addition to the 'frame' event.\n        // Most users will want to leave this set to 'true'\n        assembleFragments: true,\n\n        // The Nagle Algorithm makes more efficient use of network resources\n        // by introducing a small delay before sending small packets so that\n        // multiple messages can be batched together before going onto the\n        // wire.  This however comes at the cost of latency, so the default\n        // is to disable it.  If you don't need low latency and are streaming\n        // lots of small messages, you can change this to 'false'\n        disableNagleAlgorithm: true,\n\n        // The number of milliseconds to wait after sending a close frame\n        // for an acknowledgement to come back before giving up and just\n        // closing the socket.\n        closeTimeout: 5000,\n\n        // Options to pass to https.connect if connecting via TLS\n        tlsOptions: {}\n    };\n\n    if (config) {\n        var tlsOptions;\n        if (config.tlsOptions) {\n          tlsOptions = config.tlsOptions;\n          delete config.tlsOptions;\n        }\n        else {\n          tlsOptions = {};\n        }\n        extend(this.config, config);\n        extend(this.config.tlsOptions, tlsOptions);\n    }\n\n    this._req = null;\n    \n    switch (this.config.webSocketVersion) {\n        case 8:\n        case 13:\n            break;\n        default:\n            throw new Error('Requested webSocketVersion is not supported. Allowed values are 8 and 13.');\n    }\n}\n\nutil.inherits(WebSocketClient, EventEmitter);\n\nWebSocketClient.prototype.connect = function(requestUrl, protocols, origin, headers, extraRequestOptions) {\n    var self = this;\n    \n    if (typeof(protocols) === 'string') {\n        if (protocols.length > 0) {\n            protocols = [protocols];\n        }\n        else {\n            protocols = [];\n        }\n    }\n    if (!(protocols instanceof Array)) {\n        protocols = [];\n    }\n    this.protocols = protocols;\n    this.origin = origin;\n\n    if (typeof(requestUrl) === 'string') {\n        this.url = url.parse(requestUrl);\n    }\n    else {\n        this.url = requestUrl; // in case an already parsed url is passed in.\n    }\n    if (!this.url.protocol) {\n        throw new Error('You must specify a full WebSocket URL, including protocol.');\n    }\n    if (!this.url.host) {\n        throw new Error('You must specify a full WebSocket URL, including hostname. Relative URLs are not supported.');\n    }\n\n    this.secure = (this.url.protocol === 'wss:');\n\n    // validate protocol characters:\n    this.protocols.forEach(function(protocol) {\n        for (var i=0; i < protocol.length; i ++) {\n            var charCode = protocol.charCodeAt(i);\n            var character = protocol.charAt(i);\n            if (charCode < 0x0021 || charCode > 0x007E || protocolSeparators.indexOf(character) !== -1) {\n                throw new Error('Protocol list contains invalid character \"' + String.fromCharCode(charCode) + '\"');\n            }\n        }\n    });\n\n    var defaultPorts = {\n        'ws:': '80',\n        'wss:': '443'\n    };\n\n    if (!this.url.port) {\n        this.url.port = defaultPorts[this.url.protocol];\n    }\n\n    var nonce = bufferAllocUnsafe(16);\n    for (var i=0; i < 16; i++) {\n        nonce[i] = Math.round(Math.random()*0xFF);\n    }\n    this.base64nonce = nonce.toString('base64');\n\n    var hostHeaderValue = this.url.hostname;\n    if ((this.url.protocol === 'ws:' && this.url.port !== '80') ||\n        (this.url.protocol === 'wss:' && this.url.port !== '443'))  {\n        hostHeaderValue += (':' + this.url.port);\n    }\n\n    var reqHeaders = {};\n    if (this.secure && this.config.tlsOptions.hasOwnProperty('headers')) {\n      // Allow for additional headers to be provided when connecting via HTTPS\n      extend(reqHeaders, this.config.tlsOptions.headers);\n    }\n    if (headers) {\n      // Explicitly provided headers take priority over any from tlsOptions\n      extend(reqHeaders, headers);\n    }\n    extend(reqHeaders, {\n        'Upgrade': 'websocket',\n        'Connection': 'Upgrade',\n        'Sec-WebSocket-Version': this.config.webSocketVersion.toString(10),\n        'Sec-WebSocket-Key': this.base64nonce,\n        'Host': reqHeaders.Host || hostHeaderValue\n    });\n\n    if (this.protocols.length > 0) {\n        reqHeaders['Sec-WebSocket-Protocol'] = this.protocols.join(', ');\n    }\n    if (this.origin) {\n        if (this.config.webSocketVersion === 13) {\n            reqHeaders['Origin'] = this.origin;\n        }\n        else if (this.config.webSocketVersion === 8) {\n            reqHeaders['Sec-WebSocket-Origin'] = this.origin;\n        }\n    }\n\n    // TODO: Implement extensions\n\n    var pathAndQuery;\n    // Ensure it begins with '/'.\n    if (this.url.pathname) {\n        pathAndQuery = this.url.path;\n    }\n    else if (this.url.path) {\n        pathAndQuery = '/' + this.url.path;\n    }\n    else {\n        pathAndQuery = '/';\n    }\n\n    function handleRequestError(error) {\n        self._req = null;\n        self.emit('connectFailed', error);\n    }\n\n    var requestOptions = {\n        agent: false\n    };\n    if (extraRequestOptions) {\n        extend(requestOptions, extraRequestOptions);\n    }\n    // These options are always overridden by the library.  The user is not\n    // allowed to specify these directly.\n    extend(requestOptions, {\n        hostname: this.url.hostname,\n        port: this.url.port,\n        method: 'GET',\n        path: pathAndQuery,\n        headers: reqHeaders\n    });\n    if (this.secure) {\n        var tlsOptions = this.config.tlsOptions;\n        for (var key in tlsOptions) {\n            if (tlsOptions.hasOwnProperty(key) && excludedTlsOptions.indexOf(key) === -1) {\n                requestOptions[key] = tlsOptions[key];\n            }\n        }\n    }\n\n    var req = this._req = (this.secure ? https : http).request(requestOptions);\n    req.on('upgrade', function handleRequestUpgrade(response, socket, head) {\n        self._req = null;\n        req.removeListener('error', handleRequestError);\n        self.socket = socket;\n        self.response = response;\n        self.firstDataChunk = head;\n        self.validateHandshake();\n    });\n    req.on('error', handleRequestError);\n\n    req.on('response', function(response) {\n        self._req = null;\n        if (utils.eventEmitterListenerCount(self, 'httpResponse') > 0) {\n            self.emit('httpResponse', response, self);\n            if (response.socket) {\n                response.socket.end();\n            }\n        }\n        else {\n            var headerDumpParts = [];\n            for (var headerName in response.headers) {\n                headerDumpParts.push(headerName + ': ' + response.headers[headerName]);\n            }\n            self.failHandshake(\n                'Server responded with a non-101 status: ' +\n                response.statusCode + ' ' + response.statusMessage +\n                '\\nResponse Headers Follow:\\n' +\n                headerDumpParts.join('\\n') + '\\n'\n            );\n        }\n    });\n    req.end();\n};\n\nWebSocketClient.prototype.validateHandshake = function() {\n    var headers = this.response.headers;\n\n    if (this.protocols.length > 0) {\n        this.protocol = headers['sec-websocket-protocol'];\n        if (this.protocol) {\n            if (this.protocols.indexOf(this.protocol) === -1) {\n                this.failHandshake('Server did not respond with a requested protocol.');\n                return;\n            }\n        }\n        else {\n            this.failHandshake('Expected a Sec-WebSocket-Protocol header.');\n            return;\n        }\n    }\n\n    if (!(headers['connection'] && headers['connection'].toLocaleLowerCase() === 'upgrade')) {\n        this.failHandshake('Expected a Connection: Upgrade header from the server');\n        return;\n    }\n\n    if (!(headers['upgrade'] && headers['upgrade'].toLocaleLowerCase() === 'websocket')) {\n        this.failHandshake('Expected an Upgrade: websocket header from the server');\n        return;\n    }\n\n    var sha1 = crypto.createHash('sha1');\n    sha1.update(this.base64nonce + '258EAFA5-E914-47DA-95CA-C5AB0DC85B11');\n    var expectedKey = sha1.digest('base64');\n\n    if (!headers['sec-websocket-accept']) {\n        this.failHandshake('Expected Sec-WebSocket-Accept header from server');\n        return;\n    }\n\n    if (headers['sec-websocket-accept'] !== expectedKey) {\n        this.failHandshake('Sec-WebSocket-Accept header from server didn\\'t match expected value of ' + expectedKey);\n        return;\n    }\n\n    // TODO: Support extensions\n\n    this.succeedHandshake();\n};\n\nWebSocketClient.prototype.failHandshake = function(errorDescription) {\n    if (this.socket && this.socket.writable) {\n        this.socket.end();\n    }\n    this.emit('connectFailed', new Error(errorDescription));\n};\n\nWebSocketClient.prototype.succeedHandshake = function() {\n    var connection = new WebSocketConnection(this.socket, [], this.protocol, true, this.config);\n\n    connection.webSocketVersion = this.config.webSocketVersion;\n    connection._addSocketEventListeners();\n\n    this.emit('connect', connection);\n    if (this.firstDataChunk.length > 0) {\n        connection.handleSocketData(this.firstDataChunk);\n    }\n    this.firstDataChunk = null;\n};\n\nWebSocketClient.prototype.abort = function() {\n    if (this._req) {\n        this._req.abort();\n    }\n};\n\nmodule.exports = WebSocketClient;\n","/************************************************************************\n *  Copyright 2010-2015 Brian McKelvey.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n ***********************************************************************/\n\nvar util = require('util');\nvar EventEmitter = require('events').EventEmitter;\n\nfunction WebSocketRouterRequest(webSocketRequest, resolvedProtocol) {\n    // Superclass Constructor\n    EventEmitter.call(this);\n\n    this.webSocketRequest = webSocketRequest;\n    if (resolvedProtocol === '____no_protocol____') {\n        this.protocol = null;\n    }\n    else {\n        this.protocol = resolvedProtocol;\n    }\n    this.origin = webSocketRequest.origin;\n    this.resource = webSocketRequest.resource;\n    this.resourceURL = webSocketRequest.resourceURL;\n    this.httpRequest = webSocketRequest.httpRequest;\n    this.remoteAddress = webSocketRequest.remoteAddress;\n    this.webSocketVersion = webSocketRequest.webSocketVersion;\n    this.requestedExtensions = webSocketRequest.requestedExtensions;\n    this.cookies = webSocketRequest.cookies;\n}\n\nutil.inherits(WebSocketRouterRequest, EventEmitter);\n\nWebSocketRouterRequest.prototype.accept = function(origin, cookies) {\n    var connection = this.webSocketRequest.accept(this.protocol, origin, cookies);\n    this.emit('requestAccepted', connection);\n    return connection;\n};\n\nWebSocketRouterRequest.prototype.reject = function(status, reason, extraHeaders) {\n    this.webSocketRequest.reject(status, reason, extraHeaders);\n    this.emit('requestRejected', this);\n};\n\nmodule.exports = WebSocketRouterRequest;\n","/************************************************************************\n *  Copyright 2010-2015 Brian McKelvey.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n ***********************************************************************/\n\nvar extend = require('./utils').extend;\nvar util = require('util');\nvar EventEmitter = require('events').EventEmitter;\nvar WebSocketRouterRequest = require('./WebSocketRouterRequest');\n\nfunction WebSocketRouter(config) {\n    // Superclass Constructor\n    EventEmitter.call(this);\n\n    this.config = {\n        // The WebSocketServer instance to attach to.\n        server: null\n    };\n    if (config) {\n        extend(this.config, config);\n    }\n    this.handlers = [];\n\n    this._requestHandler = this.handleRequest.bind(this);\n    if (this.config.server) {\n        this.attachServer(this.config.server);\n    }\n}\n\nutil.inherits(WebSocketRouter, EventEmitter);\n\nWebSocketRouter.prototype.attachServer = function(server) {\n    if (server) {\n        this.server = server;\n        this.server.on('request', this._requestHandler);\n    }\n    else {\n        throw new Error('You must specify a WebSocketServer instance to attach to.');\n    }\n};\n\nWebSocketRouter.prototype.detachServer = function() {\n    if (this.server) {\n        this.server.removeListener('request', this._requestHandler);\n        this.server = null;\n    }\n    else {\n        throw new Error('Cannot detach from server: not attached.');\n    }\n};\n\nWebSocketRouter.prototype.mount = function(path, protocol, callback) {\n    if (!path) {\n        throw new Error('You must specify a path for this handler.');\n    }\n    if (!protocol) {\n        protocol = '____no_protocol____';\n    }\n    if (!callback) {\n        throw new Error('You must specify a callback for this handler.');\n    }\n\n    path = this.pathToRegExp(path);\n    if (!(path instanceof RegExp)) {\n        throw new Error('Path must be specified as either a string or a RegExp.');\n    }\n    var pathString = path.toString();\n\n    // normalize protocol to lower-case\n    protocol = protocol.toLocaleLowerCase();\n\n    if (this.findHandlerIndex(pathString, protocol) !== -1) {\n        throw new Error('You may only mount one handler per path/protocol combination.');\n    }\n\n    this.handlers.push({\n        'path': path,\n        'pathString': pathString,\n        'protocol': protocol,\n        'callback': callback\n    });\n};\nWebSocketRouter.prototype.unmount = function(path, protocol) {\n    var index = this.findHandlerIndex(this.pathToRegExp(path).toString(), protocol);\n    if (index !== -1) {\n        this.handlers.splice(index, 1);\n    }\n    else {\n        throw new Error('Unable to find a route matching the specified path and protocol.');\n    }\n};\n\nWebSocketRouter.prototype.findHandlerIndex = function(pathString, protocol) {\n    protocol = protocol.toLocaleLowerCase();\n    for (var i=0, len=this.handlers.length; i < len; i++) {\n        var handler = this.handlers[i];\n        if (handler.pathString === pathString && handler.protocol === protocol) {\n            return i;\n        }\n    }\n    return -1;\n};\n\nWebSocketRouter.prototype.pathToRegExp = function(path) {\n    if (typeof(path) === 'string') {\n        if (path === '*') {\n            path = /^.*$/;\n        }\n        else {\n            path = path.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n            path = new RegExp('^' + path + '$');\n        }\n    }\n    return path;\n};\n\nWebSocketRouter.prototype.handleRequest = function(request) {\n    var requestedProtocols = request.requestedProtocols;\n    if (requestedProtocols.length === 0) {\n        requestedProtocols = ['____no_protocol____'];\n    }\n\n    // Find a handler with the first requested protocol first\n    for (var i=0; i < requestedProtocols.length; i++) {\n        var requestedProtocol = requestedProtocols[i].toLocaleLowerCase();\n\n        // find the first handler that can process this request\n        for (var j=0, len=this.handlers.length; j < len; j++) {\n            var handler = this.handlers[j];\n            if (handler.path.test(request.resourceURL.pathname)) {\n                if (requestedProtocol === handler.protocol ||\n                    handler.protocol === '*')\n                {\n                    var routerRequest = new WebSocketRouterRequest(request, requestedProtocol);\n                    handler.callback(routerRequest);\n                    return;\n                }\n            }\n        }\n    }\n\n    // If we get here we were unable to find a suitable handler.\n    request.reject(404, 'No handler is available for the given request.');\n};\n\nmodule.exports = WebSocketRouter;\n","/************************************************************************\n *  Copyright 2010-2015 Brian McKelvey.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n ***********************************************************************/\n\nvar WebSocketClient = require('./WebSocketClient');\nvar toBuffer = require('typedarray-to-buffer');\nvar yaeti = require('yaeti');\n\n\nconst CONNECTING = 0;\nconst OPEN = 1;\nconst CLOSING = 2;\nconst CLOSED = 3;\n\n\nmodule.exports = W3CWebSocket;\n\n\nfunction W3CWebSocket(url, protocols, origin, headers, requestOptions, clientConfig) {\n    // Make this an EventTarget.\n    yaeti.EventTarget.call(this);\n\n    // Sanitize clientConfig.\n    clientConfig = clientConfig || {};\n    clientConfig.assembleFragments = true;  // Required in the W3C API.\n\n    var self = this;\n\n    this._url = url;\n    this._readyState = CONNECTING;\n    this._protocol = undefined;\n    this._extensions = '';\n    this._bufferedAmount = 0;  // Hack, always 0.\n    this._binaryType = 'arraybuffer';  // TODO: Should be 'blob' by default, but Node has no Blob.\n\n    // The WebSocketConnection instance.\n    this._connection = undefined;\n\n    // WebSocketClient instance.\n    this._client = new WebSocketClient(clientConfig);\n\n    this._client.on('connect', function(connection) {\n        onConnect.call(self, connection);\n    });\n\n    this._client.on('connectFailed', function() {\n        onConnectFailed.call(self);\n    });\n\n    this._client.connect(url, protocols, origin, headers, requestOptions);\n}\n\n\n// Expose W3C read only attributes.\nObject.defineProperties(W3CWebSocket.prototype, {\n    url:            { get: function() { return this._url;            } },\n    readyState:     { get: function() { return this._readyState;     } },\n    protocol:       { get: function() { return this._protocol;       } },\n    extensions:     { get: function() { return this._extensions;     } },\n    bufferedAmount: { get: function() { return this._bufferedAmount; } }\n});\n\n\n// Expose W3C write/read attributes.\nObject.defineProperties(W3CWebSocket.prototype, {\n    binaryType: {\n        get: function() {\n            return this._binaryType;\n        },\n        set: function(type) {\n            // TODO: Just 'arraybuffer' supported.\n            if (type !== 'arraybuffer') {\n                throw new SyntaxError('just \"arraybuffer\" type allowed for \"binaryType\" attribute');\n            }\n            this._binaryType = type;\n        }\n    }\n});\n\n\n// Expose W3C readyState constants into the WebSocket instance as W3C states.\n[['CONNECTING',CONNECTING], ['OPEN',OPEN], ['CLOSING',CLOSING], ['CLOSED',CLOSED]].forEach(function(property) {\n    Object.defineProperty(W3CWebSocket.prototype, property[0], {\n        get: function() { return property[1]; }\n    });\n});\n\n// Also expose W3C readyState constants into the WebSocket class (not defined by the W3C,\n// but there are so many libs relying on them).\n[['CONNECTING',CONNECTING], ['OPEN',OPEN], ['CLOSING',CLOSING], ['CLOSED',CLOSED]].forEach(function(property) {\n    Object.defineProperty(W3CWebSocket, property[0], {\n        get: function() { return property[1]; }\n    });\n});\n\n\nW3CWebSocket.prototype.send = function(data) {\n    if (this._readyState !== OPEN) {\n        throw new Error('cannot call send() while not connected');\n    }\n\n    // Text.\n    if (typeof data === 'string' || data instanceof String) {\n        this._connection.sendUTF(data);\n    }\n    // Binary.\n    else {\n        // Node Buffer.\n        if (data instanceof Buffer) {\n            this._connection.sendBytes(data);\n        }\n        // If ArrayBuffer or ArrayBufferView convert it to Node Buffer.\n        else if (data.byteLength || data.byteLength === 0) {\n            data = toBuffer(data);\n            this._connection.sendBytes(data);\n        }\n        else {\n            throw new Error('unknown binary data:', data);\n        }\n    }\n};\n\n\nW3CWebSocket.prototype.close = function(code, reason) {\n    switch(this._readyState) {\n        case CONNECTING:\n            // NOTE: We don't have the WebSocketConnection instance yet so no\n            // way to close the TCP connection.\n            // Artificially invoke the onConnectFailed event.\n            onConnectFailed.call(this);\n            // And close if it connects after a while.\n            this._client.on('connect', function(connection) {\n                if (code) {\n                    connection.close(code, reason);\n                } else {\n                    connection.close();\n                }\n            });\n            break;\n        case OPEN:\n            this._readyState = CLOSING;\n            if (code) {\n                this._connection.close(code, reason);\n            } else {\n                this._connection.close();\n            }\n            break;\n        case CLOSING:\n        case CLOSED:\n            break;\n    }\n};\n\n\n/**\n * Private API.\n */\n\n\nfunction createCloseEvent(code, reason) {\n    var event = new yaeti.Event('close');\n\n    event.code = code;\n    event.reason = reason;\n    event.wasClean = (typeof code === 'undefined' || code === 1000);\n\n    return event;\n}\n\n\nfunction createMessageEvent(data) {\n    var event = new yaeti.Event('message');\n\n    event.data = data;\n\n    return event;\n}\n\n\nfunction onConnect(connection) {\n    var self = this;\n\n    this._readyState = OPEN;\n    this._connection = connection;\n    this._protocol = connection.protocol;\n    this._extensions = connection.extensions;\n\n    this._connection.on('close', function(code, reason) {\n        onClose.call(self, code, reason);\n    });\n\n    this._connection.on('message', function(msg) {\n        onMessage.call(self, msg);\n    });\n\n    this.dispatchEvent(new yaeti.Event('open'));\n}\n\n\nfunction onConnectFailed() {\n    destroy.call(this);\n    this._readyState = CLOSED;\n\n    try {\n        this.dispatchEvent(new yaeti.Event('error'));\n    } finally {\n        this.dispatchEvent(createCloseEvent(1006, 'connection failed'));\n    }\n}\n\n\nfunction onClose(code, reason) {\n    destroy.call(this);\n    this._readyState = CLOSED;\n\n    this.dispatchEvent(createCloseEvent(code, reason || ''));\n}\n\n\nfunction onMessage(message) {\n    if (message.utf8Data) {\n        this.dispatchEvent(createMessageEvent(message.utf8Data));\n    }\n    else if (message.binaryData) {\n        // Must convert from Node Buffer to ArrayBuffer.\n        // TODO: or to a Blob (which does not exist in Node!).\n        if (this.binaryType === 'arraybuffer') {\n            var buffer = message.binaryData;\n            var arraybuffer = new ArrayBuffer(buffer.length);\n            var view = new Uint8Array(arraybuffer);\n            for (var i=0, len=buffer.length; i<len; ++i) {\n                view[i] = buffer[i];\n            }\n            this.dispatchEvent(createMessageEvent(arraybuffer));\n        }\n    }\n}\n\n\nfunction destroy() {\n    this._client.removeAllListeners();\n    if (this._connection) {\n        this._connection.removeAllListeners();\n    }\n}\n","/************************************************************************\n *  Copyright 2010-2015 Brian McKelvey.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n ***********************************************************************/\n\nvar Deprecation = {\n    disableWarnings: false,\n\n    deprecationWarningMap: {\n\n    },\n\n    warn: function(deprecationName) {\n        if (!this.disableWarnings && this.deprecationWarningMap[deprecationName]) {\n            console.warn('DEPRECATION WARNING: ' + this.deprecationWarningMap[deprecationName]);\n            this.deprecationWarningMap[deprecationName] = false;\n        }\n    }\n};\n\nmodule.exports = Deprecation;\n","module.exports = require('../package.json').version;\n","module.exports = {\n    'server'       : require('./WebSocketServer'),\n    'client'       : require('./WebSocketClient'),\n    'router'       : require('./WebSocketRouter'),\n    'frame'        : require('./WebSocketFrame'),\n    'request'      : require('./WebSocketRequest'),\n    'connection'   : require('./WebSocketConnection'),\n    'w3cwebsocket' : require('./W3CWebSocket'),\n    'deprecation'  : require('./Deprecation'),\n    'version'      : require('./version')\n};\n","module.exports = require('./lib/websocket');","export const version = '1.7.5';\n//# sourceMappingURL=version.js.map","import { version } from './version';\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `realtime-js/${version}` };\nexport const VSN = '1.0.0';\nexport const DEFAULT_TIMEOUT = 10000;\nexport const WS_CLOSE_NORMAL = 1000;\nexport var SOCKET_STATES;\n(function (SOCKET_STATES) {\n    SOCKET_STATES[SOCKET_STATES[\"connecting\"] = 0] = \"connecting\";\n    SOCKET_STATES[SOCKET_STATES[\"open\"] = 1] = \"open\";\n    SOCKET_STATES[SOCKET_STATES[\"closing\"] = 2] = \"closing\";\n    SOCKET_STATES[SOCKET_STATES[\"closed\"] = 3] = \"closed\";\n})(SOCKET_STATES || (SOCKET_STATES = {}));\nexport var CHANNEL_STATES;\n(function (CHANNEL_STATES) {\n    CHANNEL_STATES[\"closed\"] = \"closed\";\n    CHANNEL_STATES[\"errored\"] = \"errored\";\n    CHANNEL_STATES[\"joined\"] = \"joined\";\n    CHANNEL_STATES[\"joining\"] = \"joining\";\n    CHANNEL_STATES[\"leaving\"] = \"leaving\";\n})(CHANNEL_STATES || (CHANNEL_STATES = {}));\nexport var CHANNEL_EVENTS;\n(function (CHANNEL_EVENTS) {\n    CHANNEL_EVENTS[\"close\"] = \"phx_close\";\n    CHANNEL_EVENTS[\"error\"] = \"phx_error\";\n    CHANNEL_EVENTS[\"join\"] = \"phx_join\";\n    CHANNEL_EVENTS[\"reply\"] = \"phx_reply\";\n    CHANNEL_EVENTS[\"leave\"] = \"phx_leave\";\n    CHANNEL_EVENTS[\"access_token\"] = \"access_token\";\n})(CHANNEL_EVENTS || (CHANNEL_EVENTS = {}));\nexport var TRANSPORTS;\n(function (TRANSPORTS) {\n    TRANSPORTS[\"websocket\"] = \"websocket\";\n})(TRANSPORTS || (TRANSPORTS = {}));\nexport var CONNECTION_STATE;\n(function (CONNECTION_STATE) {\n    CONNECTION_STATE[\"Connecting\"] = \"connecting\";\n    CONNECTION_STATE[\"Open\"] = \"open\";\n    CONNECTION_STATE[\"Closing\"] = \"closing\";\n    CONNECTION_STATE[\"Closed\"] = \"closed\";\n})(CONNECTION_STATE || (CONNECTION_STATE = {}));\n//# sourceMappingURL=constants.js.map","/**\n * Creates a timer that accepts a `timerCalc` function to perform calculated timeout retries, such as exponential backoff.\n *\n * @example\n *    let reconnectTimer = new Timer(() => this.connect(), function(tries){\n *      return [1000, 5000, 10000][tries - 1] || 10000\n *    })\n *    reconnectTimer.scheduleTimeout() // fires after 1000\n *    reconnectTimer.scheduleTimeout() // fires after 5000\n *    reconnectTimer.reset()\n *    reconnectTimer.scheduleTimeout() // fires after 1000\n */\nexport default class Timer {\n    constructor(callback, timerCalc) {\n        this.callback = callback;\n        this.timerCalc = timerCalc;\n        this.timer = undefined;\n        this.tries = 0;\n        this.callback = callback;\n        this.timerCalc = timerCalc;\n    }\n    reset() {\n        this.tries = 0;\n        clearTimeout(this.timer);\n    }\n    // Cancels any previous scheduleTimeout and schedules callback\n    scheduleTimeout() {\n        clearTimeout(this.timer);\n        this.timer = setTimeout(() => {\n            this.tries = this.tries + 1;\n            this.callback();\n        }, this.timerCalc(this.tries + 1));\n    }\n}\n//# sourceMappingURL=timer.js.map","// This file draws heavily from https://github.com/phoenixframework/phoenix/commit/cf098e9cf7a44ee6479d31d911a97d3c7430c6fe\n// License: https://github.com/phoenixframework/phoenix/blob/master/LICENSE.md\nexport default class Serializer {\n    constructor() {\n        this.HEADER_LENGTH = 1;\n    }\n    decode(rawPayload, callback) {\n        if (rawPayload.constructor === ArrayBuffer) {\n            return callback(this._binaryDecode(rawPayload));\n        }\n        if (typeof rawPayload === 'string') {\n            return callback(JSON.parse(rawPayload));\n        }\n        return callback({});\n    }\n    _binaryDecode(buffer) {\n        const view = new DataView(buffer);\n        const decoder = new TextDecoder();\n        return this._decodeBroadcast(buffer, view, decoder);\n    }\n    _decodeBroadcast(buffer, view, decoder) {\n        const topicSize = view.getUint8(1);\n        const eventSize = view.getUint8(2);\n        let offset = this.HEADER_LENGTH + 2;\n        const topic = decoder.decode(buffer.slice(offset, offset + topicSize));\n        offset = offset + topicSize;\n        const event = decoder.decode(buffer.slice(offset, offset + eventSize));\n        offset = offset + eventSize;\n        const data = JSON.parse(decoder.decode(buffer.slice(offset, buffer.byteLength)));\n        return { ref: null, topic: topic, event: event, payload: data };\n    }\n}\n//# sourceMappingURL=serializer.js.map","import { DEFAULT_TIMEOUT } from '../lib/constants';\nexport default class Push {\n    /**\n     * Initializes the Push\n     *\n     * @param channel The Channel\n     * @param event The event, for example `\"phx_join\"`\n     * @param payload The payload, for example `{user_id: 123}`\n     * @param timeout The push timeout in milliseconds\n     */\n    constructor(channel, event, payload = {}, timeout = DEFAULT_TIMEOUT) {\n        this.channel = channel;\n        this.event = event;\n        this.payload = payload;\n        this.timeout = timeout;\n        this.sent = false;\n        this.timeoutTimer = undefined;\n        this.ref = '';\n        this.receivedResp = null;\n        this.recHooks = [];\n        this.refEvent = null;\n    }\n    resend(timeout) {\n        this.timeout = timeout;\n        this._cancelRefEvent();\n        this.ref = '';\n        this.refEvent = null;\n        this.receivedResp = null;\n        this.sent = false;\n        this.send();\n    }\n    send() {\n        if (this._hasReceived('timeout')) {\n            return;\n        }\n        this.startTimeout();\n        this.sent = true;\n        this.channel.socket.push({\n            topic: this.channel.topic,\n            event: this.event,\n            payload: this.payload,\n            ref: this.ref,\n            join_ref: this.channel.joinRef(),\n        });\n    }\n    updatePayload(payload) {\n        this.payload = Object.assign(Object.assign({}, this.payload), payload);\n    }\n    receive(status, callback) {\n        var _a;\n        if (this._hasReceived(status)) {\n            callback((_a = this.receivedResp) === null || _a === void 0 ? void 0 : _a.response);\n        }\n        this.recHooks.push({ status, callback });\n        return this;\n    }\n    startTimeout() {\n        if (this.timeoutTimer) {\n            return;\n        }\n        this.ref = this.channel.socket.makeRef();\n        this.refEvent = this.channel.replyEventName(this.ref);\n        const callback = (payload) => {\n            this._cancelRefEvent();\n            this._cancelTimeout();\n            this.receivedResp = payload;\n            this._matchReceive(payload);\n        };\n        this.channel.on(this.refEvent, callback);\n        this.timeoutTimer = setTimeout(() => {\n            this.trigger('timeout', {});\n        }, this.timeout);\n    }\n    trigger(status, response) {\n        if (this.refEvent)\n            this.channel.trigger(this.refEvent, { status, response });\n    }\n    destroy() {\n        this._cancelRefEvent();\n        this._cancelTimeout();\n    }\n    _cancelRefEvent() {\n        if (!this.refEvent) {\n            return;\n        }\n        this.channel.off(this.refEvent);\n    }\n    _cancelTimeout() {\n        clearTimeout(this.timeoutTimer);\n        this.timeoutTimer = undefined;\n    }\n    _matchReceive({ status, response, }) {\n        this.recHooks\n            .filter((h) => h.status === status)\n            .forEach((h) => h.callback(response));\n    }\n    _hasReceived(status) {\n        return this.receivedResp && this.receivedResp.status === status;\n    }\n}\n//# sourceMappingURL=push.js.map","import { CHANNEL_EVENTS, CHANNEL_STATES } from './lib/constants';\nimport Push from './lib/push';\nimport Timer from './lib/timer';\nexport default class RealtimeSubscription {\n    constructor(topic, params = {}, socket) {\n        this.topic = topic;\n        this.params = params;\n        this.socket = socket;\n        this.bindings = [];\n        this.state = CHANNEL_STATES.closed;\n        this.joinedOnce = false;\n        this.pushBuffer = [];\n        this.timeout = this.socket.timeout;\n        this.joinPush = new Push(this, CHANNEL_EVENTS.join, this.params, this.timeout);\n        this.rejoinTimer = new Timer(() => this.rejoinUntilConnected(), this.socket.reconnectAfterMs);\n        this.joinPush.receive('ok', () => {\n            this.state = CHANNEL_STATES.joined;\n            this.rejoinTimer.reset();\n            this.pushBuffer.forEach((pushEvent) => pushEvent.send());\n            this.pushBuffer = [];\n        });\n        this.onClose(() => {\n            this.rejoinTimer.reset();\n            this.socket.log('channel', `close ${this.topic} ${this.joinRef()}`);\n            this.state = CHANNEL_STATES.closed;\n            this.socket.remove(this);\n        });\n        this.onError((reason) => {\n            if (this.isLeaving() || this.isClosed()) {\n                return;\n            }\n            this.socket.log('channel', `error ${this.topic}`, reason);\n            this.state = CHANNEL_STATES.errored;\n            this.rejoinTimer.scheduleTimeout();\n        });\n        this.joinPush.receive('timeout', () => {\n            if (!this.isJoining()) {\n                return;\n            }\n            this.socket.log('channel', `timeout ${this.topic}`, this.joinPush.timeout);\n            this.state = CHANNEL_STATES.errored;\n            this.rejoinTimer.scheduleTimeout();\n        });\n        this.on(CHANNEL_EVENTS.reply, (payload, ref) => {\n            this.trigger(this.replyEventName(ref), payload);\n        });\n    }\n    rejoinUntilConnected() {\n        this.rejoinTimer.scheduleTimeout();\n        if (this.socket.isConnected()) {\n            this.rejoin();\n        }\n    }\n    subscribe(timeout = this.timeout) {\n        if (this.joinedOnce) {\n            throw `tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance`;\n        }\n        else {\n            this.joinedOnce = true;\n            this.rejoin(timeout);\n            return this.joinPush;\n        }\n    }\n    onClose(callback) {\n        this.on(CHANNEL_EVENTS.close, callback);\n    }\n    onError(callback) {\n        this.on(CHANNEL_EVENTS.error, (reason) => callback(reason));\n    }\n    on(event, callback) {\n        this.bindings.push({ event, callback });\n    }\n    off(event) {\n        this.bindings = this.bindings.filter((bind) => bind.event !== event);\n    }\n    canPush() {\n        return this.socket.isConnected() && this.isJoined();\n    }\n    push(event, payload, timeout = this.timeout) {\n        if (!this.joinedOnce) {\n            throw `tried to push '${event}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;\n        }\n        let pushEvent = new Push(this, event, payload, timeout);\n        if (this.canPush()) {\n            pushEvent.send();\n        }\n        else {\n            pushEvent.startTimeout();\n            this.pushBuffer.push(pushEvent);\n        }\n        return pushEvent;\n    }\n    updateJoinPayload(payload) {\n        this.joinPush.updatePayload(payload);\n    }\n    /**\n     * Leaves the channel\n     *\n     * Unsubscribes from server events, and instructs channel to terminate on server.\n     * Triggers onClose() hooks.\n     *\n     * To receive leave acknowledgements, use the a `receive` hook to bind to the server ack, ie:\n     * channel.unsubscribe().receive(\"ok\", () => alert(\"left!\") )\n     */\n    unsubscribe(timeout = this.timeout) {\n        this.state = CHANNEL_STATES.leaving;\n        let onClose = () => {\n            this.socket.log('channel', `leave ${this.topic}`);\n            this.trigger(CHANNEL_EVENTS.close, 'leave', this.joinRef());\n        };\n        // Destroy joinPush to avoid connection timeouts during unscription phase\n        this.joinPush.destroy();\n        let leavePush = new Push(this, CHANNEL_EVENTS.leave, {}, timeout);\n        leavePush.receive('ok', () => onClose()).receive('timeout', () => onClose());\n        leavePush.send();\n        if (!this.canPush()) {\n            leavePush.trigger('ok', {});\n        }\n        return leavePush;\n    }\n    /**\n     * Overridable message hook\n     *\n     * Receives all events for specialized message handling before dispatching to the channel callbacks.\n     * Must return the payload, modified or unmodified.\n     */\n    onMessage(event, payload, ref) {\n        return payload;\n    }\n    isMember(topic) {\n        return this.topic === topic;\n    }\n    joinRef() {\n        return this.joinPush.ref;\n    }\n    rejoin(timeout = this.timeout) {\n        if (this.isLeaving()) {\n            return;\n        }\n        this.socket.leaveOpenTopic(this.topic);\n        this.state = CHANNEL_STATES.joining;\n        this.joinPush.resend(timeout);\n    }\n    trigger(event, payload, ref) {\n        let { close, error, leave, join } = CHANNEL_EVENTS;\n        let events = [close, error, leave, join];\n        if (ref && events.indexOf(event) >= 0 && ref !== this.joinRef()) {\n            return;\n        }\n        let handledPayload = this.onMessage(event, payload, ref);\n        if (payload && !handledPayload) {\n            throw 'channel onMessage callbacks must return the payload, modified or unmodified';\n        }\n        this.bindings\n            .filter((bind) => {\n            // Bind all events if the user specifies a wildcard.\n            if (bind.event === '*') {\n                return event === (payload === null || payload === void 0 ? void 0 : payload.type);\n            }\n            else {\n                return bind.event === event;\n            }\n        })\n            .map((bind) => bind.callback(handledPayload, ref));\n    }\n    replyEventName(ref) {\n        return `chan_reply_${ref}`;\n    }\n    isClosed() {\n        return this.state === CHANNEL_STATES.closed;\n    }\n    isErrored() {\n        return this.state === CHANNEL_STATES.errored;\n    }\n    isJoined() {\n        return this.state === CHANNEL_STATES.joined;\n    }\n    isJoining() {\n        return this.state === CHANNEL_STATES.joining;\n    }\n    isLeaving() {\n        return this.state === CHANNEL_STATES.leaving;\n    }\n}\n//# sourceMappingURL=RealtimeSubscription.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { w3cwebsocket } from 'websocket';\nimport { VSN, CHANNEL_EVENTS, TRANSPORTS, SOCKET_STATES, DEFAULT_TIMEOUT, WS_CLOSE_NORMAL, DEFAULT_HEADERS, CONNECTION_STATE, } from './lib/constants';\nimport Timer from './lib/timer';\nimport Serializer from './lib/serializer';\nimport RealtimeSubscription from './RealtimeSubscription';\nconst noop = () => { };\nexport default class RealtimeClient {\n    /**\n     * Initializes the Socket.\n     *\n     * @param endPoint The string WebSocket endpoint, ie, \"ws://example.com/socket\", \"wss://example.com\", \"/socket\" (inherited host & protocol)\n     * @param options.transport The Websocket Transport, for example WebSocket.\n     * @param options.timeout The default timeout in milliseconds to trigger push timeouts.\n     * @param options.params The optional params to pass when connecting.\n     * @param options.headers The optional headers to pass when connecting.\n     * @param options.heartbeatIntervalMs The millisec interval to send a heartbeat message.\n     * @param options.logger The optional function for specialized logging, ie: logger: (kind, msg, data) => { console.log(`${kind}: ${msg}`, data) }\n     * @param options.encode The function to encode outgoing messages. Defaults to JSON: (payload, callback) => callback(JSON.stringify(payload))\n     * @param options.decode The function to decode incoming messages. Defaults to Serializer's decode.\n     * @param options.longpollerTimeout The maximum timeout of a long poll AJAX request. Defaults to 20s (double the server long poll timer).\n     * @param options.reconnectAfterMs he optional function that returns the millsec reconnect interval. Defaults to stepped backoff off.\n     */\n    constructor(endPoint, options) {\n        this.accessToken = null;\n        this.channels = [];\n        this.endPoint = '';\n        this.headers = DEFAULT_HEADERS;\n        this.params = {};\n        this.timeout = DEFAULT_TIMEOUT;\n        this.transport = w3cwebsocket;\n        this.heartbeatIntervalMs = 30000;\n        this.longpollerTimeout = 20000;\n        this.heartbeatTimer = undefined;\n        this.pendingHeartbeatRef = null;\n        this.ref = 0;\n        this.logger = noop;\n        this.conn = null;\n        this.sendBuffer = [];\n        this.serializer = new Serializer();\n        this.stateChangeCallbacks = {\n            open: [],\n            close: [],\n            error: [],\n            message: [],\n        };\n        this.endPoint = `${endPoint}/${TRANSPORTS.websocket}`;\n        if (options === null || options === void 0 ? void 0 : options.params)\n            this.params = options.params;\n        if (options === null || options === void 0 ? void 0 : options.headers)\n            this.headers = Object.assign(Object.assign({}, this.headers), options.headers);\n        if (options === null || options === void 0 ? void 0 : options.timeout)\n            this.timeout = options.timeout;\n        if (options === null || options === void 0 ? void 0 : options.logger)\n            this.logger = options.logger;\n        if (options === null || options === void 0 ? void 0 : options.transport)\n            this.transport = options.transport;\n        if (options === null || options === void 0 ? void 0 : options.heartbeatIntervalMs)\n            this.heartbeatIntervalMs = options.heartbeatIntervalMs;\n        if (options === null || options === void 0 ? void 0 : options.longpollerTimeout)\n            this.longpollerTimeout = options.longpollerTimeout;\n        this.reconnectAfterMs = (options === null || options === void 0 ? void 0 : options.reconnectAfterMs) ? options.reconnectAfterMs\n            : (tries) => {\n                return [1000, 2000, 5000, 10000][tries - 1] || 10000;\n            };\n        this.encode = (options === null || options === void 0 ? void 0 : options.encode) ? options.encode\n            : (payload, callback) => {\n                return callback(JSON.stringify(payload));\n            };\n        this.decode = (options === null || options === void 0 ? void 0 : options.decode) ? options.decode\n            : this.serializer.decode.bind(this.serializer);\n        this.reconnectTimer = new Timer(() => __awaiter(this, void 0, void 0, function* () {\n            yield this.disconnect();\n            this.connect();\n        }), this.reconnectAfterMs);\n    }\n    /**\n     * Connects the socket, unless already connected.\n     */\n    connect() {\n        if (this.conn) {\n            return;\n        }\n        this.conn = new this.transport(this.endPointURL(), [], null, this.headers);\n        if (this.conn) {\n            // this.conn.timeout = this.longpollerTimeout // TYPE ERROR\n            this.conn.binaryType = 'arraybuffer';\n            this.conn.onopen = () => this._onConnOpen();\n            this.conn.onerror = (error) => this._onConnError(error);\n            this.conn.onmessage = (event) => this.onConnMessage(event);\n            this.conn.onclose = (event) => this._onConnClose(event);\n        }\n    }\n    /**\n     * Disconnects the socket.\n     *\n     * @param code A numeric status code to send on disconnect.\n     * @param reason A custom reason for the disconnect.\n     */\n    disconnect(code, reason) {\n        return new Promise((resolve, _reject) => {\n            try {\n                if (this.conn) {\n                    this.conn.onclose = function () { }; // noop\n                    if (code) {\n                        this.conn.close(code, reason || '');\n                    }\n                    else {\n                        this.conn.close();\n                    }\n                    this.conn = null;\n                    // remove open handles\n                    this.heartbeatTimer && clearInterval(this.heartbeatTimer);\n                    this.reconnectTimer.reset();\n                }\n                resolve({ error: null, data: true });\n            }\n            catch (error) {\n                resolve({ error: error, data: false });\n            }\n        });\n    }\n    /**\n     * Logs the message.\n     *\n     * For customized logging, `this.logger` can be overriden.\n     */\n    log(kind, msg, data) {\n        this.logger(kind, msg, data);\n    }\n    /**\n     * Registers a callback for connection state change event.\n     *\n     * @param callback A function to be called when the event occurs.\n     *\n     * @example\n     *    socket.onOpen(() => console.log(\"Socket opened.\"))\n     */\n    onOpen(callback) {\n        this.stateChangeCallbacks.open.push(callback);\n    }\n    /**\n     * Registers a callback for connection state change events.\n     *\n     * @param callback A function to be called when the event occurs.\n     *\n     * @example\n     *    socket.onOpen(() => console.log(\"Socket closed.\"))\n     */\n    onClose(callback) {\n        this.stateChangeCallbacks.close.push(callback);\n    }\n    /**\n     * Registers a callback for connection state change events.\n     *\n     * @param callback A function to be called when the event occurs.\n     *\n     * @example\n     *    socket.onOpen((error) => console.log(\"An error occurred\"))\n     */\n    onError(callback) {\n        this.stateChangeCallbacks.error.push(callback);\n    }\n    /**\n     * Calls a function any time a message is received.\n     *\n     * @param callback A function to be called when the event occurs.\n     *\n     * @example\n     *    socket.onMessage((message) => console.log(message))\n     */\n    onMessage(callback) {\n        this.stateChangeCallbacks.message.push(callback);\n    }\n    /**\n     * Returns the current state of the socket.\n     */\n    connectionState() {\n        switch (this.conn && this.conn.readyState) {\n            case SOCKET_STATES.connecting:\n                return CONNECTION_STATE.Connecting;\n            case SOCKET_STATES.open:\n                return CONNECTION_STATE.Open;\n            case SOCKET_STATES.closing:\n                return CONNECTION_STATE.Closing;\n            default:\n                return CONNECTION_STATE.Closed;\n        }\n    }\n    /**\n     * Retuns `true` is the connection is open.\n     */\n    isConnected() {\n        return this.connectionState() === CONNECTION_STATE.Open;\n    }\n    /**\n     * Removes a subscription from the socket.\n     *\n     * @param channel An open subscription.\n     */\n    remove(channel) {\n        this.channels = this.channels.filter((c) => c.joinRef() !== channel.joinRef());\n    }\n    channel(topic, chanParams = {}) {\n        const chan = new RealtimeSubscription(topic, chanParams, this);\n        this.channels.push(chan);\n        return chan;\n    }\n    /**\n     * Push out a message if the socket is connected.\n     *\n     * If the socket is not connected, the message gets enqueued within a local buffer, and sent out when a connection is next established.\n     */\n    push(data) {\n        const { topic, event, payload, ref } = data;\n        let callback = () => {\n            this.encode(data, (result) => {\n                var _a;\n                (_a = this.conn) === null || _a === void 0 ? void 0 : _a.send(result);\n            });\n        };\n        this.log('push', `${topic} ${event} (${ref})`, payload);\n        if (this.isConnected()) {\n            callback();\n        }\n        else {\n            this.sendBuffer.push(callback);\n        }\n    }\n    onConnMessage(rawMessage) {\n        this.decode(rawMessage.data, (msg) => {\n            let { topic, event, payload, ref } = msg;\n            if ((ref && ref === this.pendingHeartbeatRef) ||\n                event === (payload === null || payload === void 0 ? void 0 : payload.type)) {\n                this.pendingHeartbeatRef = null;\n            }\n            this.log('receive', `${payload.status || ''} ${topic} ${event} ${(ref && '(' + ref + ')') || ''}`, payload);\n            this.channels\n                .filter((channel) => channel.isMember(topic))\n                .forEach((channel) => channel.trigger(event, payload, ref));\n            this.stateChangeCallbacks.message.forEach((callback) => callback(msg));\n        });\n    }\n    /**\n     * Returns the URL of the websocket.\n     */\n    endPointURL() {\n        return this._appendParams(this.endPoint, Object.assign({}, this.params, { vsn: VSN }));\n    }\n    /**\n     * Return the next message ref, accounting for overflows\n     */\n    makeRef() {\n        let newRef = this.ref + 1;\n        if (newRef === this.ref) {\n            this.ref = 0;\n        }\n        else {\n            this.ref = newRef;\n        }\n        return this.ref.toString();\n    }\n    /**\n     * Sets the JWT access token used for channel subscription authorization and Realtime RLS.\n     *\n     * @param token A JWT string.\n     */\n    setAuth(token) {\n        this.accessToken = token;\n        this.channels.forEach((channel) => {\n            token && channel.updateJoinPayload({ user_token: token });\n            if (channel.joinedOnce && channel.isJoined()) {\n                channel.push(CHANNEL_EVENTS.access_token, { access_token: token });\n            }\n        });\n    }\n    /**\n     * Unsubscribe from channels with the specified topic.\n     */\n    leaveOpenTopic(topic) {\n        let dupChannel = this.channels.find((c) => c.topic === topic && (c.isJoined() || c.isJoining()));\n        if (dupChannel) {\n            this.log('transport', `leaving duplicate topic \"${topic}\"`);\n            dupChannel.unsubscribe();\n        }\n    }\n    _onConnOpen() {\n        this.log('transport', `connected to ${this.endPointURL()}`);\n        this._flushSendBuffer();\n        this.reconnectTimer.reset();\n        this.heartbeatTimer && clearInterval(this.heartbeatTimer);\n        this.heartbeatTimer = setInterval(() => this._sendHeartbeat(), this.heartbeatIntervalMs);\n        this.stateChangeCallbacks.open.forEach((callback) => callback());\n    }\n    _onConnClose(event) {\n        this.log('transport', 'close', event);\n        this._triggerChanError();\n        this.heartbeatTimer && clearInterval(this.heartbeatTimer);\n        this.reconnectTimer.scheduleTimeout();\n        this.stateChangeCallbacks.close.forEach((callback) => callback(event));\n    }\n    _onConnError(error) {\n        this.log('transport', error.message);\n        this._triggerChanError();\n        this.stateChangeCallbacks.error.forEach((callback) => callback(error));\n    }\n    _triggerChanError() {\n        this.channels.forEach((channel) => channel.trigger(CHANNEL_EVENTS.error));\n    }\n    _appendParams(url, params) {\n        if (Object.keys(params).length === 0) {\n            return url;\n        }\n        const prefix = url.match(/\\?/) ? '&' : '?';\n        const query = new URLSearchParams(params);\n        return `${url}${prefix}${query}`;\n    }\n    _flushSendBuffer() {\n        if (this.isConnected() && this.sendBuffer.length > 0) {\n            this.sendBuffer.forEach((callback) => callback());\n            this.sendBuffer = [];\n        }\n    }\n    _sendHeartbeat() {\n        var _a;\n        if (!this.isConnected()) {\n            return;\n        }\n        if (this.pendingHeartbeatRef) {\n            this.pendingHeartbeatRef = null;\n            this.log('transport', 'heartbeat timeout. Attempting to re-establish connection');\n            (_a = this.conn) === null || _a === void 0 ? void 0 : _a.close(WS_CLOSE_NORMAL, 'hearbeat timeout');\n            return;\n        }\n        this.pendingHeartbeatRef = this.makeRef();\n        this.push({\n            topic: 'phoenix',\n            event: 'heartbeat',\n            payload: {},\n            ref: this.pendingHeartbeatRef,\n        });\n        this.setAuth(this.accessToken);\n    }\n}\n//# sourceMappingURL=RealtimeClient.js.map","import { Transformers } from '@supabase/realtime-js';\nexport class SupabaseRealtimeClient {\n    constructor(socket, headers, schema, tableName) {\n        const chanParams = {};\n        const topic = tableName === '*' ? `realtime:${schema}` : `realtime:${schema}:${tableName}`;\n        const userToken = headers['Authorization'].split(' ')[1];\n        if (userToken) {\n            chanParams['user_token'] = userToken;\n        }\n        this.subscription = socket.channel(topic, chanParams);\n    }\n    getPayloadRecords(payload) {\n        const records = {\n            new: {},\n            old: {},\n        };\n        if (payload.type === 'INSERT' || payload.type === 'UPDATE') {\n            records.new = Transformers.convertChangeData(payload.columns, payload.record);\n        }\n        if (payload.type === 'UPDATE' || payload.type === 'DELETE') {\n            records.old = Transformers.convertChangeData(payload.columns, payload.old_record);\n        }\n        return records;\n    }\n    /**\n     * The event you want to listen to.\n     *\n     * @param event The event\n     * @param callback A callback function that is called whenever the event occurs.\n     */\n    on(event, callback) {\n        this.subscription.on(event, (payload) => {\n            let enrichedPayload = {\n                schema: payload.schema,\n                table: payload.table,\n                commit_timestamp: payload.commit_timestamp,\n                eventType: payload.type,\n                new: {},\n                old: {},\n                errors: payload.errors,\n            };\n            enrichedPayload = Object.assign(Object.assign({}, enrichedPayload), this.getPayloadRecords(payload));\n            callback(enrichedPayload);\n        });\n        return this;\n    }\n    /**\n     * Enables the subscription.\n     */\n    subscribe(callback = () => { }) {\n        this.subscription.onError((e) => callback('SUBSCRIPTION_ERROR', e));\n        this.subscription.onClose(() => callback('CLOSED'));\n        this.subscription\n            .subscribe()\n            .receive('ok', () => callback('SUBSCRIBED'))\n            .receive('error', (e) => callback('SUBSCRIPTION_ERROR', e))\n            .receive('timeout', () => callback('RETRYING_AFTER_TIMEOUT'));\n        return this.subscription;\n    }\n}\n//# sourceMappingURL=SupabaseRealtimeClient.js.map","import { PostgrestQueryBuilder } from '@supabase/postgrest-js';\nimport { SupabaseRealtimeClient } from './SupabaseRealtimeClient';\nexport class SupabaseQueryBuilder extends PostgrestQueryBuilder {\n    constructor(url, { headers = {}, schema, realtime, table, fetch, shouldThrowOnError, }) {\n        super(url, { headers, schema, fetch, shouldThrowOnError });\n        this._subscription = null;\n        this._realtime = realtime;\n        this._headers = headers;\n        this._schema = schema;\n        this._table = table;\n    }\n    /**\n     * Subscribe to realtime changes in your database.\n     * @param event The database event which you would like to receive updates for, or you can use the special wildcard `*` to listen to all changes.\n     * @param callback A callback that will handle the payload that is sent whenever your database changes.\n     */\n    on(event, callback) {\n        if (!this._realtime.isConnected()) {\n            this._realtime.connect();\n        }\n        if (!this._subscription) {\n            this._subscription = new SupabaseRealtimeClient(this._realtime, this._headers, this._schema, this._table);\n        }\n        return this._subscription.on(event, callback);\n    }\n}\n//# sourceMappingURL=SupabaseQueryBuilder.js.map","// generated by genversion\nexport const version = '1.7.3';\n//# sourceMappingURL=version.js.map","import { version } from './version';\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `storage-js/${version}` };\n//# sourceMappingURL=constants.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nconst _getErrorMessage = (err) => err.msg || err.message || err.error_description || err.error || JSON.stringify(err);\nconst handleError = (error, reject) => {\n    if (typeof error.json !== 'function') {\n        return reject(error);\n    }\n    error.json().then((err) => {\n        return reject({\n            message: _getErrorMessage(err),\n            status: (error === null || error === void 0 ? void 0 : error.status) || 500,\n        });\n    });\n};\nconst _getRequestParams = (method, options, parameters, body) => {\n    const params = { method, headers: (options === null || options === void 0 ? void 0 : options.headers) || {} };\n    if (method === 'GET') {\n        return params;\n    }\n    params.headers = Object.assign({ 'Content-Type': 'application/json' }, options === null || options === void 0 ? void 0 : options.headers);\n    params.body = JSON.stringify(body);\n    return Object.assign(Object.assign({}, params), parameters);\n};\nfunction _handleRequest(fetcher, method, url, options, parameters, body) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve, reject) => {\n            fetcher(url, _getRequestParams(method, options, parameters, body))\n                .then((result) => {\n                if (!result.ok)\n                    throw result;\n                if (options === null || options === void 0 ? void 0 : options.noResolveJson)\n                    return resolve(result);\n                return result.json();\n            })\n                .then((data) => resolve(data))\n                .catch((error) => handleError(error, reject));\n        });\n    });\n}\nexport function get(fetcher, url, options, parameters) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return _handleRequest(fetcher, 'GET', url, options, parameters);\n    });\n}\nexport function post(fetcher, url, body, options, parameters) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return _handleRequest(fetcher, 'POST', url, options, parameters, body);\n    });\n}\nexport function put(fetcher, url, body, options, parameters) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return _handleRequest(fetcher, 'PUT', url, options, parameters, body);\n    });\n}\nexport function remove(fetcher, url, body, options, parameters) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return _handleRequest(fetcher, 'DELETE', url, options, parameters, body);\n    });\n}\n//# sourceMappingURL=fetch.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nexport const resolveFetch = (customFetch) => {\n    let _fetch;\n    if (customFetch) {\n        _fetch = customFetch;\n    }\n    else if (typeof fetch === 'undefined') {\n        _fetch = (...args) => __awaiter(void 0, void 0, void 0, function* () { return yield (yield import('cross-fetch')).fetch(...args); });\n    }\n    else {\n        _fetch = fetch;\n    }\n    return (...args) => _fetch(...args);\n};\n//# sourceMappingURL=helpers.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { DEFAULT_HEADERS } from './constants';\nimport { get, post, put, remove } from './fetch';\nimport { resolveFetch } from './helpers';\nexport class StorageBucketApi {\n    constructor(url, headers = {}, fetch) {\n        this.url = url;\n        this.headers = Object.assign(Object.assign({}, DEFAULT_HEADERS), headers);\n        this.fetch = resolveFetch(fetch);\n    }\n    /**\n     * Retrieves the details of all Storage buckets within an existing project.\n     */\n    listBuckets() {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield get(this.fetch, `${this.url}/bucket`, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Retrieves the details of an existing Storage bucket.\n     *\n     * @param id The unique identifier of the bucket you would like to retrieve.\n     */\n    getBucket(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield get(this.fetch, `${this.url}/bucket/${id}`, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Creates a new Storage bucket\n     *\n     * @param id A unique identifier for the bucket you are creating.\n     * @returns newly created bucket id\n     */\n    createBucket(id, options = { public: false }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/bucket`, { id, name: id, public: options.public }, { headers: this.headers });\n                return { data: data.name, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Updates a new Storage bucket\n     *\n     * @param id A unique identifier for the bucket you are updating.\n     */\n    updateBucket(id, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield put(this.fetch, `${this.url}/bucket/${id}`, { id, name: id, public: options.public }, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Removes all objects inside a single bucket.\n     *\n     * @param id The unique identifier of the bucket you would like to empty.\n     */\n    emptyBucket(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/bucket/${id}/empty`, {}, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Deletes an existing bucket. A bucket can't be deleted with existing objects inside it.\n     * You must first `empty()` the bucket.\n     *\n     * @param id The unique identifier of the bucket you would like to delete.\n     */\n    deleteBucket(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield remove(this.fetch, `${this.url}/bucket/${id}`, {}, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n}\n//# sourceMappingURL=StorageBucketApi.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { get, post, remove } from './fetch';\nimport { resolveFetch } from './helpers';\nconst DEFAULT_SEARCH_OPTIONS = {\n    limit: 100,\n    offset: 0,\n    sortBy: {\n        column: 'name',\n        order: 'asc',\n    },\n};\nconst DEFAULT_FILE_OPTIONS = {\n    cacheControl: '3600',\n    contentType: 'text/plain;charset=UTF-8',\n    upsert: false,\n};\nexport class StorageFileApi {\n    constructor(url, headers = {}, bucketId, fetch) {\n        this.url = url;\n        this.headers = headers;\n        this.bucketId = bucketId;\n        this.fetch = resolveFetch(fetch);\n    }\n    /**\n     * Uploads a file to an existing bucket or replaces an existing file at the specified path with a new one.\n     *\n     * @param method HTTP method.\n     * @param path The relative file path. Should be of the format `folder/subfolder/filename.png`. The bucket must already exist before attempting to upload.\n     * @param fileBody The body of the file to be stored in the bucket.\n     * @param fileOptions HTTP headers.\n     * `cacheControl`: string, the `Cache-Control: max-age=<seconds>` seconds value.\n     * `contentType`: string, the `Content-Type` header value. Should be specified if using a `fileBody` that is neither `Blob` nor `File` nor `FormData`, otherwise will default to `text/plain;charset=UTF-8`.\n     * `upsert`: boolean, whether to perform an upsert.\n     */\n    uploadOrUpdate(method, path, fileBody, fileOptions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                let body;\n                const options = Object.assign(Object.assign({}, DEFAULT_FILE_OPTIONS), fileOptions);\n                const headers = Object.assign(Object.assign({}, this.headers), (method === 'POST' && { 'x-upsert': String(options.upsert) }));\n                if (typeof Blob !== 'undefined' && fileBody instanceof Blob) {\n                    body = new FormData();\n                    body.append('cacheControl', options.cacheControl);\n                    body.append('', fileBody);\n                }\n                else if (typeof FormData !== 'undefined' && fileBody instanceof FormData) {\n                    body = fileBody;\n                    body.append('cacheControl', options.cacheControl);\n                }\n                else {\n                    body = fileBody;\n                    headers['cache-control'] = `max-age=${options.cacheControl}`;\n                    headers['content-type'] = options.contentType;\n                }\n                const cleanPath = this._removeEmptyFolders(path);\n                const _path = this._getFinalPath(cleanPath);\n                const res = yield this.fetch(`${this.url}/object/${_path}`, {\n                    method,\n                    body: body,\n                    headers,\n                });\n                if (res.ok) {\n                    // const data = await res.json()\n                    // temporary fix till backend is updated to the latest storage-api version\n                    return { data: { Key: _path }, error: null };\n                }\n                else {\n                    const error = yield res.json();\n                    return { data: null, error };\n                }\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Uploads a file to an existing bucket.\n     *\n     * @param path The relative file path. Should be of the format `folder/subfolder/filename.png`. The bucket must already exist before attempting to upload.\n     * @param fileBody The body of the file to be stored in the bucket.\n     * @param fileOptions HTTP headers.\n     * `cacheControl`: string, the `Cache-Control: max-age=<seconds>` seconds value.\n     * `contentType`: string, the `Content-Type` header value. Should be specified if using a `fileBody` that is neither `Blob` nor `File` nor `FormData`, otherwise will default to `text/plain;charset=UTF-8`.\n     * `upsert`: boolean, whether to perform an upsert.\n     */\n    upload(path, fileBody, fileOptions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.uploadOrUpdate('POST', path, fileBody, fileOptions);\n        });\n    }\n    /**\n     * Replaces an existing file at the specified path with a new one.\n     *\n     * @param path The relative file path. Should be of the format `folder/subfolder/filename.png`. The bucket must already exist before attempting to upload.\n     * @param fileBody The body of the file to be stored in the bucket.\n     * @param fileOptions HTTP headers.\n     * `cacheControl`: string, the `Cache-Control: max-age=<seconds>` seconds value.\n     * `contentType`: string, the `Content-Type` header value. Should be specified if using a `fileBody` that is neither `Blob` nor `File` nor `FormData`, otherwise will default to `text/plain;charset=UTF-8`.\n     * `upsert`: boolean, whether to perform an upsert.\n     */\n    update(path, fileBody, fileOptions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.uploadOrUpdate('PUT', path, fileBody, fileOptions);\n        });\n    }\n    /**\n     * Moves an existing file.\n     *\n     * @param fromPath The original file path, including the current file name. For example `folder/image.png`.\n     * @param toPath The new file path, including the new file name. For example `folder/image-new.png`.\n     */\n    move(fromPath, toPath) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/object/move`, { bucketId: this.bucketId, sourceKey: fromPath, destinationKey: toPath }, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Copies an existing file.\n     *\n     * @param fromPath The original file path, including the current file name. For example `folder/image.png`.\n     * @param toPath The new file path, including the new file name. For example `folder/image-copy.png`.\n     */\n    copy(fromPath, toPath) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/object/copy`, { bucketId: this.bucketId, sourceKey: fromPath, destinationKey: toPath }, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Create signed URL to download file without requiring permissions. This URL can be valid for a set number of seconds.\n     *\n     * @param path The file path to be downloaded, including the current file name. For example `folder/image.png`.\n     * @param expiresIn The number of seconds until the signed URL expires. For example, `60` for a URL which is valid for one minute.\n     */\n    createSignedUrl(path, expiresIn) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const _path = this._getFinalPath(path);\n                let data = yield post(this.fetch, `${this.url}/object/sign/${_path}`, { expiresIn }, { headers: this.headers });\n                const signedURL = `${this.url}${data.signedURL}`;\n                data = { signedURL };\n                return { data, error: null, signedURL };\n            }\n            catch (error) {\n                return { data: null, error, signedURL: null };\n            }\n        });\n    }\n    /**\n     * Create signed URLs to download files without requiring permissions. These URLs can be valid for a set number of seconds.\n     *\n     * @param paths The file paths to be downloaded, including the current file names. For example `['folder/image.png', 'folder2/image2.png']`.\n     * @param expiresIn The number of seconds until the signed URLs expire. For example, `60` for URLs which are valid for one minute.\n     */\n    createSignedUrls(paths, expiresIn) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/object/sign/${this.bucketId}`, { expiresIn, paths }, { headers: this.headers });\n                return {\n                    data: data.map((datum) => (Object.assign(Object.assign({}, datum), { signedURL: datum.signedURL ? `${this.url}${datum.signedURL}` : null }))),\n                    error: null,\n                };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Downloads a file.\n     *\n     * @param path The file path to be downloaded, including the path and file name. For example `folder/image.png`.\n     */\n    download(path) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const _path = this._getFinalPath(path);\n                const res = yield get(this.fetch, `${this.url}/object/${_path}`, {\n                    headers: this.headers,\n                    noResolveJson: true,\n                });\n                const data = yield res.blob();\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Retrieve URLs for assets in public buckets\n     *\n     * @param path The file path to be downloaded, including the path and file name. For example `folder/image.png`.\n     */\n    getPublicUrl(path) {\n        try {\n            const _path = this._getFinalPath(path);\n            const publicURL = `${this.url}/object/public/${_path}`;\n            const data = { publicURL };\n            return { data, error: null, publicURL };\n        }\n        catch (error) {\n            return { data: null, error, publicURL: null };\n        }\n    }\n    /**\n     * Deletes files within the same bucket\n     *\n     * @param paths An array of files to be deleted, including the path and file name. For example [`folder/image.png`].\n     */\n    remove(paths) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield remove(this.fetch, `${this.url}/object/${this.bucketId}`, { prefixes: paths }, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Get file metadata\n     * @param id the file id to retrieve metadata\n     */\n    // async getMetadata(id: string): Promise<{ data: Metadata | null; error: Error | null }> {\n    //   try {\n    //     const data = await get(`${this.url}/metadata/${id}`, { headers: this.headers })\n    //     return { data, error: null }\n    //   } catch (error) {\n    //     return { data: null, error }\n    //   }\n    // }\n    /**\n     * Update file metadata\n     * @param id the file id to update metadata\n     * @param meta the new file metadata\n     */\n    // async updateMetadata(\n    //   id: string,\n    //   meta: Metadata\n    // ): Promise<{ data: Metadata | null; error: Error | null }> {\n    //   try {\n    //     const data = await post(`${this.url}/metadata/${id}`, { ...meta }, { headers: this.headers })\n    //     return { data, error: null }\n    //   } catch (error) {\n    //     return { data: null, error }\n    //   }\n    // }\n    /**\n     * Lists all the files within a bucket.\n     * @param path The folder path.\n     * @param options Search options, including `limit`, `offset`, `sortBy`, and `search`.\n     * @param parameters Fetch parameters, currently only supports `signal`, which is an AbortController's signal\n     */\n    list(path, options, parameters) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const body = Object.assign(Object.assign(Object.assign({}, DEFAULT_SEARCH_OPTIONS), options), { prefix: path || '' });\n                const data = yield post(this.fetch, `${this.url}/object/list/${this.bucketId}`, body, { headers: this.headers }, parameters);\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    _getFinalPath(path) {\n        return `${this.bucketId}/${path}`;\n    }\n    _removeEmptyFolders(path) {\n        return path.replace(/^\\/|\\/$/g, '').replace(/\\/+/g, '/');\n    }\n}\n//# sourceMappingURL=StorageFileApi.js.map","import { StorageBucketApi, StorageFileApi } from './lib';\nexport class StorageClient extends StorageBucketApi {\n    constructor(url, headers = {}, fetch) {\n        super(url, headers, fetch);\n    }\n    /**\n     * Perform file operation in a bucket.\n     *\n     * @param id The bucket id to operate on.\n     */\n    from(id) {\n        return new StorageFileApi(this.url, this.headers, id, this.fetch);\n    }\n}\n//# sourceMappingURL=StorageClient.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nexport const resolveFetch = (customFetch) => {\n    let _fetch;\n    if (customFetch) {\n        _fetch = customFetch;\n    }\n    else if (typeof fetch === 'undefined') {\n        _fetch = (...args) => __awaiter(void 0, void 0, void 0, function* () { return yield (yield import('cross-fetch')).fetch(...args); });\n    }\n    else {\n        _fetch = fetch;\n    }\n    return (...args) => _fetch(...args);\n};\n//# sourceMappingURL=helper.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { resolveFetch } from './helper';\nexport class FunctionsClient {\n    constructor(url, { headers = {}, customFetch, } = {}) {\n        this.url = url;\n        this.headers = headers;\n        this.fetch = resolveFetch(customFetch);\n    }\n    /**\n     * Updates the authorization header\n     * @params token - the new jwt token sent in the authorisation header\n     */\n    setAuth(token) {\n        this.headers.Authorization = `Bearer ${token}`;\n    }\n    /**\n     * Invokes a function\n     * @param functionName - the name of the function to invoke\n     * @param invokeOptions - object with the following properties\n     * `headers`: object representing the headers to send with the request\n     * `body`: the body of the request\n     * `responseType`: how the response should be parsed. The default is `json`\n     */\n    invoke(functionName, invokeOptions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const { headers, body } = invokeOptions !== null && invokeOptions !== void 0 ? invokeOptions : {};\n                const response = yield this.fetch(`${this.url}/${functionName}`, {\n                    method: 'POST',\n                    headers: Object.assign({}, this.headers, headers),\n                    body,\n                });\n                const isRelayError = response.headers.get('x-relay-error');\n                if (isRelayError && isRelayError === 'true') {\n                    return { data: null, error: new Error(yield response.text()) };\n                }\n                let data;\n                const { responseType } = invokeOptions !== null && invokeOptions !== void 0 ? invokeOptions : {};\n                if (!responseType || responseType === 'json') {\n                    data = yield response.json();\n                }\n                else if (responseType === 'arrayBuffer') {\n                    data = yield response.arrayBuffer();\n                }\n                else if (responseType === 'blob') {\n                    data = yield response.blob();\n                }\n                else {\n                    data = yield response.text();\n                }\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n}\n//# sourceMappingURL=index.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { DEFAULT_HEADERS, STORAGE_KEY } from './lib/constants';\nimport { stripTrailingSlash, isBrowser } from './lib/helpers';\nimport { SupabaseAuthClient } from './lib/SupabaseAuthClient';\nimport { SupabaseQueryBuilder } from './lib/SupabaseQueryBuilder';\nimport { SupabaseStorageClient } from '@supabase/storage-js';\nimport { FunctionsClient } from '@supabase/functions-js';\nimport { PostgrestClient } from '@supabase/postgrest-js';\nimport { RealtimeClient } from '@supabase/realtime-js';\nconst DEFAULT_OPTIONS = {\n    schema: 'public',\n    autoRefreshToken: true,\n    persistSession: true,\n    detectSessionInUrl: true,\n    multiTab: true,\n    headers: DEFAULT_HEADERS,\n};\n/**\n * Supabase Client.\n *\n * An isomorphic Javascript client for interacting with Postgres.\n */\nexport default class SupabaseClient {\n    /**\n     * Create a new client for use in the browser.\n     * @param supabaseUrl The unique Supabase URL which is supplied when you create a new project in your project dashboard.\n     * @param supabaseKey The unique Supabase Key which is supplied when you create a new project in your project dashboard.\n     * @param options.schema You can switch in between schemas. The schema needs to be on the list of exposed schemas inside Supabase.\n     * @param options.autoRefreshToken Set to \"true\" if you want to automatically refresh the token before expiring.\n     * @param options.persistSession Set to \"true\" if you want to automatically save the user session into local storage.\n     * @param options.detectSessionInUrl Set to \"true\" if you want to automatically detects OAuth grants in the URL and signs in the user.\n     * @param options.headers Any additional headers to send with each network request.\n     * @param options.realtime Options passed along to realtime-js constructor.\n     * @param options.multiTab Set to \"false\" if you want to disable multi-tab/window events.\n     * @param options.fetch A custom fetch implementation.\n     */\n    constructor(supabaseUrl, supabaseKey, options) {\n        this.supabaseUrl = supabaseUrl;\n        this.supabaseKey = supabaseKey;\n        if (!supabaseUrl)\n            throw new Error('supabaseUrl is required.');\n        if (!supabaseKey)\n            throw new Error('supabaseKey is required.');\n        const _supabaseUrl = stripTrailingSlash(supabaseUrl);\n        const settings = Object.assign(Object.assign({}, DEFAULT_OPTIONS), options);\n        this.restUrl = `${_supabaseUrl}/rest/v1`;\n        this.realtimeUrl = `${_supabaseUrl}/realtime/v1`.replace('http', 'ws');\n        this.authUrl = `${_supabaseUrl}/auth/v1`;\n        this.storageUrl = `${_supabaseUrl}/storage/v1`;\n        const isPlatform = _supabaseUrl.match(/(supabase\\.co)|(supabase\\.in)/);\n        if (isPlatform) {\n            const urlParts = _supabaseUrl.split('.');\n            this.functionsUrl = `${urlParts[0]}.functions.${urlParts[1]}.${urlParts[2]}`;\n        }\n        else {\n            this.functionsUrl = `${_supabaseUrl}/functions/v1`;\n        }\n        this.schema = settings.schema;\n        this.multiTab = settings.multiTab;\n        this.fetch = settings.fetch;\n        this.headers = Object.assign(Object.assign({}, DEFAULT_HEADERS), options === null || options === void 0 ? void 0 : options.headers);\n        this.shouldThrowOnError = settings.shouldThrowOnError || false;\n        this.auth = this._initSupabaseAuthClient(settings);\n        this.realtime = this._initRealtimeClient(Object.assign({ headers: this.headers }, settings.realtime));\n        this._listenForAuthEvents();\n        this._listenForMultiTabEvents();\n        // In the future we might allow the user to pass in a logger to receive these events.\n        // this.realtime.onOpen(() => console.log('OPEN'))\n        // this.realtime.onClose(() => console.log('CLOSED'))\n        // this.realtime.onError((e: Error) => console.log('Socket error', e))\n    }\n    /**\n     * Supabase Functions allows you to deploy and invoke edge functions.\n     */\n    get functions() {\n        return new FunctionsClient(this.functionsUrl, {\n            headers: this._getAuthHeaders(),\n            customFetch: this.fetch,\n        });\n    }\n    /**\n     * Supabase Storage allows you to manage user-generated content, such as photos or videos.\n     */\n    get storage() {\n        return new SupabaseStorageClient(this.storageUrl, this._getAuthHeaders(), this.fetch);\n    }\n    /**\n     * Perform a table operation.\n     *\n     * @param table The table name to operate on.\n     */\n    from(table) {\n        const url = `${this.restUrl}/${table}`;\n        return new SupabaseQueryBuilder(url, {\n            headers: this._getAuthHeaders(),\n            schema: this.schema,\n            realtime: this.realtime,\n            table,\n            fetch: this.fetch,\n            shouldThrowOnError: this.shouldThrowOnError,\n        });\n    }\n    /**\n     * Perform a function call.\n     *\n     * @param fn  The function name to call.\n     * @param params  The parameters to pass to the function call.\n     * @param head   When set to true, no data will be returned.\n     * @param count  Count algorithm to use to count rows in a table.\n     *\n     */\n    rpc(fn, params, { head = false, count = null, } = {}) {\n        const rest = this._initPostgRESTClient();\n        return rest.rpc(fn, params, { head, count });\n    }\n    /**\n     * Closes and removes all subscriptions and returns a list of removed\n     * subscriptions and their errors.\n     */\n    removeAllSubscriptions() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const allSubs = this.getSubscriptions().slice();\n            const allSubPromises = allSubs.map((sub) => this.removeSubscription(sub));\n            const allRemovedSubs = yield Promise.all(allSubPromises);\n            return allRemovedSubs.map(({ error }, i) => {\n                return {\n                    data: { subscription: allSubs[i] },\n                    error,\n                };\n            });\n        });\n    }\n    /**\n     * Closes and removes a subscription and returns the number of open subscriptions.\n     *\n     * @param subscription The subscription you want to close and remove.\n     */\n    removeSubscription(subscription) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { error } = yield this._closeSubscription(subscription);\n            const allSubs = this.getSubscriptions();\n            const openSubCount = allSubs.filter((chan) => chan.isJoined()).length;\n            if (allSubs.length === 0)\n                yield this.realtime.disconnect();\n            return { data: { openSubscriptions: openSubCount }, error };\n        });\n    }\n    _closeSubscription(subscription) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let error = null;\n            if (!subscription.isClosed()) {\n                const { error: unsubError } = yield this._unsubscribeSubscription(subscription);\n                error = unsubError;\n            }\n            this.realtime.remove(subscription);\n            return { error };\n        });\n    }\n    _unsubscribeSubscription(subscription) {\n        return new Promise((resolve) => {\n            subscription\n                .unsubscribe()\n                .receive('ok', () => resolve({ error: null }))\n                .receive('error', (error) => resolve({ error }))\n                .receive('timeout', () => resolve({ error: new Error('timed out') }));\n        });\n    }\n    /**\n     * Returns an array of all your subscriptions.\n     */\n    getSubscriptions() {\n        return this.realtime.channels;\n    }\n    _initSupabaseAuthClient({ autoRefreshToken, persistSession, detectSessionInUrl, localStorage, headers, fetch, cookieOptions, multiTab, }) {\n        const authHeaders = {\n            Authorization: `Bearer ${this.supabaseKey}`,\n            apikey: `${this.supabaseKey}`,\n        };\n        return new SupabaseAuthClient({\n            url: this.authUrl,\n            headers: Object.assign(Object.assign({}, headers), authHeaders),\n            autoRefreshToken,\n            persistSession,\n            detectSessionInUrl,\n            localStorage,\n            fetch,\n            cookieOptions,\n            multiTab,\n        });\n    }\n    _initRealtimeClient(options) {\n        return new RealtimeClient(this.realtimeUrl, Object.assign(Object.assign({}, options), { params: Object.assign(Object.assign({}, options === null || options === void 0 ? void 0 : options.params), { apikey: this.supabaseKey }) }));\n    }\n    _initPostgRESTClient() {\n        return new PostgrestClient(this.restUrl, {\n            headers: this._getAuthHeaders(),\n            schema: this.schema,\n            fetch: this.fetch,\n            throwOnError: this.shouldThrowOnError,\n        });\n    }\n    _getAuthHeaders() {\n        var _a, _b;\n        const headers = Object.assign({}, this.headers);\n        const authBearer = (_b = (_a = this.auth.session()) === null || _a === void 0 ? void 0 : _a.access_token) !== null && _b !== void 0 ? _b : this.supabaseKey;\n        headers['apikey'] = this.supabaseKey;\n        headers['Authorization'] = headers['Authorization'] || `Bearer ${authBearer}`;\n        return headers;\n    }\n    _listenForMultiTabEvents() {\n        if (!this.multiTab || !isBrowser() || !(window === null || window === void 0 ? void 0 : window.addEventListener)) {\n            return null;\n        }\n        try {\n            return window === null || window === void 0 ? void 0 : window.addEventListener('storage', (e) => {\n                var _a, _b, _c;\n                if (e.key === STORAGE_KEY) {\n                    const newSession = JSON.parse(String(e.newValue));\n                    const accessToken = (_b = (_a = newSession === null || newSession === void 0 ? void 0 : newSession.currentSession) === null || _a === void 0 ? void 0 : _a.access_token) !== null && _b !== void 0 ? _b : undefined;\n                    const previousAccessToken = (_c = this.auth.session()) === null || _c === void 0 ? void 0 : _c.access_token;\n                    if (!accessToken) {\n                        this._handleTokenChanged('SIGNED_OUT', accessToken, 'STORAGE');\n                    }\n                    else if (!previousAccessToken && accessToken) {\n                        this._handleTokenChanged('SIGNED_IN', accessToken, 'STORAGE');\n                    }\n                    else if (previousAccessToken !== accessToken) {\n                        this._handleTokenChanged('TOKEN_REFRESHED', accessToken, 'STORAGE');\n                    }\n                }\n            });\n        }\n        catch (error) {\n            console.error('_listenForMultiTabEvents', error);\n            return null;\n        }\n    }\n    _listenForAuthEvents() {\n        let { data } = this.auth.onAuthStateChange((event, session) => {\n            this._handleTokenChanged(event, session === null || session === void 0 ? void 0 : session.access_token, 'CLIENT');\n        });\n        return data;\n    }\n    _handleTokenChanged(event, token, source) {\n        if ((event === 'TOKEN_REFRESHED' || event === 'SIGNED_IN') &&\n            this.changedAccessToken !== token) {\n            // Token has changed\n            this.realtime.setAuth(token);\n            // Ideally we should call this.auth.recoverSession() - need to make public\n            // to trigger a \"SIGNED_IN\" event on this client.\n            if (source == 'STORAGE')\n                this.auth.setAuth(token);\n            this.changedAccessToken = token;\n        }\n        else if (event === 'SIGNED_OUT' || event === 'USER_DELETED') {\n            // Token is removed\n            this.realtime.setAuth(this.supabaseKey);\n            if (source == 'STORAGE')\n                this.auth.signOut();\n        }\n    }\n}\n//# sourceMappingURL=SupabaseClient.js.map","import SupabaseClient from './SupabaseClient';\nexport * from '@supabase/gotrue-js';\nexport * from '@supabase/realtime-js';\n/**\n * Creates a new Supabase Client.\n */\nconst createClient = (supabaseUrl, supabaseKey, options) => {\n    return new SupabaseClient(supabaseUrl, supabaseKey, options);\n};\nexport { createClient, SupabaseClient, };\n//# sourceMappingURL=index.js.map","import { useCookie, useRuntimeConfig } from \"#imports\";\nexport const useSupabaseToken = () => {\n  const { supabase: { cookies: cookieOptions } } = useRuntimeConfig().public;\n  const cookieName = `${cookieOptions.name}-access-token`;\n  return useCookie(cookieName);\n};\n","import { createClient } from \"@supabase/supabase-js\";\nimport { useSupabaseToken } from \"./useSupabaseToken.mjs\";\nimport { useRuntimeConfig, useNuxtApp } from \"#imports\";\nexport const useSupabaseClient = () => {\n  const nuxtApp = useNuxtApp();\n  const token = useSupabaseToken();\n  const { supabase: { url, key, client: options } } = useRuntimeConfig().public;\n  if (!nuxtApp._supabaseClient) {\n    nuxtApp._supabaseClient = createClient(url, key, options);\n    if (nuxtApp.ssrContext) {\n      nuxtApp._supabaseClient.auth.setAuth(token.value);\n    }\n  }\n  return nuxtApp._supabaseClient;\n};\n","import { shallowRef, watchEffect, readonly, unref, ref, isVue3, watch, customRef, effectScope, provide, inject, getCurrentScope, onScopeDispose, isRef, computed, reactive, toRefs as toRefs$1, toRef, isVue2, set as set$1, getCurrentInstance, onBeforeMount, nextTick, onBeforeUnmount, onMounted, onUnmounted, isReactive } from 'vue-demi';\n\nvar __defProp$9 = Object.defineProperty;\nvar __defProps$6 = Object.defineProperties;\nvar __getOwnPropDescs$6 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$b = Object.getOwnPropertySymbols;\nvar __hasOwnProp$b = Object.prototype.hasOwnProperty;\nvar __propIsEnum$b = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$9 = (obj, key, value) => key in obj ? __defProp$9(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$9 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$b.call(b, prop))\n      __defNormalProp$9(a, prop, b[prop]);\n  if (__getOwnPropSymbols$b)\n    for (var prop of __getOwnPropSymbols$b(b)) {\n      if (__propIsEnum$b.call(b, prop))\n        __defNormalProp$9(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps$6 = (a, b) => __defProps$6(a, __getOwnPropDescs$6(b));\nfunction computedEager(fn, options) {\n  var _a;\n  const result = shallowRef();\n  watchEffect(() => {\n    result.value = fn();\n  }, __spreadProps$6(__spreadValues$9({}, options), {\n    flush: (_a = options == null ? void 0 : options.flush) != null ? _a : \"sync\"\n  }));\n  return readonly(result);\n}\n\nvar _a;\nconst isClient = typeof window !== \"undefined\";\nconst isDef = (val) => typeof val !== \"undefined\";\nconst assert = (condition, ...infos) => {\n  if (!condition)\n    console.warn(...infos);\n};\nconst toString = Object.prototype.toString;\nconst isBoolean = (val) => typeof val === \"boolean\";\nconst isFunction = (val) => typeof val === \"function\";\nconst isNumber = (val) => typeof val === \"number\";\nconst isString = (val) => typeof val === \"string\";\nconst isObject = (val) => toString.call(val) === \"[object Object]\";\nconst isWindow = (val) => typeof window !== \"undefined\" && toString.call(val) === \"[object Window]\";\nconst now = () => Date.now();\nconst timestamp = () => +Date.now();\nconst clamp = (n, min, max) => Math.min(max, Math.max(min, n));\nconst noop = () => {\n};\nconst rand = (min, max) => {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\nconst isIOS = isClient && ((_a = window == null ? void 0 : window.navigator) == null ? void 0 : _a.userAgent) && /iP(ad|hone|od)/.test(window.navigator.userAgent);\nconst hasOwn = (val, key) => Object.prototype.hasOwnProperty.call(val, key);\n\nfunction resolveUnref(r) {\n  return typeof r === \"function\" ? r() : unref(r);\n}\n\nfunction createFilterWrapper(filter, fn) {\n  function wrapper(...args) {\n    filter(() => fn.apply(this, args), { fn, thisArg: this, args });\n  }\n  return wrapper;\n}\nconst bypassFilter = (invoke) => {\n  return invoke();\n};\nfunction debounceFilter(ms, options = {}) {\n  let timer;\n  let maxTimer;\n  const filter = (invoke) => {\n    const duration = resolveUnref(ms);\n    const maxDuration = resolveUnref(options.maxWait);\n    if (timer)\n      clearTimeout(timer);\n    if (duration <= 0 || maxDuration !== void 0 && maxDuration <= 0) {\n      if (maxTimer) {\n        clearTimeout(maxTimer);\n        maxTimer = null;\n      }\n      return invoke();\n    }\n    if (maxDuration && !maxTimer) {\n      maxTimer = setTimeout(() => {\n        if (timer)\n          clearTimeout(timer);\n        maxTimer = null;\n        invoke();\n      }, maxDuration);\n    }\n    timer = setTimeout(() => {\n      if (maxTimer)\n        clearTimeout(maxTimer);\n      maxTimer = null;\n      invoke();\n    }, duration);\n  };\n  return filter;\n}\nfunction throttleFilter(ms, trailing = true, leading = true) {\n  let lastExec = 0;\n  let timer;\n  let isLeading = true;\n  const clear = () => {\n    if (timer) {\n      clearTimeout(timer);\n      timer = void 0;\n    }\n  };\n  const filter = (invoke) => {\n    const duration = resolveUnref(ms);\n    const elapsed = Date.now() - lastExec;\n    clear();\n    if (duration <= 0) {\n      lastExec = Date.now();\n      return invoke();\n    }\n    if (elapsed > duration && (leading || !isLeading)) {\n      lastExec = Date.now();\n      invoke();\n    } else if (trailing) {\n      timer = setTimeout(() => {\n        lastExec = Date.now();\n        isLeading = true;\n        clear();\n        invoke();\n      }, duration);\n    }\n    if (!leading && !timer)\n      timer = setTimeout(() => isLeading = true, duration);\n    isLeading = false;\n  };\n  return filter;\n}\nfunction pausableFilter(extendFilter = bypassFilter) {\n  const isActive = ref(true);\n  function pause() {\n    isActive.value = false;\n  }\n  function resume() {\n    isActive.value = true;\n  }\n  const eventFilter = (...args) => {\n    if (isActive.value)\n      extendFilter(...args);\n  };\n  return { isActive, pause, resume, eventFilter };\n}\n\nfunction __onlyVue3(name = \"this function\") {\n  if (isVue3)\n    return;\n  throw new Error(`[VueUse] ${name} is only works on Vue 3.`);\n}\nconst directiveHooks = {\n  mounted: isVue3 ? \"mounted\" : \"inserted\",\n  updated: isVue3 ? \"updated\" : \"componentUpdated\",\n  unmounted: isVue3 ? \"unmounted\" : \"unbind\"\n};\n\nfunction promiseTimeout(ms, throwOnTimeout = false, reason = \"Timeout\") {\n  return new Promise((resolve, reject) => {\n    if (throwOnTimeout)\n      setTimeout(() => reject(reason), ms);\n    else\n      setTimeout(resolve, ms);\n  });\n}\nfunction identity(arg) {\n  return arg;\n}\nfunction createSingletonPromise(fn) {\n  let _promise;\n  function wrapper() {\n    if (!_promise)\n      _promise = fn();\n    return _promise;\n  }\n  wrapper.reset = async () => {\n    const _prev = _promise;\n    _promise = void 0;\n    if (_prev)\n      await _prev;\n  };\n  return wrapper;\n}\nfunction invoke(fn) {\n  return fn();\n}\nfunction containsProp(obj, ...props) {\n  return props.some((k) => k in obj);\n}\nfunction increaseWithUnit(target, delta) {\n  var _a;\n  if (typeof target === \"number\")\n    return target + delta;\n  const value = ((_a = target.match(/^-?[0-9]+\\.?[0-9]*/)) == null ? void 0 : _a[0]) || \"\";\n  const unit = target.slice(value.length);\n  const result = parseFloat(value) + delta;\n  if (Number.isNaN(result))\n    return target;\n  return result + unit;\n}\nfunction objectPick(obj, keys, omitUndefined = false) {\n  return keys.reduce((n, k) => {\n    if (k in obj) {\n      if (!omitUndefined || obj[k] !== void 0)\n        n[k] = obj[k];\n    }\n    return n;\n  }, {});\n}\n\nfunction computedWithControl(source, fn) {\n  let v = void 0;\n  let track;\n  let trigger;\n  const dirty = ref(true);\n  const update = () => {\n    dirty.value = true;\n    trigger();\n  };\n  watch(source, update, { flush: \"sync\" });\n  const get = isFunction(fn) ? fn : fn.get;\n  const set = isFunction(fn) ? void 0 : fn.set;\n  const result = customRef((_track, _trigger) => {\n    track = _track;\n    trigger = _trigger;\n    return {\n      get() {\n        if (dirty.value) {\n          v = get();\n          dirty.value = false;\n        }\n        track();\n        return v;\n      },\n      set(v2) {\n        set == null ? void 0 : set(v2);\n      }\n    };\n  });\n  if (Object.isExtensible(result))\n    result.trigger = update;\n  return result;\n}\n\nfunction createEventHook() {\n  const fns = [];\n  const off = (fn) => {\n    const index = fns.indexOf(fn);\n    if (index !== -1)\n      fns.splice(index, 1);\n  };\n  const on = (fn) => {\n    fns.push(fn);\n    return {\n      off: () => off(fn)\n    };\n  };\n  const trigger = (param) => {\n    fns.forEach((fn) => fn(param));\n  };\n  return {\n    on,\n    off,\n    trigger\n  };\n}\n\nfunction createGlobalState(stateFactory) {\n  let initialized = false;\n  let state;\n  const scope = effectScope(true);\n  return () => {\n    if (!initialized) {\n      state = scope.run(stateFactory);\n      initialized = true;\n    }\n    return state;\n  };\n}\n\nfunction createInjectionState(composable) {\n  const key = Symbol(\"InjectionState\");\n  const useProvidingState = (...args) => {\n    provide(key, composable(...args));\n  };\n  const useInjectedState = () => inject(key);\n  return [useProvidingState, useInjectedState];\n}\n\nfunction tryOnScopeDispose(fn) {\n  if (getCurrentScope()) {\n    onScopeDispose(fn);\n    return true;\n  }\n  return false;\n}\n\nfunction createSharedComposable(composable) {\n  let subscribers = 0;\n  let state;\n  let scope;\n  const dispose = () => {\n    subscribers -= 1;\n    if (scope && subscribers <= 0) {\n      scope.stop();\n      state = void 0;\n      scope = void 0;\n    }\n  };\n  return (...args) => {\n    subscribers += 1;\n    if (!state) {\n      scope = effectScope(true);\n      state = scope.run(() => composable(...args));\n    }\n    tryOnScopeDispose(dispose);\n    return state;\n  };\n}\n\nfunction extendRef(ref, extend, { enumerable = false, unwrap = true } = {}) {\n  __onlyVue3();\n  for (const [key, value] of Object.entries(extend)) {\n    if (key === \"value\")\n      continue;\n    if (isRef(value) && unwrap) {\n      Object.defineProperty(ref, key, {\n        get() {\n          return value.value;\n        },\n        set(v) {\n          value.value = v;\n        },\n        enumerable\n      });\n    } else {\n      Object.defineProperty(ref, key, { value, enumerable });\n    }\n  }\n  return ref;\n}\n\nfunction get(obj, key) {\n  if (key == null)\n    return unref(obj);\n  return unref(obj)[key];\n}\n\nfunction isDefined(v) {\n  return unref(v) != null;\n}\n\nvar __defProp$8 = Object.defineProperty;\nvar __getOwnPropSymbols$a = Object.getOwnPropertySymbols;\nvar __hasOwnProp$a = Object.prototype.hasOwnProperty;\nvar __propIsEnum$a = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$8 = (obj, key, value) => key in obj ? __defProp$8(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$8 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$a.call(b, prop))\n      __defNormalProp$8(a, prop, b[prop]);\n  if (__getOwnPropSymbols$a)\n    for (var prop of __getOwnPropSymbols$a(b)) {\n      if (__propIsEnum$a.call(b, prop))\n        __defNormalProp$8(a, prop, b[prop]);\n    }\n  return a;\n};\nfunction makeDestructurable(obj, arr) {\n  if (typeof Symbol !== \"undefined\") {\n    const clone = __spreadValues$8({}, obj);\n    Object.defineProperty(clone, Symbol.iterator, {\n      enumerable: false,\n      value() {\n        let index = 0;\n        return {\n          next: () => ({\n            value: arr[index++],\n            done: index > arr.length\n          })\n        };\n      }\n    });\n    return clone;\n  } else {\n    return Object.assign([...arr], obj);\n  }\n}\n\nfunction reactify(fn, options) {\n  const unrefFn = (options == null ? void 0 : options.computedGetter) === false ? unref : resolveUnref;\n  return function(...args) {\n    return computed(() => fn.apply(this, args.map((i) => unrefFn(i))));\n  };\n}\n\nfunction reactifyObject(obj, optionsOrKeys = {}) {\n  let keys = [];\n  let options;\n  if (Array.isArray(optionsOrKeys)) {\n    keys = optionsOrKeys;\n  } else {\n    options = optionsOrKeys;\n    const { includeOwnProperties = true } = optionsOrKeys;\n    keys.push(...Object.keys(obj));\n    if (includeOwnProperties)\n      keys.push(...Object.getOwnPropertyNames(obj));\n  }\n  return Object.fromEntries(keys.map((key) => {\n    const value = obj[key];\n    return [\n      key,\n      typeof value === \"function\" ? reactify(value.bind(obj), options) : value\n    ];\n  }));\n}\n\nfunction toReactive(objectRef) {\n  if (!isRef(objectRef))\n    return reactive(objectRef);\n  const proxy = new Proxy({}, {\n    get(_, p, receiver) {\n      return unref(Reflect.get(objectRef.value, p, receiver));\n    },\n    set(_, p, value) {\n      if (isRef(objectRef.value[p]) && !isRef(value))\n        objectRef.value[p].value = value;\n      else\n        objectRef.value[p] = value;\n      return true;\n    },\n    deleteProperty(_, p) {\n      return Reflect.deleteProperty(objectRef.value, p);\n    },\n    has(_, p) {\n      return Reflect.has(objectRef.value, p);\n    },\n    ownKeys() {\n      return Object.keys(objectRef.value);\n    },\n    getOwnPropertyDescriptor() {\n      return {\n        enumerable: true,\n        configurable: true\n      };\n    }\n  });\n  return reactive(proxy);\n}\n\nfunction reactiveComputed(fn) {\n  return toReactive(computed(fn));\n}\n\nfunction reactiveOmit(obj, ...keys) {\n  const flatKeys = keys.flat();\n  return reactiveComputed(() => Object.fromEntries(Object.entries(toRefs$1(obj)).filter((e) => !flatKeys.includes(e[0]))));\n}\n\nfunction reactivePick(obj, ...keys) {\n  const flatKeys = keys.flat();\n  return reactive(Object.fromEntries(flatKeys.map((k) => [k, toRef(obj, k)])));\n}\n\nfunction refAutoReset(defaultValue, afterMs = 1e4) {\n  return customRef((track, trigger) => {\n    let value = defaultValue;\n    let timer;\n    const resetAfter = () => setTimeout(() => {\n      value = defaultValue;\n      trigger();\n    }, resolveUnref(afterMs));\n    tryOnScopeDispose(() => {\n      clearTimeout(timer);\n    });\n    return {\n      get() {\n        track();\n        return value;\n      },\n      set(newValue) {\n        value = newValue;\n        trigger();\n        clearTimeout(timer);\n        timer = resetAfter();\n      }\n    };\n  });\n}\n\nfunction useDebounceFn(fn, ms = 200, options = {}) {\n  return createFilterWrapper(debounceFilter(ms, options), fn);\n}\n\nfunction refDebounced(value, ms = 200, options = {}) {\n  if (ms <= 0)\n    return value;\n  const debounced = ref(value.value);\n  const updater = useDebounceFn(() => {\n    debounced.value = value.value;\n  }, ms, options);\n  watch(value, () => updater());\n  return debounced;\n}\n\nfunction refDefault(source, defaultValue) {\n  return computed({\n    get() {\n      var _a;\n      return (_a = source.value) != null ? _a : defaultValue;\n    },\n    set(value) {\n      source.value = value;\n    }\n  });\n}\n\nfunction useThrottleFn(fn, ms = 200, trailing = false, leading = true) {\n  return createFilterWrapper(throttleFilter(ms, trailing, leading), fn);\n}\n\nfunction refThrottled(value, delay = 200, trailing = true, leading = true) {\n  if (delay <= 0)\n    return value;\n  const throttled = ref(value.value);\n  const updater = useThrottleFn(() => {\n    throttled.value = value.value;\n  }, delay, trailing, leading);\n  watch(value, () => updater());\n  return throttled;\n}\n\nfunction refWithControl(initial, options = {}) {\n  let source = initial;\n  let track;\n  let trigger;\n  const ref = customRef((_track, _trigger) => {\n    track = _track;\n    trigger = _trigger;\n    return {\n      get() {\n        return get();\n      },\n      set(v) {\n        set(v);\n      }\n    };\n  });\n  function get(tracking = true) {\n    if (tracking)\n      track();\n    return source;\n  }\n  function set(value, triggering = true) {\n    var _a, _b;\n    if (value === source)\n      return;\n    const old = source;\n    if (((_a = options.onBeforeChange) == null ? void 0 : _a.call(options, value, old)) === false)\n      return;\n    source = value;\n    (_b = options.onChanged) == null ? void 0 : _b.call(options, value, old);\n    if (triggering)\n      trigger();\n  }\n  const untrackedGet = () => get(false);\n  const silentSet = (v) => set(v, false);\n  const peek = () => get(false);\n  const lay = (v) => set(v, false);\n  return extendRef(ref, {\n    get,\n    set,\n    untrackedGet,\n    silentSet,\n    peek,\n    lay\n  }, { enumerable: true });\n}\nconst controlledRef = refWithControl;\n\nfunction resolveRef(r) {\n  return typeof r === \"function\" ? computed(r) : ref(r);\n}\n\nfunction set(...args) {\n  if (args.length === 2) {\n    const [ref, value] = args;\n    ref.value = value;\n  }\n  if (args.length === 3) {\n    if (isVue2) {\n      set$1(...args);\n    } else {\n      const [target, key, value] = args;\n      target[key] = value;\n    }\n  }\n}\n\nfunction syncRef(left, right, options = {}) {\n  var _a, _b;\n  const {\n    flush = \"sync\",\n    deep = false,\n    immediate = true,\n    direction = \"both\",\n    transform = {}\n  } = options;\n  let watchLeft;\n  let watchRight;\n  const transformLTR = (_a = transform.ltr) != null ? _a : (v) => v;\n  const transformRTL = (_b = transform.rtl) != null ? _b : (v) => v;\n  if (direction === \"both\" || direction === \"ltr\") {\n    watchLeft = watch(left, (newValue) => right.value = transformLTR(newValue), { flush, deep, immediate });\n  }\n  if (direction === \"both\" || direction === \"rtl\") {\n    watchRight = watch(right, (newValue) => left.value = transformRTL(newValue), { flush, deep, immediate });\n  }\n  return () => {\n    watchLeft == null ? void 0 : watchLeft();\n    watchRight == null ? void 0 : watchRight();\n  };\n}\n\nfunction syncRefs(source, targets, options = {}) {\n  const {\n    flush = \"sync\",\n    deep = false,\n    immediate = true\n  } = options;\n  if (!Array.isArray(targets))\n    targets = [targets];\n  return watch(source, (newValue) => targets.forEach((target) => target.value = newValue), { flush, deep, immediate });\n}\n\nvar __defProp$7 = Object.defineProperty;\nvar __defProps$5 = Object.defineProperties;\nvar __getOwnPropDescs$5 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$9 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$9 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$9 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$7 = (obj, key, value) => key in obj ? __defProp$7(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$7 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$9.call(b, prop))\n      __defNormalProp$7(a, prop, b[prop]);\n  if (__getOwnPropSymbols$9)\n    for (var prop of __getOwnPropSymbols$9(b)) {\n      if (__propIsEnum$9.call(b, prop))\n        __defNormalProp$7(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps$5 = (a, b) => __defProps$5(a, __getOwnPropDescs$5(b));\nfunction toRefs(objectRef) {\n  if (!isRef(objectRef))\n    return toRefs$1(objectRef);\n  const result = Array.isArray(objectRef.value) ? new Array(objectRef.value.length) : {};\n  for (const key in objectRef.value) {\n    result[key] = customRef(() => ({\n      get() {\n        return objectRef.value[key];\n      },\n      set(v) {\n        if (Array.isArray(objectRef.value)) {\n          const copy = [...objectRef.value];\n          copy[key] = v;\n          objectRef.value = copy;\n        } else {\n          const newObject = __spreadProps$5(__spreadValues$7({}, objectRef.value), { [key]: v });\n          Object.setPrototypeOf(newObject, objectRef.value);\n          objectRef.value = newObject;\n        }\n      }\n    }));\n  }\n  return result;\n}\n\nfunction tryOnBeforeMount(fn, sync = true) {\n  if (getCurrentInstance())\n    onBeforeMount(fn);\n  else if (sync)\n    fn();\n  else\n    nextTick(fn);\n}\n\nfunction tryOnBeforeUnmount(fn) {\n  if (getCurrentInstance())\n    onBeforeUnmount(fn);\n}\n\nfunction tryOnMounted(fn, sync = true) {\n  if (getCurrentInstance())\n    onMounted(fn);\n  else if (sync)\n    fn();\n  else\n    nextTick(fn);\n}\n\nfunction tryOnUnmounted(fn) {\n  if (getCurrentInstance())\n    onUnmounted(fn);\n}\n\nfunction createUntil(r, isNot = false) {\n  function toMatch(condition, { flush = \"sync\", deep = false, timeout, throwOnTimeout } = {}) {\n    let stop = null;\n    const watcher = new Promise((resolve) => {\n      stop = watch(r, (v) => {\n        if (condition(v) !== isNot) {\n          stop == null ? void 0 : stop();\n          resolve(v);\n        }\n      }, {\n        flush,\n        deep,\n        immediate: true\n      });\n    });\n    const promises = [watcher];\n    if (timeout != null) {\n      promises.push(promiseTimeout(timeout, throwOnTimeout).then(() => resolveUnref(r)).finally(() => stop == null ? void 0 : stop()));\n    }\n    return Promise.race(promises);\n  }\n  function toBe(value, options) {\n    if (!isRef(value))\n      return toMatch((v) => v === value, options);\n    const { flush = \"sync\", deep = false, timeout, throwOnTimeout } = options != null ? options : {};\n    let stop = null;\n    const watcher = new Promise((resolve) => {\n      stop = watch([r, value], ([v1, v2]) => {\n        if (isNot !== (v1 === v2)) {\n          stop == null ? void 0 : stop();\n          resolve(v1);\n        }\n      }, {\n        flush,\n        deep,\n        immediate: true\n      });\n    });\n    const promises = [watcher];\n    if (timeout != null) {\n      promises.push(promiseTimeout(timeout, throwOnTimeout).then(() => resolveUnref(r)).finally(() => {\n        stop == null ? void 0 : stop();\n        return resolveUnref(r);\n      }));\n    }\n    return Promise.race(promises);\n  }\n  function toBeTruthy(options) {\n    return toMatch((v) => Boolean(v), options);\n  }\n  function toBeNull(options) {\n    return toBe(null, options);\n  }\n  function toBeUndefined(options) {\n    return toBe(void 0, options);\n  }\n  function toBeNaN(options) {\n    return toMatch(Number.isNaN, options);\n  }\n  function toContains(value, options) {\n    return toMatch((v) => {\n      const array = Array.from(v);\n      return array.includes(value) || array.includes(resolveUnref(value));\n    }, options);\n  }\n  function changed(options) {\n    return changedTimes(1, options);\n  }\n  function changedTimes(n = 1, options) {\n    let count = -1;\n    return toMatch(() => {\n      count += 1;\n      return count >= n;\n    }, options);\n  }\n  if (Array.isArray(resolveUnref(r))) {\n    const instance = {\n      toMatch,\n      toContains,\n      changed,\n      changedTimes,\n      get not() {\n        return createUntil(r, !isNot);\n      }\n    };\n    return instance;\n  } else {\n    const instance = {\n      toMatch,\n      toBe,\n      toBeTruthy,\n      toBeNull,\n      toBeNaN,\n      toBeUndefined,\n      changed,\n      changedTimes,\n      get not() {\n        return createUntil(r, !isNot);\n      }\n    };\n    return instance;\n  }\n}\nfunction until(r) {\n  return createUntil(r);\n}\n\nfunction useArrayEvery(list, fn) {\n  return computed(() => resolveUnref(list).every((element, index, array) => fn(resolveUnref(element), index, array)));\n}\n\nfunction useArrayFilter(list, fn) {\n  return computed(() => resolveUnref(list).map((i) => resolveUnref(i)).filter(fn));\n}\n\nfunction useArrayFind(list, fn) {\n  return computed(() => resolveUnref(resolveUnref(list).find((element, index, array) => fn(resolveUnref(element), index, array))));\n}\n\nfunction useArrayFindIndex(list, fn) {\n  return computed(() => resolveUnref(list).findIndex((element, index, array) => fn(resolveUnref(element), index, array)));\n}\n\nfunction useArrayJoin(list, separator) {\n  return computed(() => resolveUnref(list).map((i) => resolveUnref(i)).join(resolveUnref(separator)));\n}\n\nfunction useArrayMap(list, fn) {\n  return computed(() => resolveUnref(list).map((i) => resolveUnref(i)).map(fn));\n}\n\nfunction useArrayReduce(list, reducer, ...args) {\n  const reduceCallback = (sum, value, index) => reducer(resolveUnref(sum), resolveUnref(value), index);\n  return computed(() => {\n    const resolved = resolveUnref(list);\n    return args.length ? resolved.reduce(reduceCallback, resolveUnref(args[0])) : resolved.reduce(reduceCallback);\n  });\n}\n\nfunction useArraySome(list, fn) {\n  return computed(() => resolveUnref(list).some((element, index, array) => fn(resolveUnref(element), index, array)));\n}\n\nfunction useCounter(initialValue = 0, options = {}) {\n  const count = ref(initialValue);\n  const {\n    max = Infinity,\n    min = -Infinity\n  } = options;\n  const inc = (delta = 1) => count.value = Math.min(max, count.value + delta);\n  const dec = (delta = 1) => count.value = Math.max(min, count.value - delta);\n  const get = () => count.value;\n  const set = (val) => count.value = val;\n  const reset = (val = initialValue) => {\n    initialValue = val;\n    return set(val);\n  };\n  return { count, inc, dec, get, set, reset };\n}\n\nconst REGEX_PARSE = /^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/;\nconst REGEX_FORMAT = /\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a{1,2}|A{1,2}|m{1,2}|s{1,2}|Z{1,2}|SSS/g;\nconst defaultMeridiem = (hours, minutes, isLowercase, hasPeriod) => {\n  let m = hours < 12 ? \"AM\" : \"PM\";\n  if (hasPeriod)\n    m = m.split(\"\").reduce((acc, curr) => acc += `${curr}.`, \"\");\n  return isLowercase ? m.toLowerCase() : m;\n};\nconst formatDate = (date, formatStr, options) => {\n  var _a;\n  const years = date.getFullYear();\n  const month = date.getMonth();\n  const days = date.getDate();\n  const hours = date.getHours();\n  const minutes = date.getMinutes();\n  const seconds = date.getSeconds();\n  const milliseconds = date.getMilliseconds();\n  const day = date.getDay();\n  const meridiem = (_a = options.customMeridiem) != null ? _a : defaultMeridiem;\n  const matches = {\n    YY: () => String(years).slice(-2),\n    YYYY: () => years,\n    M: () => month + 1,\n    MM: () => `${month + 1}`.padStart(2, \"0\"),\n    MMM: () => date.toLocaleDateString(options.locales, { month: \"short\" }),\n    MMMM: () => date.toLocaleDateString(options.locales, { month: \"long\" }),\n    D: () => String(days),\n    DD: () => `${days}`.padStart(2, \"0\"),\n    H: () => String(hours),\n    HH: () => `${hours}`.padStart(2, \"0\"),\n    h: () => `${hours % 12 || 12}`.padStart(1, \"0\"),\n    hh: () => `${hours % 12 || 12}`.padStart(2, \"0\"),\n    m: () => String(minutes),\n    mm: () => `${minutes}`.padStart(2, \"0\"),\n    s: () => String(seconds),\n    ss: () => `${seconds}`.padStart(2, \"0\"),\n    SSS: () => `${milliseconds}`.padStart(3, \"0\"),\n    d: () => day,\n    dd: () => date.toLocaleDateString(options.locales, { weekday: \"narrow\" }),\n    ddd: () => date.toLocaleDateString(options.locales, { weekday: \"short\" }),\n    dddd: () => date.toLocaleDateString(options.locales, { weekday: \"long\" }),\n    A: () => meridiem(hours, minutes),\n    AA: () => meridiem(hours, minutes, false, true),\n    a: () => meridiem(hours, minutes, true),\n    aa: () => meridiem(hours, minutes, true, true)\n  };\n  return formatStr.replace(REGEX_FORMAT, (match, $1) => $1 || matches[match]());\n};\nconst normalizeDate = (date) => {\n  if (date === null)\n    return new Date(NaN);\n  if (date === void 0)\n    return new Date();\n  if (date instanceof Date)\n    return new Date(date);\n  if (typeof date === \"string\" && !/Z$/i.test(date)) {\n    const d = date.match(REGEX_PARSE);\n    if (d) {\n      const m = d[2] - 1 || 0;\n      const ms = (d[7] || \"0\").substring(0, 3);\n      return new Date(d[1], m, d[3] || 1, d[4] || 0, d[5] || 0, d[6] || 0, ms);\n    }\n  }\n  return new Date(date);\n};\nfunction useDateFormat(date, formatStr = \"HH:mm:ss\", options = {}) {\n  return computed(() => formatDate(normalizeDate(resolveUnref(date)), resolveUnref(formatStr), options));\n}\n\nfunction useIntervalFn(cb, interval = 1e3, options = {}) {\n  const {\n    immediate = true,\n    immediateCallback = false\n  } = options;\n  let timer = null;\n  const isActive = ref(false);\n  function clean() {\n    if (timer) {\n      clearInterval(timer);\n      timer = null;\n    }\n  }\n  function pause() {\n    isActive.value = false;\n    clean();\n  }\n  function resume() {\n    if (unref(interval) <= 0)\n      return;\n    isActive.value = true;\n    if (immediateCallback)\n      cb();\n    clean();\n    timer = setInterval(cb, resolveUnref(interval));\n  }\n  if (immediate && isClient)\n    resume();\n  if (isRef(interval)) {\n    const stopWatch = watch(interval, () => {\n      if (isActive.value && isClient)\n        resume();\n    });\n    tryOnScopeDispose(stopWatch);\n  }\n  tryOnScopeDispose(pause);\n  return {\n    isActive,\n    pause,\n    resume\n  };\n}\n\nvar __defProp$6 = Object.defineProperty;\nvar __getOwnPropSymbols$8 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$8 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$8 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$6 = (obj, key, value) => key in obj ? __defProp$6(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$6 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$8.call(b, prop))\n      __defNormalProp$6(a, prop, b[prop]);\n  if (__getOwnPropSymbols$8)\n    for (var prop of __getOwnPropSymbols$8(b)) {\n      if (__propIsEnum$8.call(b, prop))\n        __defNormalProp$6(a, prop, b[prop]);\n    }\n  return a;\n};\nfunction useInterval(interval = 1e3, options = {}) {\n  const {\n    controls: exposeControls = false,\n    immediate = true,\n    callback\n  } = options;\n  const counter = ref(0);\n  const update = () => counter.value += 1;\n  const controls = useIntervalFn(callback ? () => {\n    update();\n    callback(counter.value);\n  } : update, interval, { immediate });\n  if (exposeControls) {\n    return __spreadValues$6({\n      counter\n    }, controls);\n  } else {\n    return counter;\n  }\n}\n\nfunction useLastChanged(source, options = {}) {\n  var _a;\n  const ms = ref((_a = options.initialValue) != null ? _a : null);\n  watch(source, () => ms.value = timestamp(), options);\n  return ms;\n}\n\nfunction useTimeoutFn(cb, interval, options = {}) {\n  const {\n    immediate = true\n  } = options;\n  const isPending = ref(false);\n  let timer = null;\n  function clear() {\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n  }\n  function stop() {\n    isPending.value = false;\n    clear();\n  }\n  function start(...args) {\n    clear();\n    isPending.value = true;\n    timer = setTimeout(() => {\n      isPending.value = false;\n      timer = null;\n      cb(...args);\n    }, resolveUnref(interval));\n  }\n  if (immediate) {\n    isPending.value = true;\n    if (isClient)\n      start();\n  }\n  tryOnScopeDispose(stop);\n  return {\n    isPending,\n    start,\n    stop\n  };\n}\n\nvar __defProp$5 = Object.defineProperty;\nvar __getOwnPropSymbols$7 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$7 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$7 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$5 = (obj, key, value) => key in obj ? __defProp$5(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$5 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$7.call(b, prop))\n      __defNormalProp$5(a, prop, b[prop]);\n  if (__getOwnPropSymbols$7)\n    for (var prop of __getOwnPropSymbols$7(b)) {\n      if (__propIsEnum$7.call(b, prop))\n        __defNormalProp$5(a, prop, b[prop]);\n    }\n  return a;\n};\nfunction useTimeout(interval = 1e3, options = {}) {\n  const {\n    controls: exposeControls = false,\n    callback\n  } = options;\n  const controls = useTimeoutFn(callback != null ? callback : noop, interval, options);\n  const ready = computed(() => !controls.isPending.value);\n  if (exposeControls) {\n    return __spreadValues$5({\n      ready\n    }, controls);\n  } else {\n    return ready;\n  }\n}\n\nfunction useToNumber(value, options = {}) {\n  const {\n    method = \"parseFloat\",\n    radix,\n    nanToZero\n  } = options;\n  return computed(() => {\n    let resolved = resolveUnref(value);\n    if (typeof resolved === \"string\")\n      resolved = Number[method](resolved, radix);\n    if (nanToZero && isNaN(resolved))\n      resolved = 0;\n    return resolved;\n  });\n}\n\nfunction useToString(value) {\n  return computed(() => `${resolveUnref(value)}`);\n}\n\nfunction useToggle(initialValue = false, options = {}) {\n  const {\n    truthyValue = true,\n    falsyValue = false\n  } = options;\n  const valueIsRef = isRef(initialValue);\n  const _value = ref(initialValue);\n  function toggle(value) {\n    if (arguments.length) {\n      _value.value = value;\n      return _value.value;\n    } else {\n      const truthy = resolveUnref(truthyValue);\n      _value.value = _value.value === truthy ? resolveUnref(falsyValue) : truthy;\n      return _value.value;\n    }\n  }\n  if (valueIsRef)\n    return toggle;\n  else\n    return [_value, toggle];\n}\n\nfunction watchArray(source, cb, options) {\n  let oldList = (options == null ? void 0 : options.immediate) ? [] : [\n    ...source instanceof Function ? source() : Array.isArray(source) ? source : unref(source)\n  ];\n  return watch(source, (newList, _, onCleanup) => {\n    const oldListRemains = new Array(oldList.length);\n    const added = [];\n    for (const obj of newList) {\n      let found = false;\n      for (let i = 0; i < oldList.length; i++) {\n        if (!oldListRemains[i] && obj === oldList[i]) {\n          oldListRemains[i] = true;\n          found = true;\n          break;\n        }\n      }\n      if (!found)\n        added.push(obj);\n    }\n    const removed = oldList.filter((_2, i) => !oldListRemains[i]);\n    cb(newList, oldList, added, removed, onCleanup);\n    oldList = [...newList];\n  }, options);\n}\n\nvar __getOwnPropSymbols$6 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$6 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$6 = Object.prototype.propertyIsEnumerable;\nvar __objRest$5 = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp$6.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols$6)\n    for (var prop of __getOwnPropSymbols$6(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum$6.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nfunction watchWithFilter(source, cb, options = {}) {\n  const _a = options, {\n    eventFilter = bypassFilter\n  } = _a, watchOptions = __objRest$5(_a, [\n    \"eventFilter\"\n  ]);\n  return watch(source, createFilterWrapper(eventFilter, cb), watchOptions);\n}\n\nvar __getOwnPropSymbols$5 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$5 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$5 = Object.prototype.propertyIsEnumerable;\nvar __objRest$4 = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp$5.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols$5)\n    for (var prop of __getOwnPropSymbols$5(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum$5.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nfunction watchAtMost(source, cb, options) {\n  const _a = options, {\n    count\n  } = _a, watchOptions = __objRest$4(_a, [\n    \"count\"\n  ]);\n  const current = ref(0);\n  const stop = watchWithFilter(source, (...args) => {\n    current.value += 1;\n    if (current.value >= resolveUnref(count))\n      nextTick(() => stop());\n    cb(...args);\n  }, watchOptions);\n  return { count: current, stop };\n}\n\nvar __defProp$4 = Object.defineProperty;\nvar __defProps$4 = Object.defineProperties;\nvar __getOwnPropDescs$4 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$4 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$4 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$4 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$4 = (obj, key, value) => key in obj ? __defProp$4(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$4 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$4.call(b, prop))\n      __defNormalProp$4(a, prop, b[prop]);\n  if (__getOwnPropSymbols$4)\n    for (var prop of __getOwnPropSymbols$4(b)) {\n      if (__propIsEnum$4.call(b, prop))\n        __defNormalProp$4(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps$4 = (a, b) => __defProps$4(a, __getOwnPropDescs$4(b));\nvar __objRest$3 = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp$4.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols$4)\n    for (var prop of __getOwnPropSymbols$4(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum$4.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nfunction watchDebounced(source, cb, options = {}) {\n  const _a = options, {\n    debounce = 0,\n    maxWait = void 0\n  } = _a, watchOptions = __objRest$3(_a, [\n    \"debounce\",\n    \"maxWait\"\n  ]);\n  return watchWithFilter(source, cb, __spreadProps$4(__spreadValues$4({}, watchOptions), {\n    eventFilter: debounceFilter(debounce, { maxWait })\n  }));\n}\n\nvar __defProp$3 = Object.defineProperty;\nvar __defProps$3 = Object.defineProperties;\nvar __getOwnPropDescs$3 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$3 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$3 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$3 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$3 = (obj, key, value) => key in obj ? __defProp$3(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$3 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$3.call(b, prop))\n      __defNormalProp$3(a, prop, b[prop]);\n  if (__getOwnPropSymbols$3)\n    for (var prop of __getOwnPropSymbols$3(b)) {\n      if (__propIsEnum$3.call(b, prop))\n        __defNormalProp$3(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps$3 = (a, b) => __defProps$3(a, __getOwnPropDescs$3(b));\nvar __objRest$2 = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp$3.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols$3)\n    for (var prop of __getOwnPropSymbols$3(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum$3.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nfunction watchIgnorable(source, cb, options = {}) {\n  const _a = options, {\n    eventFilter = bypassFilter\n  } = _a, watchOptions = __objRest$2(_a, [\n    \"eventFilter\"\n  ]);\n  const filteredCb = createFilterWrapper(eventFilter, cb);\n  let ignoreUpdates;\n  let ignorePrevAsyncUpdates;\n  let stop;\n  if (watchOptions.flush === \"sync\") {\n    const ignore = ref(false);\n    ignorePrevAsyncUpdates = () => {\n    };\n    ignoreUpdates = (updater) => {\n      ignore.value = true;\n      updater();\n      ignore.value = false;\n    };\n    stop = watch(source, (...args) => {\n      if (!ignore.value)\n        filteredCb(...args);\n    }, watchOptions);\n  } else {\n    const disposables = [];\n    const ignoreCounter = ref(0);\n    const syncCounter = ref(0);\n    ignorePrevAsyncUpdates = () => {\n      ignoreCounter.value = syncCounter.value;\n    };\n    disposables.push(watch(source, () => {\n      syncCounter.value++;\n    }, __spreadProps$3(__spreadValues$3({}, watchOptions), { flush: \"sync\" })));\n    ignoreUpdates = (updater) => {\n      const syncCounterPrev = syncCounter.value;\n      updater();\n      ignoreCounter.value += syncCounter.value - syncCounterPrev;\n    };\n    disposables.push(watch(source, (...args) => {\n      const ignore = ignoreCounter.value > 0 && ignoreCounter.value === syncCounter.value;\n      ignoreCounter.value = 0;\n      syncCounter.value = 0;\n      if (ignore)\n        return;\n      filteredCb(...args);\n    }, watchOptions));\n    stop = () => {\n      disposables.forEach((fn) => fn());\n    };\n  }\n  return { stop, ignoreUpdates, ignorePrevAsyncUpdates };\n}\n\nfunction watchOnce(source, cb, options) {\n  const stop = watch(source, (...args) => {\n    nextTick(() => stop());\n    return cb(...args);\n  }, options);\n}\n\nvar __defProp$2 = Object.defineProperty;\nvar __defProps$2 = Object.defineProperties;\nvar __getOwnPropDescs$2 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$2 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$2 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$2 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$2 = (obj, key, value) => key in obj ? __defProp$2(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$2 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$2.call(b, prop))\n      __defNormalProp$2(a, prop, b[prop]);\n  if (__getOwnPropSymbols$2)\n    for (var prop of __getOwnPropSymbols$2(b)) {\n      if (__propIsEnum$2.call(b, prop))\n        __defNormalProp$2(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps$2 = (a, b) => __defProps$2(a, __getOwnPropDescs$2(b));\nvar __objRest$1 = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp$2.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols$2)\n    for (var prop of __getOwnPropSymbols$2(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum$2.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nfunction watchPausable(source, cb, options = {}) {\n  const _a = options, {\n    eventFilter: filter\n  } = _a, watchOptions = __objRest$1(_a, [\n    \"eventFilter\"\n  ]);\n  const { eventFilter, pause, resume, isActive } = pausableFilter(filter);\n  const stop = watchWithFilter(source, cb, __spreadProps$2(__spreadValues$2({}, watchOptions), {\n    eventFilter\n  }));\n  return { stop, pause, resume, isActive };\n}\n\nvar __defProp$1 = Object.defineProperty;\nvar __defProps$1 = Object.defineProperties;\nvar __getOwnPropDescs$1 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$1 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$1 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$1 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$1 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$1.call(b, prop))\n      __defNormalProp$1(a, prop, b[prop]);\n  if (__getOwnPropSymbols$1)\n    for (var prop of __getOwnPropSymbols$1(b)) {\n      if (__propIsEnum$1.call(b, prop))\n        __defNormalProp$1(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps$1 = (a, b) => __defProps$1(a, __getOwnPropDescs$1(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp$1.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols$1)\n    for (var prop of __getOwnPropSymbols$1(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum$1.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nfunction watchThrottled(source, cb, options = {}) {\n  const _a = options, {\n    throttle = 0,\n    trailing = true,\n    leading = true\n  } = _a, watchOptions = __objRest(_a, [\n    \"throttle\",\n    \"trailing\",\n    \"leading\"\n  ]);\n  return watchWithFilter(source, cb, __spreadProps$1(__spreadValues$1({}, watchOptions), {\n    eventFilter: throttleFilter(throttle, trailing, leading)\n  }));\n}\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nfunction watchTriggerable(source, cb, options = {}) {\n  let cleanupFn;\n  function onEffect() {\n    if (!cleanupFn)\n      return;\n    const fn = cleanupFn;\n    cleanupFn = void 0;\n    fn();\n  }\n  function onCleanup(callback) {\n    cleanupFn = callback;\n  }\n  const _cb = (value, oldValue) => {\n    onEffect();\n    return cb(value, oldValue, onCleanup);\n  };\n  const res = watchIgnorable(source, _cb, options);\n  const { ignoreUpdates } = res;\n  const trigger = () => {\n    let res2;\n    ignoreUpdates(() => {\n      res2 = _cb(getWatchSources(source), getOldValue(source));\n    });\n    return res2;\n  };\n  return __spreadProps(__spreadValues({}, res), {\n    trigger\n  });\n}\nfunction getWatchSources(sources) {\n  if (isReactive(sources))\n    return sources;\n  if (Array.isArray(sources))\n    return sources.map((item) => getOneWatchSource(item));\n  return getOneWatchSource(sources);\n}\nfunction getOneWatchSource(source) {\n  return typeof source === \"function\" ? source() : unref(source);\n}\nfunction getOldValue(source) {\n  return Array.isArray(source) ? source.map(() => void 0) : void 0;\n}\n\nfunction whenever(source, cb, options) {\n  return watch(source, (v, ov, onInvalidate) => {\n    if (v)\n      cb(v, ov, onInvalidate);\n  }, options);\n}\n\nexport { __onlyVue3, assert, refAutoReset as autoResetRef, bypassFilter, clamp, computedEager, computedWithControl, containsProp, computedWithControl as controlledComputed, controlledRef, createEventHook, createFilterWrapper, createGlobalState, createInjectionState, reactify as createReactiveFn, createSharedComposable, createSingletonPromise, debounceFilter, refDebounced as debouncedRef, watchDebounced as debouncedWatch, directiveHooks, computedEager as eagerComputed, extendRef, formatDate, get, hasOwn, identity, watchIgnorable as ignorableWatch, increaseWithUnit, invoke, isBoolean, isClient, isDef, isDefined, isFunction, isIOS, isNumber, isObject, isString, isWindow, makeDestructurable, noop, normalizeDate, now, objectPick, pausableFilter, watchPausable as pausableWatch, promiseTimeout, rand, reactify, reactifyObject, reactiveComputed, reactiveOmit, reactivePick, refAutoReset, refDebounced, refDefault, refThrottled, refWithControl, resolveRef, resolveUnref, set, syncRef, syncRefs, throttleFilter, refThrottled as throttledRef, watchThrottled as throttledWatch, timestamp, toReactive, toRefs, tryOnBeforeMount, tryOnBeforeUnmount, tryOnMounted, tryOnScopeDispose, tryOnUnmounted, until, useArrayEvery, useArrayFilter, useArrayFind, useArrayFindIndex, useArrayJoin, useArrayMap, useArrayReduce, useArraySome, useCounter, useDateFormat, refDebounced as useDebounce, useDebounceFn, useInterval, useIntervalFn, useLastChanged, refThrottled as useThrottle, useThrottleFn, useTimeout, useTimeoutFn, useToNumber, useToString, useToggle, watchArray, watchAtMost, watchDebounced, watchIgnorable, watchOnce, watchPausable, watchThrottled, watchTriggerable, watchWithFilter, whenever };\n","import { noop, resolveUnref, isClient, isString, tryOnScopeDispose, tryOnMounted, computedWithControl, promiseTimeout, isFunction, resolveRef, increaseWithUnit, useTimeoutFn, pausableWatch, createEventHook, timestamp, pausableFilter, watchIgnorable, debounceFilter, createFilterWrapper, bypassFilter, createSingletonPromise, toRefs, containsProp, until, hasOwn, isDef, throttleFilter, useDebounceFn, useThrottleFn, isObject, isNumber, useIntervalFn, clamp, syncRef, objectPick, tryOnUnmounted, isIOS, watchWithFilter, identity } from '@vueuse/shared';\nexport * from '@vueuse/shared';\nimport { isRef, ref, watchEffect, computed, inject, unref, watch, getCurrentInstance, customRef, onUpdated, reactive, shallowRef, onMounted, markRaw, getCurrentScope, readonly, nextTick, isVue2, set, del, onBeforeUpdate } from 'vue-demi';\n\nfunction computedAsync(evaluationCallback, initialState, optionsOrRef) {\n  let options;\n  if (isRef(optionsOrRef)) {\n    options = {\n      evaluating: optionsOrRef\n    };\n  } else {\n    options = optionsOrRef || {};\n  }\n  const {\n    lazy = false,\n    evaluating = void 0,\n    onError = noop\n  } = options;\n  const started = ref(!lazy);\n  const current = ref(initialState);\n  let counter = 0;\n  watchEffect(async (onInvalidate) => {\n    if (!started.value)\n      return;\n    counter++;\n    const counterAtBeginning = counter;\n    let hasFinished = false;\n    if (evaluating) {\n      Promise.resolve().then(() => {\n        evaluating.value = true;\n      });\n    }\n    try {\n      const result = await evaluationCallback((cancelCallback) => {\n        onInvalidate(() => {\n          if (evaluating)\n            evaluating.value = false;\n          if (!hasFinished)\n            cancelCallback();\n        });\n      });\n      if (counterAtBeginning === counter)\n        current.value = result;\n    } catch (e) {\n      onError(e);\n    } finally {\n      if (evaluating && counterAtBeginning === counter)\n        evaluating.value = false;\n      hasFinished = true;\n    }\n  });\n  if (lazy) {\n    return computed(() => {\n      started.value = true;\n      return current.value;\n    });\n  } else {\n    return current;\n  }\n}\n\nfunction computedInject(key, options, defaultSource, treatDefaultAsFactory) {\n  let source = inject(key);\n  if (defaultSource)\n    source = inject(key, defaultSource);\n  if (treatDefaultAsFactory)\n    source = inject(key, defaultSource, treatDefaultAsFactory);\n  if (typeof options === \"function\") {\n    return computed((ctx) => options(source, ctx));\n  } else {\n    return computed({\n      get: (ctx) => options.get(source, ctx),\n      set: options.set\n    });\n  }\n}\n\nconst createUnrefFn = (fn) => {\n  return function(...args) {\n    return fn.apply(this, args.map((i) => unref(i)));\n  };\n};\n\nfunction unrefElement(elRef) {\n  var _a;\n  const plain = resolveUnref(elRef);\n  return (_a = plain == null ? void 0 : plain.$el) != null ? _a : plain;\n}\n\nconst defaultWindow = isClient ? window : void 0;\nconst defaultDocument = isClient ? window.document : void 0;\nconst defaultNavigator = isClient ? window.navigator : void 0;\nconst defaultLocation = isClient ? window.location : void 0;\n\nfunction useEventListener(...args) {\n  let target;\n  let event;\n  let listener;\n  let options;\n  if (isString(args[0])) {\n    [event, listener, options] = args;\n    target = defaultWindow;\n  } else {\n    [target, event, listener, options] = args;\n  }\n  if (!target)\n    return noop;\n  let cleanup = noop;\n  const stopWatch = watch(() => unrefElement(target), (el) => {\n    cleanup();\n    if (!el)\n      return;\n    el.addEventListener(event, listener, options);\n    cleanup = () => {\n      el.removeEventListener(event, listener, options);\n      cleanup = noop;\n    };\n  }, { immediate: true, flush: \"post\" });\n  const stop = () => {\n    stopWatch();\n    cleanup();\n  };\n  tryOnScopeDispose(stop);\n  return stop;\n}\n\nfunction onClickOutside(target, handler, options = {}) {\n  const { window = defaultWindow, ignore, capture = true, detectIframe = false } = options;\n  if (!window)\n    return;\n  const shouldListen = ref(true);\n  let fallback;\n  const listener = (event) => {\n    window.clearTimeout(fallback);\n    const el = unrefElement(target);\n    if (!el || el === event.target || event.composedPath().includes(el) || !shouldListen.value)\n      return;\n    handler(event);\n  };\n  const shouldIgnore = (event) => {\n    return ignore && ignore.some((target2) => {\n      const el = unrefElement(target2);\n      return el && (event.target === el || event.composedPath().includes(el));\n    });\n  };\n  const cleanup = [\n    useEventListener(window, \"click\", listener, { passive: true, capture }),\n    useEventListener(window, \"pointerdown\", (e) => {\n      const el = unrefElement(target);\n      shouldListen.value = !!el && !e.composedPath().includes(el) && !shouldIgnore(e);\n    }, { passive: true }),\n    useEventListener(window, \"pointerup\", (e) => {\n      if (e.button === 0) {\n        const path = e.composedPath();\n        e.composedPath = () => path;\n        fallback = window.setTimeout(() => listener(e), 50);\n      }\n    }, { passive: true }),\n    detectIframe && useEventListener(window, \"blur\", (event) => {\n      var _a;\n      const el = unrefElement(target);\n      if (((_a = document.activeElement) == null ? void 0 : _a.tagName) === \"IFRAME\" && !(el == null ? void 0 : el.contains(document.activeElement)))\n        handler(event);\n    })\n  ].filter(Boolean);\n  const stop = () => cleanup.forEach((fn) => fn());\n  return stop;\n}\n\nvar __defProp$m = Object.defineProperty;\nvar __defProps$9 = Object.defineProperties;\nvar __getOwnPropDescs$9 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$o = Object.getOwnPropertySymbols;\nvar __hasOwnProp$o = Object.prototype.hasOwnProperty;\nvar __propIsEnum$o = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$m = (obj, key, value) => key in obj ? __defProp$m(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$m = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$o.call(b, prop))\n      __defNormalProp$m(a, prop, b[prop]);\n  if (__getOwnPropSymbols$o)\n    for (var prop of __getOwnPropSymbols$o(b)) {\n      if (__propIsEnum$o.call(b, prop))\n        __defNormalProp$m(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps$9 = (a, b) => __defProps$9(a, __getOwnPropDescs$9(b));\nconst createKeyPredicate = (keyFilter) => {\n  if (typeof keyFilter === \"function\")\n    return keyFilter;\n  else if (typeof keyFilter === \"string\")\n    return (event) => event.key === keyFilter;\n  else if (Array.isArray(keyFilter))\n    return (event) => keyFilter.includes(event.key);\n  return () => true;\n};\nfunction onKeyStroke(...args) {\n  let key;\n  let handler;\n  let options = {};\n  if (args.length === 3) {\n    key = args[0];\n    handler = args[1];\n    options = args[2];\n  } else if (args.length === 2) {\n    if (typeof args[1] === \"object\") {\n      key = true;\n      handler = args[0];\n      options = args[1];\n    } else {\n      key = args[0];\n      handler = args[1];\n    }\n  } else {\n    key = true;\n    handler = args[0];\n  }\n  const { target = defaultWindow, eventName = \"keydown\", passive = false } = options;\n  const predicate = createKeyPredicate(key);\n  const listener = (e) => {\n    if (predicate(e))\n      handler(e);\n  };\n  return useEventListener(target, eventName, listener, passive);\n}\nfunction onKeyDown(key, handler, options = {}) {\n  return onKeyStroke(key, handler, __spreadProps$9(__spreadValues$m({}, options), { eventName: \"keydown\" }));\n}\nfunction onKeyPressed(key, handler, options = {}) {\n  return onKeyStroke(key, handler, __spreadProps$9(__spreadValues$m({}, options), { eventName: \"keypress\" }));\n}\nfunction onKeyUp(key, handler, options = {}) {\n  return onKeyStroke(key, handler, __spreadProps$9(__spreadValues$m({}, options), { eventName: \"keyup\" }));\n}\n\nconst DEFAULT_DELAY = 500;\nfunction onLongPress(target, handler, options) {\n  var _a, _b;\n  const elementRef = computed(() => unrefElement(target));\n  let timeout;\n  function clear() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = void 0;\n    }\n  }\n  function onDown(ev) {\n    var _a2, _b2, _c, _d;\n    if (((_a2 = options == null ? void 0 : options.modifiers) == null ? void 0 : _a2.self) && ev.target !== elementRef.value)\n      return;\n    clear();\n    if ((_b2 = options == null ? void 0 : options.modifiers) == null ? void 0 : _b2.prevent)\n      ev.preventDefault();\n    if ((_c = options == null ? void 0 : options.modifiers) == null ? void 0 : _c.stop)\n      ev.stopPropagation();\n    timeout = setTimeout(() => handler(ev), (_d = options == null ? void 0 : options.delay) != null ? _d : DEFAULT_DELAY);\n  }\n  const listenerOptions = {\n    capture: (_a = options == null ? void 0 : options.modifiers) == null ? void 0 : _a.capture,\n    once: (_b = options == null ? void 0 : options.modifiers) == null ? void 0 : _b.once\n  };\n  useEventListener(elementRef, \"pointerdown\", onDown, listenerOptions);\n  useEventListener(elementRef, \"pointerup\", clear, listenerOptions);\n  useEventListener(elementRef, \"pointerleave\", clear, listenerOptions);\n}\n\nconst isFocusedElementEditable = () => {\n  const { activeElement, body } = document;\n  if (!activeElement)\n    return false;\n  if (activeElement === body)\n    return false;\n  switch (activeElement.tagName) {\n    case \"INPUT\":\n    case \"TEXTAREA\":\n      return true;\n  }\n  return activeElement.hasAttribute(\"contenteditable\");\n};\nconst isTypedCharValid = ({\n  keyCode,\n  metaKey,\n  ctrlKey,\n  altKey\n}) => {\n  if (metaKey || ctrlKey || altKey)\n    return false;\n  if (keyCode >= 48 && keyCode <= 57 || keyCode >= 96 && keyCode <= 105)\n    return true;\n  if (keyCode >= 65 && keyCode <= 90)\n    return true;\n  return false;\n};\nfunction onStartTyping(callback, options = {}) {\n  const { document: document2 = defaultDocument } = options;\n  const keydown = (event) => {\n    !isFocusedElementEditable() && isTypedCharValid(event) && callback(event);\n  };\n  if (document2)\n    useEventListener(document2, \"keydown\", keydown, { passive: true });\n}\n\nfunction templateRef(key, initialValue = null) {\n  const instance = getCurrentInstance();\n  let _trigger = () => {\n  };\n  const element = customRef((track, trigger) => {\n    _trigger = trigger;\n    return {\n      get() {\n        var _a, _b;\n        track();\n        return (_b = (_a = instance == null ? void 0 : instance.proxy) == null ? void 0 : _a.$refs[key]) != null ? _b : initialValue;\n      },\n      set() {\n      }\n    };\n  });\n  tryOnMounted(_trigger);\n  onUpdated(_trigger);\n  return element;\n}\n\nfunction useActiveElement(options = {}) {\n  const { window = defaultWindow } = options;\n  const activeElement = computedWithControl(() => null, () => window == null ? void 0 : window.document.activeElement);\n  if (window) {\n    useEventListener(window, \"blur\", activeElement.trigger, true);\n    useEventListener(window, \"focus\", activeElement.trigger, true);\n  }\n  return activeElement;\n}\n\nfunction useAsyncQueue(tasks, options = {}) {\n  const {\n    interrupt = true,\n    onError = noop,\n    onFinished = noop\n  } = options;\n  const promiseState = {\n    pending: \"pending\",\n    rejected: \"rejected\",\n    fulfilled: \"fulfilled\"\n  };\n  const initialResult = Array.from(new Array(tasks.length), () => ({ state: promiseState.pending, data: null }));\n  const result = reactive(initialResult);\n  const activeIndex = ref(-1);\n  if (!tasks || tasks.length === 0) {\n    onFinished();\n    return {\n      activeIndex,\n      result\n    };\n  }\n  function updateResult(state, res) {\n    activeIndex.value++;\n    result[activeIndex.value].data = res;\n    result[activeIndex.value].state = state;\n  }\n  tasks.reduce((prev, curr) => {\n    return prev.then((prevRes) => {\n      var _a;\n      if (((_a = result[activeIndex.value]) == null ? void 0 : _a.state) === promiseState.rejected && interrupt) {\n        onFinished();\n        return;\n      }\n      return curr(prevRes).then((currentRes) => {\n        updateResult(promiseState.fulfilled, currentRes);\n        activeIndex.value === tasks.length - 1 && onFinished();\n        return currentRes;\n      });\n    }).catch((e) => {\n      updateResult(promiseState.rejected, e);\n      onError();\n      return e;\n    });\n  }, Promise.resolve());\n  return {\n    activeIndex,\n    result\n  };\n}\n\nfunction useAsyncState(promise, initialState, options) {\n  const {\n    immediate = true,\n    delay = 0,\n    onError = noop,\n    resetOnExecute = true,\n    shallow = true,\n    throwError\n  } = options != null ? options : {};\n  const state = shallow ? shallowRef(initialState) : ref(initialState);\n  const isReady = ref(false);\n  const isLoading = ref(false);\n  const error = ref(void 0);\n  async function execute(delay2 = 0, ...args) {\n    if (resetOnExecute)\n      state.value = initialState;\n    error.value = void 0;\n    isReady.value = false;\n    isLoading.value = true;\n    if (delay2 > 0)\n      await promiseTimeout(delay2);\n    const _promise = typeof promise === \"function\" ? promise(...args) : promise;\n    try {\n      const data = await _promise;\n      state.value = data;\n      isReady.value = true;\n    } catch (e) {\n      error.value = e;\n      onError(e);\n      if (throwError)\n        throw error;\n    } finally {\n      isLoading.value = false;\n    }\n    return state.value;\n  }\n  if (immediate)\n    execute(delay);\n  return {\n    state,\n    isReady,\n    isLoading,\n    error,\n    execute\n  };\n}\n\nconst defaults = {\n  array: (v) => JSON.stringify(v),\n  object: (v) => JSON.stringify(v),\n  set: (v) => JSON.stringify(Array.from(v)),\n  map: (v) => JSON.stringify(Object.fromEntries(v)),\n  null: () => \"\"\n};\nfunction getDefaultSerialization(target) {\n  if (!target)\n    return defaults.null;\n  if (target instanceof Map)\n    return defaults.map;\n  else if (target instanceof Set)\n    return defaults.set;\n  else if (Array.isArray(target))\n    return defaults.array;\n  else\n    return defaults.object;\n}\n\nfunction useBase64(target, options) {\n  const base64 = ref(\"\");\n  const promise = ref();\n  function execute() {\n    if (!isClient)\n      return;\n    promise.value = new Promise((resolve, reject) => {\n      try {\n        const _target = resolveUnref(target);\n        if (_target == null) {\n          resolve(\"\");\n        } else if (typeof _target === \"string\") {\n          resolve(blobToBase64(new Blob([_target], { type: \"text/plain\" })));\n        } else if (_target instanceof Blob) {\n          resolve(blobToBase64(_target));\n        } else if (_target instanceof ArrayBuffer) {\n          resolve(window.btoa(String.fromCharCode(...new Uint8Array(_target))));\n        } else if (_target instanceof HTMLCanvasElement) {\n          resolve(_target.toDataURL(options == null ? void 0 : options.type, options == null ? void 0 : options.quality));\n        } else if (_target instanceof HTMLImageElement) {\n          const img = _target.cloneNode(false);\n          img.crossOrigin = \"Anonymous\";\n          imgLoaded(img).then(() => {\n            const canvas = document.createElement(\"canvas\");\n            const ctx = canvas.getContext(\"2d\");\n            canvas.width = img.width;\n            canvas.height = img.height;\n            ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n            resolve(canvas.toDataURL(options == null ? void 0 : options.type, options == null ? void 0 : options.quality));\n          }).catch(reject);\n        } else if (typeof _target === \"object\") {\n          const _serializeFn = (options == null ? void 0 : options.serializer) || getDefaultSerialization(_target);\n          const serialized = _serializeFn(_target);\n          return resolve(blobToBase64(new Blob([serialized], { type: \"application/json\" })));\n        } else {\n          reject(new Error(\"target is unsupported types\"));\n        }\n      } catch (error) {\n        reject(error);\n      }\n    });\n    promise.value.then((res) => base64.value = res);\n    return promise.value;\n  }\n  if (isRef(target) || isFunction(target))\n    watch(target, execute, { immediate: true });\n  else\n    execute();\n  return {\n    base64,\n    promise,\n    execute\n  };\n}\nfunction imgLoaded(img) {\n  return new Promise((resolve, reject) => {\n    if (!img.complete) {\n      img.onload = () => {\n        resolve();\n      };\n      img.onerror = reject;\n    } else {\n      resolve();\n    }\n  });\n}\nfunction blobToBase64(blob) {\n  return new Promise((resolve, reject) => {\n    const fr = new FileReader();\n    fr.onload = (e) => {\n      resolve(e.target.result);\n    };\n    fr.onerror = reject;\n    fr.readAsDataURL(blob);\n  });\n}\n\nfunction useSupported(callback, sync = false) {\n  const isSupported = ref();\n  const update = () => isSupported.value = Boolean(callback());\n  update();\n  tryOnMounted(update, sync);\n  return isSupported;\n}\n\nfunction useBattery({ navigator = defaultNavigator } = {}) {\n  const events = [\"chargingchange\", \"chargingtimechange\", \"dischargingtimechange\", \"levelchange\"];\n  const isSupported = useSupported(() => navigator && \"getBattery\" in navigator);\n  const charging = ref(false);\n  const chargingTime = ref(0);\n  const dischargingTime = ref(0);\n  const level = ref(1);\n  let battery;\n  function updateBatteryInfo() {\n    charging.value = this.charging;\n    chargingTime.value = this.chargingTime || 0;\n    dischargingTime.value = this.dischargingTime || 0;\n    level.value = this.level;\n  }\n  if (isSupported.value) {\n    navigator.getBattery().then((_battery) => {\n      battery = _battery;\n      updateBatteryInfo.call(battery);\n      for (const event of events)\n        useEventListener(battery, event, updateBatteryInfo, { passive: true });\n    });\n  }\n  return {\n    isSupported,\n    charging,\n    chargingTime,\n    dischargingTime,\n    level\n  };\n}\n\nfunction useBluetooth(options) {\n  let {\n    acceptAllDevices = false\n  } = options || {};\n  const {\n    filters = void 0,\n    optionalServices = void 0,\n    navigator = defaultNavigator\n  } = options || {};\n  const isSupported = useSupported(() => navigator && \"bluetooth\" in navigator);\n  const device = ref(void 0);\n  const error = ref(null);\n  watch(device, () => {\n    connectToBluetoothGATTServer();\n  });\n  async function requestDevice() {\n    if (!isSupported.value)\n      return;\n    error.value = null;\n    if (filters && filters.length > 0)\n      acceptAllDevices = false;\n    try {\n      device.value = await (navigator == null ? void 0 : navigator.bluetooth.requestDevice({\n        acceptAllDevices,\n        filters,\n        optionalServices\n      }));\n    } catch (err) {\n      error.value = err;\n    }\n  }\n  const server = ref();\n  const isConnected = computed(() => {\n    var _a;\n    return ((_a = server.value) == null ? void 0 : _a.connected) || false;\n  });\n  async function connectToBluetoothGATTServer() {\n    error.value = null;\n    if (device.value && device.value.gatt) {\n      device.value.addEventListener(\"gattserverdisconnected\", () => {\n      });\n      try {\n        server.value = await device.value.gatt.connect();\n      } catch (err) {\n        error.value = err;\n      }\n    }\n  }\n  tryOnMounted(() => {\n    var _a;\n    if (device.value)\n      (_a = device.value.gatt) == null ? void 0 : _a.connect();\n  });\n  tryOnScopeDispose(() => {\n    var _a;\n    if (device.value)\n      (_a = device.value.gatt) == null ? void 0 : _a.disconnect();\n  });\n  return {\n    isSupported,\n    isConnected,\n    device,\n    requestDevice,\n    server,\n    error\n  };\n}\n\nfunction useMediaQuery(query, options = {}) {\n  const { window = defaultWindow } = options;\n  const isSupported = useSupported(() => window && \"matchMedia\" in window && typeof window.matchMedia === \"function\");\n  let mediaQuery;\n  const matches = ref(false);\n  const cleanup = () => {\n    if (!mediaQuery)\n      return;\n    if (\"removeEventListener\" in mediaQuery)\n      mediaQuery.removeEventListener(\"change\", update);\n    else\n      mediaQuery.removeListener(update);\n  };\n  const update = () => {\n    if (!isSupported.value)\n      return;\n    cleanup();\n    mediaQuery = window.matchMedia(resolveRef(query).value);\n    matches.value = mediaQuery.matches;\n    if (\"addEventListener\" in mediaQuery)\n      mediaQuery.addEventListener(\"change\", update);\n    else\n      mediaQuery.addListener(update);\n  };\n  watchEffect(update);\n  tryOnScopeDispose(() => cleanup());\n  return matches;\n}\n\nconst breakpointsTailwind = {\n  \"sm\": 640,\n  \"md\": 768,\n  \"lg\": 1024,\n  \"xl\": 1280,\n  \"2xl\": 1536\n};\nconst breakpointsBootstrapV5 = {\n  sm: 576,\n  md: 768,\n  lg: 992,\n  xl: 1200,\n  xxl: 1400\n};\nconst breakpointsVuetify = {\n  xs: 600,\n  sm: 960,\n  md: 1264,\n  lg: 1904\n};\nconst breakpointsAntDesign = {\n  xs: 480,\n  sm: 576,\n  md: 768,\n  lg: 992,\n  xl: 1200,\n  xxl: 1600\n};\nconst breakpointsQuasar = {\n  xs: 600,\n  sm: 1024,\n  md: 1440,\n  lg: 1920\n};\nconst breakpointsSematic = {\n  mobileS: 320,\n  mobileM: 375,\n  mobileL: 425,\n  tablet: 768,\n  laptop: 1024,\n  laptopL: 1440,\n  desktop4K: 2560\n};\n\nvar __defProp$l = Object.defineProperty;\nvar __getOwnPropSymbols$n = Object.getOwnPropertySymbols;\nvar __hasOwnProp$n = Object.prototype.hasOwnProperty;\nvar __propIsEnum$n = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$l = (obj, key, value) => key in obj ? __defProp$l(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$l = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$n.call(b, prop))\n      __defNormalProp$l(a, prop, b[prop]);\n  if (__getOwnPropSymbols$n)\n    for (var prop of __getOwnPropSymbols$n(b)) {\n      if (__propIsEnum$n.call(b, prop))\n        __defNormalProp$l(a, prop, b[prop]);\n    }\n  return a;\n};\nfunction useBreakpoints(breakpoints, options = {}) {\n  function getValue(k, delta) {\n    let v = breakpoints[k];\n    if (delta != null)\n      v = increaseWithUnit(v, delta);\n    if (typeof v === \"number\")\n      v = `${v}px`;\n    return v;\n  }\n  const { window = defaultWindow } = options;\n  function match(query) {\n    if (!window)\n      return false;\n    return window.matchMedia(query).matches;\n  }\n  const greaterOrEqual = (k) => {\n    return useMediaQuery(`(min-width: ${getValue(k)})`, options);\n  };\n  const shortcutMethods = Object.keys(breakpoints).reduce((shortcuts, k) => {\n    Object.defineProperty(shortcuts, k, {\n      get: () => greaterOrEqual(k),\n      enumerable: true,\n      configurable: true\n    });\n    return shortcuts;\n  }, {});\n  return __spreadValues$l({\n    greater(k) {\n      return useMediaQuery(`(min-width: ${getValue(k, 0.1)})`, options);\n    },\n    greaterOrEqual,\n    smaller(k) {\n      return useMediaQuery(`(max-width: ${getValue(k, -0.1)})`, options);\n    },\n    smallerOrEqual(k) {\n      return useMediaQuery(`(max-width: ${getValue(k)})`, options);\n    },\n    between(a, b) {\n      return useMediaQuery(`(min-width: ${getValue(a)}) and (max-width: ${getValue(b, -0.1)})`, options);\n    },\n    isGreater(k) {\n      return match(`(min-width: ${getValue(k, 0.1)})`);\n    },\n    isGreaterOrEqual(k) {\n      return match(`(min-width: ${getValue(k)})`);\n    },\n    isSmaller(k) {\n      return match(`(max-width: ${getValue(k, -0.1)})`);\n    },\n    isSmallerOrEqual(k) {\n      return match(`(max-width: ${getValue(k)})`);\n    },\n    isInBetween(a, b) {\n      return match(`(min-width: ${getValue(a)}) and (max-width: ${getValue(b, -0.1)})`);\n    }\n  }, shortcutMethods);\n}\n\nconst useBroadcastChannel = (options) => {\n  const {\n    name,\n    window = defaultWindow\n  } = options;\n  const isSupported = useSupported(() => window && \"BroadcastChannel\" in window);\n  const isClosed = ref(false);\n  const channel = ref();\n  const data = ref();\n  const error = ref(null);\n  const post = (data2) => {\n    if (channel.value)\n      channel.value.postMessage(data2);\n  };\n  const close = () => {\n    if (channel.value)\n      channel.value.close();\n    isClosed.value = true;\n  };\n  if (isSupported.value) {\n    tryOnMounted(() => {\n      error.value = null;\n      channel.value = new BroadcastChannel(name);\n      channel.value.addEventListener(\"message\", (e) => {\n        data.value = e.data;\n      }, { passive: true });\n      channel.value.addEventListener(\"messageerror\", (e) => {\n        error.value = e;\n      }, { passive: true });\n      channel.value.addEventListener(\"close\", () => {\n        isClosed.value = true;\n      });\n    });\n  }\n  tryOnScopeDispose(() => {\n    close();\n  });\n  return {\n    isSupported,\n    channel,\n    data,\n    post,\n    close,\n    error,\n    isClosed\n  };\n};\n\nfunction useBrowserLocation({ window = defaultWindow } = {}) {\n  const buildState = (trigger) => {\n    const { state: state2, length } = (window == null ? void 0 : window.history) || {};\n    const { hash, host, hostname, href, origin, pathname, port, protocol, search } = (window == null ? void 0 : window.location) || {};\n    return {\n      trigger,\n      state: state2,\n      length,\n      hash,\n      host,\n      hostname,\n      href,\n      origin,\n      pathname,\n      port,\n      protocol,\n      search\n    };\n  };\n  const state = ref(buildState(\"load\"));\n  if (window) {\n    useEventListener(window, \"popstate\", () => state.value = buildState(\"popstate\"), { passive: true });\n    useEventListener(window, \"hashchange\", () => state.value = buildState(\"hashchange\"), { passive: true });\n  }\n  return state;\n}\n\nfunction useCached(refValue, comparator = (a, b) => a === b, watchOptions) {\n  const cachedValue = ref(refValue.value);\n  watch(() => refValue.value, (value) => {\n    if (!comparator(value, cachedValue.value))\n      cachedValue.value = value;\n  }, watchOptions);\n  return cachedValue;\n}\n\nfunction useClipboard(options = {}) {\n  const {\n    navigator = defaultNavigator,\n    read = false,\n    source,\n    copiedDuring = 1500\n  } = options;\n  const events = [\"copy\", \"cut\"];\n  const isSupported = useSupported(() => navigator && \"clipboard\" in navigator);\n  const text = ref(\"\");\n  const copied = ref(false);\n  const timeout = useTimeoutFn(() => copied.value = false, copiedDuring);\n  function updateText() {\n    navigator.clipboard.readText().then((value) => {\n      text.value = value;\n    });\n  }\n  if (isSupported.value && read) {\n    for (const event of events)\n      useEventListener(event, updateText);\n  }\n  async function copy(value = resolveUnref(source)) {\n    if (isSupported.value && value != null) {\n      await navigator.clipboard.writeText(value);\n      text.value = value;\n      copied.value = true;\n      timeout.start();\n    }\n  }\n  return {\n    isSupported,\n    text,\n    copied,\n    copy\n  };\n}\n\nvar __defProp$k = Object.defineProperty;\nvar __defProps$8 = Object.defineProperties;\nvar __getOwnPropDescs$8 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$m = Object.getOwnPropertySymbols;\nvar __hasOwnProp$m = Object.prototype.hasOwnProperty;\nvar __propIsEnum$m = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$k = (obj, key, value) => key in obj ? __defProp$k(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$k = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$m.call(b, prop))\n      __defNormalProp$k(a, prop, b[prop]);\n  if (__getOwnPropSymbols$m)\n    for (var prop of __getOwnPropSymbols$m(b)) {\n      if (__propIsEnum$m.call(b, prop))\n        __defNormalProp$k(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps$8 = (a, b) => __defProps$8(a, __getOwnPropDescs$8(b));\nfunction cloneFnJSON(source) {\n  return JSON.parse(JSON.stringify(source));\n}\nfunction useCloned(source, options = {}) {\n  const cloned = ref({});\n  const {\n    manual,\n    clone = cloneFnJSON,\n    deep = true,\n    immediate = true\n  } = options;\n  function sync() {\n    cloned.value = clone(unref(source));\n  }\n  if (!manual && isRef(source)) {\n    watch(source, sync, __spreadProps$8(__spreadValues$k({}, options), {\n      deep,\n      immediate\n    }));\n  } else {\n    sync();\n  }\n  return { cloned, sync };\n}\n\nconst _global = typeof globalThis !== \"undefined\" ? globalThis : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : {};\nconst globalKey = \"__vueuse_ssr_handlers__\";\n_global[globalKey] = _global[globalKey] || {};\nconst handlers = _global[globalKey];\nfunction getSSRHandler(key, fallback) {\n  return handlers[key] || fallback;\n}\nfunction setSSRHandler(key, fn) {\n  handlers[key] = fn;\n}\n\nfunction guessSerializerType(rawInit) {\n  return rawInit == null ? \"any\" : rawInit instanceof Set ? \"set\" : rawInit instanceof Map ? \"map\" : rawInit instanceof Date ? \"date\" : typeof rawInit === \"boolean\" ? \"boolean\" : typeof rawInit === \"string\" ? \"string\" : typeof rawInit === \"object\" ? \"object\" : Array.isArray(rawInit) ? \"object\" : !Number.isNaN(rawInit) ? \"number\" : \"any\";\n}\n\nvar __defProp$j = Object.defineProperty;\nvar __getOwnPropSymbols$l = Object.getOwnPropertySymbols;\nvar __hasOwnProp$l = Object.prototype.hasOwnProperty;\nvar __propIsEnum$l = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$j = (obj, key, value) => key in obj ? __defProp$j(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$j = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$l.call(b, prop))\n      __defNormalProp$j(a, prop, b[prop]);\n  if (__getOwnPropSymbols$l)\n    for (var prop of __getOwnPropSymbols$l(b)) {\n      if (__propIsEnum$l.call(b, prop))\n        __defNormalProp$j(a, prop, b[prop]);\n    }\n  return a;\n};\nconst StorageSerializers = {\n  boolean: {\n    read: (v) => v === \"true\",\n    write: (v) => String(v)\n  },\n  object: {\n    read: (v) => JSON.parse(v),\n    write: (v) => JSON.stringify(v)\n  },\n  number: {\n    read: (v) => Number.parseFloat(v),\n    write: (v) => String(v)\n  },\n  any: {\n    read: (v) => v,\n    write: (v) => String(v)\n  },\n  string: {\n    read: (v) => v,\n    write: (v) => String(v)\n  },\n  map: {\n    read: (v) => new Map(JSON.parse(v)),\n    write: (v) => JSON.stringify(Array.from(v.entries()))\n  },\n  set: {\n    read: (v) => new Set(JSON.parse(v)),\n    write: (v) => JSON.stringify(Array.from(v))\n  },\n  date: {\n    read: (v) => new Date(v),\n    write: (v) => v.toISOString()\n  }\n};\nfunction useStorage(key, defaults, storage, options = {}) {\n  var _a;\n  const {\n    flush = \"pre\",\n    deep = true,\n    listenToStorageChanges = true,\n    writeDefaults = true,\n    mergeDefaults = false,\n    shallow,\n    window = defaultWindow,\n    eventFilter,\n    onError = (e) => {\n      console.error(e);\n    }\n  } = options;\n  const data = (shallow ? shallowRef : ref)(defaults);\n  if (!storage) {\n    try {\n      storage = getSSRHandler(\"getDefaultStorage\", () => {\n        var _a2;\n        return (_a2 = defaultWindow) == null ? void 0 : _a2.localStorage;\n      })();\n    } catch (e) {\n      onError(e);\n    }\n  }\n  if (!storage)\n    return data;\n  const rawInit = resolveUnref(defaults);\n  const type = guessSerializerType(rawInit);\n  const serializer = (_a = options.serializer) != null ? _a : StorageSerializers[type];\n  const { pause: pauseWatch, resume: resumeWatch } = pausableWatch(data, () => write(data.value), { flush, deep, eventFilter });\n  if (window && listenToStorageChanges)\n    useEventListener(window, \"storage\", update);\n  update();\n  return data;\n  function write(v) {\n    try {\n      if (v == null)\n        storage.removeItem(key);\n      else\n        storage.setItem(key, serializer.write(v));\n    } catch (e) {\n      onError(e);\n    }\n  }\n  function read(event) {\n    if (event && event.key !== key)\n      return;\n    pauseWatch();\n    try {\n      const rawValue = event ? event.newValue : storage.getItem(key);\n      if (rawValue == null) {\n        if (writeDefaults && rawInit !== null)\n          storage.setItem(key, serializer.write(rawInit));\n        return rawInit;\n      } else if (!event && mergeDefaults) {\n        const value = serializer.read(rawValue);\n        if (isFunction(mergeDefaults))\n          return mergeDefaults(value, rawInit);\n        else if (type === \"object\" && !Array.isArray(value))\n          return __spreadValues$j(__spreadValues$j({}, rawInit), value);\n        return value;\n      } else if (typeof rawValue !== \"string\") {\n        return rawValue;\n      } else {\n        return serializer.read(rawValue);\n      }\n    } catch (e) {\n      onError(e);\n    } finally {\n      resumeWatch();\n    }\n  }\n  function update(event) {\n    if (event && event.key !== key)\n      return;\n    data.value = read(event);\n  }\n}\n\nfunction usePreferredDark(options) {\n  return useMediaQuery(\"(prefers-color-scheme: dark)\", options);\n}\n\nvar __defProp$i = Object.defineProperty;\nvar __getOwnPropSymbols$k = Object.getOwnPropertySymbols;\nvar __hasOwnProp$k = Object.prototype.hasOwnProperty;\nvar __propIsEnum$k = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$i = (obj, key, value) => key in obj ? __defProp$i(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$i = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$k.call(b, prop))\n      __defNormalProp$i(a, prop, b[prop]);\n  if (__getOwnPropSymbols$k)\n    for (var prop of __getOwnPropSymbols$k(b)) {\n      if (__propIsEnum$k.call(b, prop))\n        __defNormalProp$i(a, prop, b[prop]);\n    }\n  return a;\n};\nfunction useColorMode(options = {}) {\n  const {\n    selector = \"html\",\n    attribute = \"class\",\n    initialValue = \"auto\",\n    window = defaultWindow,\n    storage,\n    storageKey = \"vueuse-color-scheme\",\n    listenToStorageChanges = true,\n    storageRef,\n    emitAuto\n  } = options;\n  const modes = __spreadValues$i({\n    auto: \"\",\n    light: \"light\",\n    dark: \"dark\"\n  }, options.modes || {});\n  const preferredDark = usePreferredDark({ window });\n  const preferredMode = computed(() => preferredDark.value ? \"dark\" : \"light\");\n  const store = storageRef || (storageKey == null ? ref(initialValue) : useStorage(storageKey, initialValue, storage, { window, listenToStorageChanges }));\n  const state = computed({\n    get() {\n      return store.value === \"auto\" && !emitAuto ? preferredMode.value : store.value;\n    },\n    set(v) {\n      store.value = v;\n    }\n  });\n  const updateHTMLAttrs = getSSRHandler(\"updateHTMLAttrs\", (selector2, attribute2, value) => {\n    const el = window == null ? void 0 : window.document.querySelector(selector2);\n    if (!el)\n      return;\n    if (attribute2 === \"class\") {\n      const current = value.split(/\\s/g);\n      Object.values(modes).flatMap((i) => (i || \"\").split(/\\s/g)).filter(Boolean).forEach((v) => {\n        if (current.includes(v))\n          el.classList.add(v);\n        else\n          el.classList.remove(v);\n      });\n    } else {\n      el.setAttribute(attribute2, value);\n    }\n  });\n  function defaultOnChanged(mode) {\n    var _a;\n    const resolvedMode = mode === \"auto\" ? preferredMode.value : mode;\n    updateHTMLAttrs(selector, attribute, (_a = modes[resolvedMode]) != null ? _a : resolvedMode);\n  }\n  function onChanged(mode) {\n    if (options.onChanged)\n      options.onChanged(mode, defaultOnChanged);\n    else\n      defaultOnChanged(mode);\n  }\n  watch(state, onChanged, { flush: \"post\", immediate: true });\n  if (emitAuto)\n    watch(preferredMode, () => onChanged(state.value), { flush: \"post\" });\n  tryOnMounted(() => onChanged(state.value));\n  return state;\n}\n\nfunction useConfirmDialog(revealed = ref(false)) {\n  const confirmHook = createEventHook();\n  const cancelHook = createEventHook();\n  const revealHook = createEventHook();\n  let _resolve = noop;\n  const reveal = (data) => {\n    revealHook.trigger(data);\n    revealed.value = true;\n    return new Promise((resolve) => {\n      _resolve = resolve;\n    });\n  };\n  const confirm = (data) => {\n    revealed.value = false;\n    confirmHook.trigger(data);\n    _resolve({ data, isCanceled: false });\n  };\n  const cancel = (data) => {\n    revealed.value = false;\n    cancelHook.trigger(data);\n    _resolve({ data, isCanceled: true });\n  };\n  return {\n    isRevealed: computed(() => revealed.value),\n    reveal,\n    confirm,\n    cancel,\n    onReveal: revealHook.on,\n    onConfirm: confirmHook.on,\n    onCancel: cancelHook.on\n  };\n}\n\nfunction useCssVar(prop, target, { window = defaultWindow, initialValue = \"\" } = {}) {\n  const variable = ref(initialValue);\n  const elRef = computed(() => {\n    var _a;\n    return unrefElement(target) || ((_a = window == null ? void 0 : window.document) == null ? void 0 : _a.documentElement);\n  });\n  watch([elRef, () => resolveUnref(prop)], ([el, prop2]) => {\n    var _a;\n    if (el && window) {\n      const value = (_a = window.getComputedStyle(el).getPropertyValue(prop2)) == null ? void 0 : _a.trim();\n      variable.value = value || initialValue;\n    }\n  }, { immediate: true });\n  watch(variable, (val) => {\n    var _a;\n    if ((_a = elRef.value) == null ? void 0 : _a.style)\n      elRef.value.style.setProperty(resolveUnref(prop), val);\n  });\n  return variable;\n}\n\nfunction useCurrentElement() {\n  const vm = getCurrentInstance();\n  const currentElement = computedWithControl(() => null, () => vm.proxy.$el);\n  onUpdated(currentElement.trigger);\n  onMounted(currentElement.trigger);\n  return currentElement;\n}\n\nfunction useCycleList(list, options) {\n  var _a;\n  const state = shallowRef((_a = options == null ? void 0 : options.initialValue) != null ? _a : list[0]);\n  const index = computed({\n    get() {\n      var _a2;\n      let index2 = (options == null ? void 0 : options.getIndexOf) ? options.getIndexOf(state.value, list) : list.indexOf(state.value);\n      if (index2 < 0)\n        index2 = (_a2 = options == null ? void 0 : options.fallbackIndex) != null ? _a2 : 0;\n      return index2;\n    },\n    set(v) {\n      set(v);\n    }\n  });\n  function set(i) {\n    const length = list.length;\n    const index2 = (i % length + length) % length;\n    const value = list[index2];\n    state.value = value;\n    return value;\n  }\n  function shift(delta = 1) {\n    return set(index.value + delta);\n  }\n  function next(n = 1) {\n    return shift(n);\n  }\n  function prev(n = 1) {\n    return shift(-n);\n  }\n  return {\n    state,\n    index,\n    next,\n    prev\n  };\n}\n\nvar __defProp$h = Object.defineProperty;\nvar __defProps$7 = Object.defineProperties;\nvar __getOwnPropDescs$7 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$j = Object.getOwnPropertySymbols;\nvar __hasOwnProp$j = Object.prototype.hasOwnProperty;\nvar __propIsEnum$j = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$h = (obj, key, value) => key in obj ? __defProp$h(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$h = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$j.call(b, prop))\n      __defNormalProp$h(a, prop, b[prop]);\n  if (__getOwnPropSymbols$j)\n    for (var prop of __getOwnPropSymbols$j(b)) {\n      if (__propIsEnum$j.call(b, prop))\n        __defNormalProp$h(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps$7 = (a, b) => __defProps$7(a, __getOwnPropDescs$7(b));\nfunction useDark(options = {}) {\n  const {\n    valueDark = \"dark\",\n    valueLight = \"\",\n    window = defaultWindow\n  } = options;\n  const mode = useColorMode(__spreadProps$7(__spreadValues$h({}, options), {\n    onChanged: (mode2, defaultHandler) => {\n      var _a;\n      if (options.onChanged)\n        (_a = options.onChanged) == null ? void 0 : _a.call(options, mode2 === \"dark\");\n      else\n        defaultHandler(mode2);\n    },\n    modes: {\n      dark: valueDark,\n      light: valueLight\n    }\n  }));\n  const preferredDark = usePreferredDark({ window });\n  const isDark = computed({\n    get() {\n      return mode.value === \"dark\";\n    },\n    set(v) {\n      if (v === preferredDark.value)\n        mode.value = \"auto\";\n      else\n        mode.value = v ? \"dark\" : \"light\";\n    }\n  });\n  return isDark;\n}\n\nconst fnBypass = (v) => v;\nconst fnSetSource = (source, value) => source.value = value;\nfunction defaultDump(clone) {\n  return clone ? isFunction(clone) ? clone : cloneFnJSON : fnBypass;\n}\nfunction defaultParse(clone) {\n  return clone ? isFunction(clone) ? clone : cloneFnJSON : fnBypass;\n}\nfunction useManualRefHistory(source, options = {}) {\n  const {\n    clone = false,\n    dump = defaultDump(clone),\n    parse = defaultParse(clone),\n    setSource = fnSetSource\n  } = options;\n  function _createHistoryRecord() {\n    return markRaw({\n      snapshot: dump(source.value),\n      timestamp: timestamp()\n    });\n  }\n  const last = ref(_createHistoryRecord());\n  const undoStack = ref([]);\n  const redoStack = ref([]);\n  const _setSource = (record) => {\n    setSource(source, parse(record.snapshot));\n    last.value = record;\n  };\n  const commit = () => {\n    undoStack.value.unshift(last.value);\n    last.value = _createHistoryRecord();\n    if (options.capacity && undoStack.value.length > options.capacity)\n      undoStack.value.splice(options.capacity, Infinity);\n    if (redoStack.value.length)\n      redoStack.value.splice(0, redoStack.value.length);\n  };\n  const clear = () => {\n    undoStack.value.splice(0, undoStack.value.length);\n    redoStack.value.splice(0, redoStack.value.length);\n  };\n  const undo = () => {\n    const state = undoStack.value.shift();\n    if (state) {\n      redoStack.value.unshift(last.value);\n      _setSource(state);\n    }\n  };\n  const redo = () => {\n    const state = redoStack.value.shift();\n    if (state) {\n      undoStack.value.unshift(last.value);\n      _setSource(state);\n    }\n  };\n  const reset = () => {\n    _setSource(last.value);\n  };\n  const history = computed(() => [last.value, ...undoStack.value]);\n  const canUndo = computed(() => undoStack.value.length > 0);\n  const canRedo = computed(() => redoStack.value.length > 0);\n  return {\n    source,\n    undoStack,\n    redoStack,\n    last,\n    history,\n    canUndo,\n    canRedo,\n    clear,\n    commit,\n    reset,\n    undo,\n    redo\n  };\n}\n\nvar __defProp$g = Object.defineProperty;\nvar __defProps$6 = Object.defineProperties;\nvar __getOwnPropDescs$6 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$i = Object.getOwnPropertySymbols;\nvar __hasOwnProp$i = Object.prototype.hasOwnProperty;\nvar __propIsEnum$i = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$g = (obj, key, value) => key in obj ? __defProp$g(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$g = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$i.call(b, prop))\n      __defNormalProp$g(a, prop, b[prop]);\n  if (__getOwnPropSymbols$i)\n    for (var prop of __getOwnPropSymbols$i(b)) {\n      if (__propIsEnum$i.call(b, prop))\n        __defNormalProp$g(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps$6 = (a, b) => __defProps$6(a, __getOwnPropDescs$6(b));\nfunction useRefHistory(source, options = {}) {\n  const {\n    deep = false,\n    flush = \"pre\",\n    eventFilter\n  } = options;\n  const {\n    eventFilter: composedFilter,\n    pause,\n    resume: resumeTracking,\n    isActive: isTracking\n  } = pausableFilter(eventFilter);\n  const {\n    ignoreUpdates,\n    ignorePrevAsyncUpdates,\n    stop\n  } = watchIgnorable(source, commit, { deep, flush, eventFilter: composedFilter });\n  function setSource(source2, value) {\n    ignorePrevAsyncUpdates();\n    ignoreUpdates(() => {\n      source2.value = value;\n    });\n  }\n  const manualHistory = useManualRefHistory(source, __spreadProps$6(__spreadValues$g({}, options), { clone: options.clone || deep, setSource }));\n  const { clear, commit: manualCommit } = manualHistory;\n  function commit() {\n    ignorePrevAsyncUpdates();\n    manualCommit();\n  }\n  function resume(commitNow) {\n    resumeTracking();\n    if (commitNow)\n      commit();\n  }\n  function batch(fn) {\n    let canceled = false;\n    const cancel = () => canceled = true;\n    ignoreUpdates(() => {\n      fn(cancel);\n    });\n    if (!canceled)\n      commit();\n  }\n  function dispose() {\n    stop();\n    clear();\n  }\n  return __spreadProps$6(__spreadValues$g({}, manualHistory), {\n    isTracking,\n    pause,\n    resume,\n    commit,\n    batch,\n    dispose\n  });\n}\n\nvar __defProp$f = Object.defineProperty;\nvar __defProps$5 = Object.defineProperties;\nvar __getOwnPropDescs$5 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$h = Object.getOwnPropertySymbols;\nvar __hasOwnProp$h = Object.prototype.hasOwnProperty;\nvar __propIsEnum$h = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$f = (obj, key, value) => key in obj ? __defProp$f(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$f = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$h.call(b, prop))\n      __defNormalProp$f(a, prop, b[prop]);\n  if (__getOwnPropSymbols$h)\n    for (var prop of __getOwnPropSymbols$h(b)) {\n      if (__propIsEnum$h.call(b, prop))\n        __defNormalProp$f(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps$5 = (a, b) => __defProps$5(a, __getOwnPropDescs$5(b));\nfunction useDebouncedRefHistory(source, options = {}) {\n  const filter = options.debounce ? debounceFilter(options.debounce) : void 0;\n  const history = useRefHistory(source, __spreadProps$5(__spreadValues$f({}, options), { eventFilter: filter }));\n  return __spreadValues$f({}, history);\n}\n\nfunction useDeviceMotion(options = {}) {\n  const {\n    window = defaultWindow,\n    eventFilter = bypassFilter\n  } = options;\n  const acceleration = ref({ x: null, y: null, z: null });\n  const rotationRate = ref({ alpha: null, beta: null, gamma: null });\n  const interval = ref(0);\n  const accelerationIncludingGravity = ref({\n    x: null,\n    y: null,\n    z: null\n  });\n  if (window) {\n    const onDeviceMotion = createFilterWrapper(eventFilter, (event) => {\n      acceleration.value = event.acceleration;\n      accelerationIncludingGravity.value = event.accelerationIncludingGravity;\n      rotationRate.value = event.rotationRate;\n      interval.value = event.interval;\n    });\n    useEventListener(window, \"devicemotion\", onDeviceMotion);\n  }\n  return {\n    acceleration,\n    accelerationIncludingGravity,\n    rotationRate,\n    interval\n  };\n}\n\nfunction useDeviceOrientation(options = {}) {\n  const { window = defaultWindow } = options;\n  const isSupported = useSupported(() => window && \"DeviceOrientationEvent\" in window);\n  const isAbsolute = ref(false);\n  const alpha = ref(null);\n  const beta = ref(null);\n  const gamma = ref(null);\n  if (window && isSupported.value) {\n    useEventListener(window, \"deviceorientation\", (event) => {\n      isAbsolute.value = event.absolute;\n      alpha.value = event.alpha;\n      beta.value = event.beta;\n      gamma.value = event.gamma;\n    });\n  }\n  return {\n    isSupported,\n    isAbsolute,\n    alpha,\n    beta,\n    gamma\n  };\n}\n\nfunction useDevicePixelRatio({\n  window = defaultWindow\n} = {}) {\n  if (!window) {\n    return {\n      pixelRatio: ref(1)\n    };\n  }\n  const pixelRatio = ref(1);\n  const cleanups = [];\n  const cleanup = () => {\n    cleanups.map((i) => i());\n    cleanups.length = 0;\n  };\n  const observe = () => {\n    pixelRatio.value = window.devicePixelRatio;\n    cleanup();\n    const media = window.matchMedia(`(resolution: ${pixelRatio.value}dppx)`);\n    media.addEventListener(\"change\", observe, { once: true });\n    cleanups.push(() => {\n      media.removeEventListener(\"change\", observe);\n    });\n  };\n  observe();\n  tryOnScopeDispose(cleanup);\n  return { pixelRatio };\n}\n\nfunction usePermission(permissionDesc, options = {}) {\n  const {\n    controls = false,\n    navigator = defaultNavigator\n  } = options;\n  const isSupported = useSupported(() => navigator && \"permissions\" in navigator);\n  let permissionStatus;\n  const desc = typeof permissionDesc === \"string\" ? { name: permissionDesc } : permissionDesc;\n  const state = ref();\n  const onChange = () => {\n    if (permissionStatus)\n      state.value = permissionStatus.state;\n  };\n  const query = createSingletonPromise(async () => {\n    if (!isSupported.value)\n      return;\n    if (!permissionStatus) {\n      try {\n        permissionStatus = await navigator.permissions.query(desc);\n        useEventListener(permissionStatus, \"change\", onChange);\n        onChange();\n      } catch (e) {\n        state.value = \"prompt\";\n      }\n    }\n    return permissionStatus;\n  });\n  query();\n  if (controls) {\n    return {\n      state,\n      isSupported,\n      query\n    };\n  } else {\n    return state;\n  }\n}\n\nfunction useDevicesList(options = {}) {\n  const {\n    navigator = defaultNavigator,\n    requestPermissions = false,\n    constraints = { audio: true, video: true },\n    onUpdated\n  } = options;\n  const devices = ref([]);\n  const videoInputs = computed(() => devices.value.filter((i) => i.kind === \"videoinput\"));\n  const audioInputs = computed(() => devices.value.filter((i) => i.kind === \"audioinput\"));\n  const audioOutputs = computed(() => devices.value.filter((i) => i.kind === \"audiooutput\"));\n  const isSupported = useSupported(() => navigator && navigator.mediaDevices && navigator.mediaDevices.enumerateDevices);\n  const permissionGranted = ref(false);\n  async function update() {\n    if (!isSupported.value)\n      return;\n    devices.value = await navigator.mediaDevices.enumerateDevices();\n    onUpdated == null ? void 0 : onUpdated(devices.value);\n  }\n  async function ensurePermissions() {\n    if (!isSupported.value)\n      return false;\n    if (permissionGranted.value)\n      return true;\n    const { state, query } = usePermission(\"camera\", { controls: true });\n    await query();\n    if (state.value !== \"granted\") {\n      const stream = await navigator.mediaDevices.getUserMedia(constraints);\n      stream.getTracks().forEach((t) => t.stop());\n      update();\n      permissionGranted.value = true;\n    } else {\n      permissionGranted.value = true;\n    }\n    return permissionGranted.value;\n  }\n  if (isSupported.value) {\n    if (requestPermissions)\n      ensurePermissions();\n    useEventListener(navigator.mediaDevices, \"devicechange\", update);\n    update();\n  }\n  return {\n    devices,\n    ensurePermissions,\n    permissionGranted,\n    videoInputs,\n    audioInputs,\n    audioOutputs,\n    isSupported\n  };\n}\n\nfunction useDisplayMedia(options = {}) {\n  var _a;\n  const enabled = ref((_a = options.enabled) != null ? _a : false);\n  const video = options.video;\n  const audio = options.audio;\n  const { navigator = defaultNavigator } = options;\n  const isSupported = useSupported(() => {\n    var _a2;\n    return (_a2 = navigator == null ? void 0 : navigator.mediaDevices) == null ? void 0 : _a2.getDisplayMedia;\n  });\n  const constraint = { audio, video };\n  const stream = shallowRef();\n  async function _start() {\n    if (!isSupported.value || stream.value)\n      return;\n    stream.value = await navigator.mediaDevices.getDisplayMedia(constraint);\n    return stream.value;\n  }\n  async function _stop() {\n    var _a2;\n    (_a2 = stream.value) == null ? void 0 : _a2.getTracks().forEach((t) => t.stop());\n    stream.value = void 0;\n  }\n  function stop() {\n    _stop();\n    enabled.value = false;\n  }\n  async function start() {\n    await _start();\n    if (stream.value)\n      enabled.value = true;\n    return stream.value;\n  }\n  watch(enabled, (v) => {\n    if (v)\n      _start();\n    else\n      _stop();\n  }, { immediate: true });\n  return {\n    isSupported,\n    stream,\n    start,\n    stop,\n    enabled\n  };\n}\n\nfunction useDocumentVisibility({ document = defaultDocument } = {}) {\n  if (!document)\n    return ref(\"visible\");\n  const visibility = ref(document.visibilityState);\n  useEventListener(document, \"visibilitychange\", () => {\n    visibility.value = document.visibilityState;\n  });\n  return visibility;\n}\n\nvar __defProp$e = Object.defineProperty;\nvar __defProps$4 = Object.defineProperties;\nvar __getOwnPropDescs$4 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$g = Object.getOwnPropertySymbols;\nvar __hasOwnProp$g = Object.prototype.hasOwnProperty;\nvar __propIsEnum$g = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$e = (obj, key, value) => key in obj ? __defProp$e(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$e = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$g.call(b, prop))\n      __defNormalProp$e(a, prop, b[prop]);\n  if (__getOwnPropSymbols$g)\n    for (var prop of __getOwnPropSymbols$g(b)) {\n      if (__propIsEnum$g.call(b, prop))\n        __defNormalProp$e(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps$4 = (a, b) => __defProps$4(a, __getOwnPropDescs$4(b));\nfunction useDraggable(target, options = {}) {\n  var _a, _b, _c;\n  const draggingElement = (_a = options.draggingElement) != null ? _a : defaultWindow;\n  const draggingHandle = (_b = options.handle) != null ? _b : target;\n  const position = ref((_c = resolveUnref(options.initialValue)) != null ? _c : { x: 0, y: 0 });\n  const pressedDelta = ref();\n  const filterEvent = (e) => {\n    if (options.pointerTypes)\n      return options.pointerTypes.includes(e.pointerType);\n    return true;\n  };\n  const handleEvent = (e) => {\n    if (resolveUnref(options.preventDefault))\n      e.preventDefault();\n    if (resolveUnref(options.stopPropagation))\n      e.stopPropagation();\n  };\n  const start = (e) => {\n    var _a2;\n    if (!filterEvent(e))\n      return;\n    if (resolveUnref(options.exact) && e.target !== resolveUnref(target))\n      return;\n    const rect = resolveUnref(target).getBoundingClientRect();\n    const pos = {\n      x: e.pageX - rect.left,\n      y: e.pageY - rect.top\n    };\n    if (((_a2 = options.onStart) == null ? void 0 : _a2.call(options, pos, e)) === false)\n      return;\n    pressedDelta.value = pos;\n    handleEvent(e);\n  };\n  const move = (e) => {\n    var _a2;\n    if (!filterEvent(e))\n      return;\n    if (!pressedDelta.value)\n      return;\n    position.value = {\n      x: e.pageX - pressedDelta.value.x,\n      y: e.pageY - pressedDelta.value.y\n    };\n    (_a2 = options.onMove) == null ? void 0 : _a2.call(options, position.value, e);\n    handleEvent(e);\n  };\n  const end = (e) => {\n    var _a2;\n    if (!filterEvent(e))\n      return;\n    if (!pressedDelta.value)\n      return;\n    pressedDelta.value = void 0;\n    (_a2 = options.onEnd) == null ? void 0 : _a2.call(options, position.value, e);\n    handleEvent(e);\n  };\n  if (isClient) {\n    useEventListener(draggingHandle, \"pointerdown\", start, true);\n    useEventListener(draggingElement, \"pointermove\", move, true);\n    useEventListener(draggingElement, \"pointerup\", end, true);\n  }\n  return __spreadProps$4(__spreadValues$e({}, toRefs(position)), {\n    position,\n    isDragging: computed(() => !!pressedDelta.value),\n    style: computed(() => `left:${position.value.x}px;top:${position.value.y}px;`)\n  });\n}\n\nfunction useDropZone(target, onDrop) {\n  const isOverDropZone = ref(false);\n  let counter = 0;\n  if (isClient) {\n    useEventListener(target, \"dragenter\", (event) => {\n      event.preventDefault();\n      counter += 1;\n      isOverDropZone.value = true;\n    });\n    useEventListener(target, \"dragover\", (event) => {\n      event.preventDefault();\n    });\n    useEventListener(target, \"dragleave\", (event) => {\n      event.preventDefault();\n      counter -= 1;\n      if (counter === 0)\n        isOverDropZone.value = false;\n    });\n    useEventListener(target, \"drop\", (event) => {\n      var _a, _b;\n      event.preventDefault();\n      counter = 0;\n      isOverDropZone.value = false;\n      const files = Array.from((_b = (_a = event.dataTransfer) == null ? void 0 : _a.files) != null ? _b : []);\n      onDrop == null ? void 0 : onDrop(files.length === 0 ? null : files);\n    });\n  }\n  return {\n    isOverDropZone\n  };\n}\n\nvar __getOwnPropSymbols$f = Object.getOwnPropertySymbols;\nvar __hasOwnProp$f = Object.prototype.hasOwnProperty;\nvar __propIsEnum$f = Object.prototype.propertyIsEnumerable;\nvar __objRest$2 = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp$f.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols$f)\n    for (var prop of __getOwnPropSymbols$f(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum$f.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nfunction useResizeObserver(target, callback, options = {}) {\n  const _a = options, { window = defaultWindow } = _a, observerOptions = __objRest$2(_a, [\"window\"]);\n  let observer;\n  const isSupported = useSupported(() => window && \"ResizeObserver\" in window);\n  const cleanup = () => {\n    if (observer) {\n      observer.disconnect();\n      observer = void 0;\n    }\n  };\n  const stopWatch = watch(() => unrefElement(target), (el) => {\n    cleanup();\n    if (isSupported.value && window && el) {\n      observer = new ResizeObserver(callback);\n      observer.observe(el, observerOptions);\n    }\n  }, { immediate: true, flush: \"post\" });\n  const stop = () => {\n    cleanup();\n    stopWatch();\n  };\n  tryOnScopeDispose(stop);\n  return {\n    isSupported,\n    stop\n  };\n}\n\nfunction useElementBounding(target, options = {}) {\n  const {\n    reset = true,\n    windowResize = true,\n    windowScroll = true,\n    immediate = true\n  } = options;\n  const height = ref(0);\n  const bottom = ref(0);\n  const left = ref(0);\n  const right = ref(0);\n  const top = ref(0);\n  const width = ref(0);\n  const x = ref(0);\n  const y = ref(0);\n  function update() {\n    const el = unrefElement(target);\n    if (!el) {\n      if (reset) {\n        height.value = 0;\n        bottom.value = 0;\n        left.value = 0;\n        right.value = 0;\n        top.value = 0;\n        width.value = 0;\n        x.value = 0;\n        y.value = 0;\n      }\n      return;\n    }\n    const rect = el.getBoundingClientRect();\n    height.value = rect.height;\n    bottom.value = rect.bottom;\n    left.value = rect.left;\n    right.value = rect.right;\n    top.value = rect.top;\n    width.value = rect.width;\n    x.value = rect.x;\n    y.value = rect.y;\n  }\n  useResizeObserver(target, update);\n  watch(() => unrefElement(target), (ele) => !ele && update());\n  if (windowScroll)\n    useEventListener(\"scroll\", update, { passive: true });\n  if (windowResize)\n    useEventListener(\"resize\", update, { passive: true });\n  tryOnMounted(() => {\n    if (immediate)\n      update();\n  });\n  return {\n    height,\n    bottom,\n    left,\n    right,\n    top,\n    width,\n    x,\n    y,\n    update\n  };\n}\n\nfunction useRafFn(fn, options = {}) {\n  const {\n    immediate = true,\n    window = defaultWindow\n  } = options;\n  const isActive = ref(false);\n  let rafId = null;\n  function loop() {\n    if (!isActive.value || !window)\n      return;\n    fn();\n    rafId = window.requestAnimationFrame(loop);\n  }\n  function resume() {\n    if (!isActive.value && window) {\n      isActive.value = true;\n      loop();\n    }\n  }\n  function pause() {\n    isActive.value = false;\n    if (rafId != null && window) {\n      window.cancelAnimationFrame(rafId);\n      rafId = null;\n    }\n  }\n  if (immediate)\n    resume();\n  tryOnScopeDispose(pause);\n  return {\n    isActive,\n    pause,\n    resume\n  };\n}\n\nvar __defProp$d = Object.defineProperty;\nvar __getOwnPropSymbols$e = Object.getOwnPropertySymbols;\nvar __hasOwnProp$e = Object.prototype.hasOwnProperty;\nvar __propIsEnum$e = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$d = (obj, key, value) => key in obj ? __defProp$d(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$d = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$e.call(b, prop))\n      __defNormalProp$d(a, prop, b[prop]);\n  if (__getOwnPropSymbols$e)\n    for (var prop of __getOwnPropSymbols$e(b)) {\n      if (__propIsEnum$e.call(b, prop))\n        __defNormalProp$d(a, prop, b[prop]);\n    }\n  return a;\n};\nfunction useElementByPoint(options) {\n  const element = ref(null);\n  const { x, y } = options;\n  const controls = useRafFn(() => {\n    element.value = document.elementFromPoint(resolveUnref(x), resolveUnref(y));\n  });\n  return __spreadValues$d({\n    element\n  }, controls);\n}\n\nfunction useElementHover(el) {\n  const isHovered = ref(false);\n  useEventListener(el, \"mouseenter\", () => isHovered.value = true);\n  useEventListener(el, \"mouseleave\", () => isHovered.value = false);\n  return isHovered;\n}\n\nfunction useElementSize(target, initialSize = { width: 0, height: 0 }, options = {}) {\n  const { box = \"content-box\" } = options;\n  const width = ref(initialSize.width);\n  const height = ref(initialSize.height);\n  useResizeObserver(target, ([entry]) => {\n    const boxSize = box === \"border-box\" ? entry.borderBoxSize : box === \"content-box\" ? entry.contentBoxSize : entry.devicePixelContentBoxSize;\n    if (boxSize) {\n      width.value = boxSize.reduce((acc, { inlineSize }) => acc + inlineSize, 0);\n      height.value = boxSize.reduce((acc, { blockSize }) => acc + blockSize, 0);\n    } else {\n      width.value = entry.contentRect.width;\n      height.value = entry.contentRect.height;\n    }\n  }, options);\n  watch(() => unrefElement(target), (ele) => {\n    width.value = ele ? initialSize.width : 0;\n    height.value = ele ? initialSize.height : 0;\n  });\n  return {\n    width,\n    height\n  };\n}\n\nfunction useElementVisibility(element, { window = defaultWindow, scrollTarget } = {}) {\n  const elementIsVisible = ref(false);\n  const testBounding = () => {\n    if (!window)\n      return;\n    const document = window.document;\n    const el = unrefElement(element);\n    if (!el) {\n      elementIsVisible.value = false;\n    } else {\n      const rect = el.getBoundingClientRect();\n      elementIsVisible.value = rect.top <= (window.innerHeight || document.documentElement.clientHeight) && rect.left <= (window.innerWidth || document.documentElement.clientWidth) && rect.bottom >= 0 && rect.right >= 0;\n    }\n  };\n  watch(() => unrefElement(element), () => testBounding(), { immediate: true, flush: \"post\" });\n  if (window) {\n    useEventListener(scrollTarget || window, \"scroll\", testBounding, {\n      capture: false,\n      passive: true\n    });\n  }\n  return elementIsVisible;\n}\n\nconst events = new Map();\n\nfunction useEventBus(key) {\n  const scope = getCurrentScope();\n  function on(listener) {\n    var _a;\n    const listeners = events.get(key) || [];\n    listeners.push(listener);\n    events.set(key, listeners);\n    const _off = () => off(listener);\n    (_a = scope == null ? void 0 : scope.cleanups) == null ? void 0 : _a.push(_off);\n    return _off;\n  }\n  function once(listener) {\n    function _listener(...args) {\n      off(_listener);\n      listener(...args);\n    }\n    return on(_listener);\n  }\n  function off(listener) {\n    const listeners = events.get(key);\n    if (!listeners)\n      return;\n    const index = listeners.indexOf(listener);\n    if (index > -1)\n      listeners.splice(index, 1);\n    if (!listeners.length)\n      events.delete(key);\n  }\n  function reset() {\n    events.delete(key);\n  }\n  function emit(event, payload) {\n    var _a;\n    (_a = events.get(key)) == null ? void 0 : _a.forEach((v) => v(event, payload));\n  }\n  return { on, once, off, emit, reset };\n}\n\nfunction useEventSource(url, events = [], options = {}) {\n  const event = ref(null);\n  const data = ref(null);\n  const status = ref(\"CONNECTING\");\n  const eventSource = ref(null);\n  const error = ref(null);\n  const {\n    withCredentials = false\n  } = options;\n  const close = () => {\n    if (eventSource.value) {\n      eventSource.value.close();\n      eventSource.value = null;\n      status.value = \"CLOSED\";\n    }\n  };\n  const es = new EventSource(url, { withCredentials });\n  eventSource.value = es;\n  es.onopen = () => {\n    status.value = \"OPEN\";\n    error.value = null;\n  };\n  es.onerror = (e) => {\n    status.value = \"CLOSED\";\n    error.value = e;\n  };\n  es.onmessage = (e) => {\n    event.value = null;\n    data.value = e.data;\n  };\n  for (const event_name of events) {\n    useEventListener(es, event_name, (e) => {\n      event.value = event_name;\n      data.value = e.data || null;\n    });\n  }\n  tryOnScopeDispose(() => {\n    close();\n  });\n  return {\n    eventSource,\n    event,\n    data,\n    status,\n    error,\n    close\n  };\n}\n\nfunction useEyeDropper(options = {}) {\n  const { initialValue = \"\" } = options;\n  const isSupported = useSupported(() => typeof window !== \"undefined\" && \"EyeDropper\" in window);\n  const sRGBHex = ref(initialValue);\n  async function open(openOptions) {\n    if (!isSupported.value)\n      return;\n    const eyeDropper = new window.EyeDropper();\n    const result = await eyeDropper.open(openOptions);\n    sRGBHex.value = result.sRGBHex;\n    return result;\n  }\n  return { isSupported, sRGBHex, open };\n}\n\nfunction useFavicon(newIcon = null, options = {}) {\n  const {\n    baseUrl = \"\",\n    rel = \"icon\",\n    document = defaultDocument\n  } = options;\n  const favicon = resolveRef(newIcon);\n  const applyIcon = (icon) => {\n    document == null ? void 0 : document.head.querySelectorAll(`link[rel*=\"${rel}\"]`).forEach((el) => el.href = `${baseUrl}${icon}`);\n  };\n  watch(favicon, (i, o) => {\n    if (isString(i) && i !== o)\n      applyIcon(i);\n  }, { immediate: true });\n  return favicon;\n}\n\nvar __defProp$c = Object.defineProperty;\nvar __defProps$3 = Object.defineProperties;\nvar __getOwnPropDescs$3 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$d = Object.getOwnPropertySymbols;\nvar __hasOwnProp$d = Object.prototype.hasOwnProperty;\nvar __propIsEnum$d = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$c = (obj, key, value) => key in obj ? __defProp$c(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$c = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$d.call(b, prop))\n      __defNormalProp$c(a, prop, b[prop]);\n  if (__getOwnPropSymbols$d)\n    for (var prop of __getOwnPropSymbols$d(b)) {\n      if (__propIsEnum$d.call(b, prop))\n        __defNormalProp$c(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps$3 = (a, b) => __defProps$3(a, __getOwnPropDescs$3(b));\nconst payloadMapping = {\n  json: \"application/json\",\n  text: \"text/plain\",\n  formData: \"multipart/form-data\"\n};\nfunction isFetchOptions(obj) {\n  return containsProp(obj, \"immediate\", \"refetch\", \"initialData\", \"timeout\", \"beforeFetch\", \"afterFetch\", \"onFetchError\", \"fetch\");\n}\nfunction headersToObject(headers) {\n  if (typeof Headers !== \"undefined\" && headers instanceof Headers)\n    return Object.fromEntries([...headers.entries()]);\n  return headers;\n}\nfunction chainCallbacks(...callbacks) {\n  return (ctx) => {\n    callbacks.forEach(async (callback) => {\n      if (callback)\n        ctx = __spreadValues$c(__spreadValues$c({}, ctx), await callback(ctx));\n    });\n    return ctx;\n  };\n}\nfunction createFetch(config = {}) {\n  const _options = config.options || {};\n  const _fetchOptions = config.fetchOptions || {};\n  function useFactoryFetch(url, ...args) {\n    const computedUrl = computed(() => config.baseUrl ? joinPaths(resolveUnref(config.baseUrl), resolveUnref(url)) : resolveUnref(url));\n    let options = _options;\n    let fetchOptions = _fetchOptions;\n    if (args.length > 0) {\n      if (isFetchOptions(args[0])) {\n        options = __spreadProps$3(__spreadValues$c(__spreadValues$c({}, options), args[0]), {\n          beforeFetch: chainCallbacks(_options.beforeFetch, args[0].beforeFetch),\n          afterFetch: chainCallbacks(_options.afterFetch, args[0].afterFetch),\n          onFetchError: chainCallbacks(_options.onFetchError, args[0].onFetchError)\n        });\n      } else {\n        fetchOptions = __spreadProps$3(__spreadValues$c(__spreadValues$c({}, fetchOptions), args[0]), {\n          headers: __spreadValues$c(__spreadValues$c({}, headersToObject(fetchOptions.headers) || {}), headersToObject(args[0].headers) || {})\n        });\n      }\n    }\n    if (args.length > 1 && isFetchOptions(args[1])) {\n      options = __spreadProps$3(__spreadValues$c(__spreadValues$c({}, options), args[1]), {\n        beforeFetch: chainCallbacks(_options.beforeFetch, args[1].beforeFetch),\n        afterFetch: chainCallbacks(_options.afterFetch, args[1].afterFetch),\n        onFetchError: chainCallbacks(_options.onFetchError, args[1].onFetchError)\n      });\n    }\n    return useFetch(computedUrl, fetchOptions, options);\n  }\n  return useFactoryFetch;\n}\nfunction useFetch(url, ...args) {\n  var _a;\n  const supportsAbort = typeof AbortController === \"function\";\n  let fetchOptions = {};\n  let options = { immediate: true, refetch: false, timeout: 0 };\n  const config = {\n    method: \"GET\",\n    type: \"text\",\n    payload: void 0\n  };\n  if (args.length > 0) {\n    if (isFetchOptions(args[0]))\n      options = __spreadValues$c(__spreadValues$c({}, options), args[0]);\n    else\n      fetchOptions = args[0];\n  }\n  if (args.length > 1) {\n    if (isFetchOptions(args[1]))\n      options = __spreadValues$c(__spreadValues$c({}, options), args[1]);\n  }\n  const {\n    fetch = (_a = defaultWindow) == null ? void 0 : _a.fetch,\n    initialData,\n    timeout\n  } = options;\n  const responseEvent = createEventHook();\n  const errorEvent = createEventHook();\n  const finallyEvent = createEventHook();\n  const isFinished = ref(false);\n  const isFetching = ref(false);\n  const aborted = ref(false);\n  const statusCode = ref(null);\n  const response = shallowRef(null);\n  const error = shallowRef(null);\n  const data = shallowRef(initialData);\n  const canAbort = computed(() => supportsAbort && isFetching.value);\n  let controller;\n  let timer;\n  const abort = () => {\n    if (supportsAbort && controller)\n      controller.abort();\n  };\n  const loading = (isLoading) => {\n    isFetching.value = isLoading;\n    isFinished.value = !isLoading;\n  };\n  if (timeout)\n    timer = useTimeoutFn(abort, timeout, { immediate: false });\n  const execute = async (throwOnFailed = false) => {\n    var _a2;\n    loading(true);\n    error.value = null;\n    statusCode.value = null;\n    aborted.value = false;\n    controller = void 0;\n    if (supportsAbort) {\n      controller = new AbortController();\n      controller.signal.onabort = () => aborted.value = true;\n      fetchOptions = __spreadProps$3(__spreadValues$c({}, fetchOptions), {\n        signal: controller.signal\n      });\n    }\n    const defaultFetchOptions = {\n      method: config.method,\n      headers: {}\n    };\n    if (config.payload) {\n      const headers = headersToObject(defaultFetchOptions.headers);\n      if (config.payloadType)\n        headers[\"Content-Type\"] = (_a2 = payloadMapping[config.payloadType]) != null ? _a2 : config.payloadType;\n      const payload = resolveUnref(config.payload);\n      defaultFetchOptions.body = config.payloadType === \"json\" ? JSON.stringify(payload) : payload;\n    }\n    let isCanceled = false;\n    const context = { url: resolveUnref(url), options: __spreadValues$c(__spreadValues$c({}, defaultFetchOptions), fetchOptions), cancel: () => {\n      isCanceled = true;\n    } };\n    if (options.beforeFetch)\n      Object.assign(context, await options.beforeFetch(context));\n    if (isCanceled || !fetch) {\n      loading(false);\n      return Promise.resolve(null);\n    }\n    let responseData = null;\n    if (timer)\n      timer.start();\n    return new Promise((resolve, reject) => {\n      var _a3;\n      fetch(context.url, __spreadProps$3(__spreadValues$c(__spreadValues$c({}, defaultFetchOptions), context.options), {\n        headers: __spreadValues$c(__spreadValues$c({}, headersToObject(defaultFetchOptions.headers)), headersToObject((_a3 = context.options) == null ? void 0 : _a3.headers))\n      })).then(async (fetchResponse) => {\n        response.value = fetchResponse;\n        statusCode.value = fetchResponse.status;\n        responseData = await fetchResponse[config.type]();\n        if (options.afterFetch && statusCode.value >= 200 && statusCode.value < 300)\n          ({ data: responseData } = await options.afterFetch({ data: responseData, response: fetchResponse }));\n        data.value = responseData;\n        if (!fetchResponse.ok)\n          throw new Error(fetchResponse.statusText);\n        responseEvent.trigger(fetchResponse);\n        return resolve(fetchResponse);\n      }).catch(async (fetchError) => {\n        let errorData = fetchError.message || fetchError.name;\n        if (options.onFetchError)\n          ({ data: responseData, error: errorData } = await options.onFetchError({ data: responseData, error: fetchError, response: response.value }));\n        data.value = responseData;\n        error.value = errorData;\n        errorEvent.trigger(fetchError);\n        if (throwOnFailed)\n          return reject(fetchError);\n        return resolve(null);\n      }).finally(() => {\n        loading(false);\n        if (timer)\n          timer.stop();\n        finallyEvent.trigger(null);\n      });\n    });\n  };\n  const refetch = resolveRef(options.refetch);\n  watch([\n    refetch,\n    resolveRef(url)\n  ], ([refetch2]) => refetch2 && execute(), { deep: true });\n  const shell = {\n    isFinished,\n    statusCode,\n    response,\n    error,\n    data,\n    isFetching,\n    canAbort,\n    aborted,\n    abort,\n    execute,\n    onFetchResponse: responseEvent.on,\n    onFetchError: errorEvent.on,\n    onFetchFinally: finallyEvent.on,\n    get: setMethod(\"GET\"),\n    put: setMethod(\"PUT\"),\n    post: setMethod(\"POST\"),\n    delete: setMethod(\"DELETE\"),\n    patch: setMethod(\"PATCH\"),\n    head: setMethod(\"HEAD\"),\n    options: setMethod(\"OPTIONS\"),\n    json: setType(\"json\"),\n    text: setType(\"text\"),\n    blob: setType(\"blob\"),\n    arrayBuffer: setType(\"arrayBuffer\"),\n    formData: setType(\"formData\")\n  };\n  function setMethod(method) {\n    return (payload, payloadType) => {\n      if (!isFetching.value) {\n        config.method = method;\n        config.payload = payload;\n        config.payloadType = payloadType;\n        if (isRef(config.payload)) {\n          watch([\n            refetch,\n            resolveRef(config.payload)\n          ], ([refetch2]) => refetch2 && execute(), { deep: true });\n        }\n        const rawPayload = resolveUnref(config.payload);\n        if (!payloadType && rawPayload && Object.getPrototypeOf(rawPayload) === Object.prototype)\n          config.payloadType = \"json\";\n        return __spreadProps$3(__spreadValues$c({}, shell), {\n          then(onFulfilled, onRejected) {\n            return waitUntilFinished().then(onFulfilled, onRejected);\n          }\n        });\n      }\n      return void 0;\n    };\n  }\n  function waitUntilFinished() {\n    return new Promise((resolve, reject) => {\n      until(isFinished).toBe(true).then(() => resolve(shell)).catch((error2) => reject(error2));\n    });\n  }\n  function setType(type) {\n    return () => {\n      if (!isFetching.value) {\n        config.type = type;\n        return __spreadProps$3(__spreadValues$c({}, shell), {\n          then(onFulfilled, onRejected) {\n            return waitUntilFinished().then(onFulfilled, onRejected);\n          }\n        });\n      }\n      return void 0;\n    };\n  }\n  if (options.immediate)\n    setTimeout(execute, 0);\n  return __spreadProps$3(__spreadValues$c({}, shell), {\n    then(onFulfilled, onRejected) {\n      return waitUntilFinished().then(onFulfilled, onRejected);\n    }\n  });\n}\nfunction joinPaths(start, end) {\n  if (!start.endsWith(\"/\") && !end.startsWith(\"/\"))\n    return `${start}/${end}`;\n  return `${start}${end}`;\n}\n\nvar __defProp$b = Object.defineProperty;\nvar __getOwnPropSymbols$c = Object.getOwnPropertySymbols;\nvar __hasOwnProp$c = Object.prototype.hasOwnProperty;\nvar __propIsEnum$c = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$b = (obj, key, value) => key in obj ? __defProp$b(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$b = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$c.call(b, prop))\n      __defNormalProp$b(a, prop, b[prop]);\n  if (__getOwnPropSymbols$c)\n    for (var prop of __getOwnPropSymbols$c(b)) {\n      if (__propIsEnum$c.call(b, prop))\n        __defNormalProp$b(a, prop, b[prop]);\n    }\n  return a;\n};\nconst DEFAULT_OPTIONS = {\n  multiple: true,\n  accept: \"*\"\n};\nfunction useFileDialog(options = {}) {\n  const {\n    document = defaultDocument\n  } = options;\n  const files = ref(null);\n  let input;\n  if (document) {\n    input = document.createElement(\"input\");\n    input.type = \"file\";\n    input.onchange = (event) => {\n      const result = event.target;\n      files.value = result.files;\n    };\n  }\n  const open = (localOptions) => {\n    if (!input)\n      return;\n    const _options = __spreadValues$b(__spreadValues$b(__spreadValues$b({}, DEFAULT_OPTIONS), options), localOptions);\n    input.multiple = _options.multiple;\n    input.accept = _options.accept;\n    if (hasOwn(_options, \"capture\"))\n      input.capture = _options.capture;\n    input.click();\n  };\n  const reset = () => {\n    files.value = null;\n    if (input)\n      input.value = \"\";\n  };\n  return {\n    files: readonly(files),\n    open,\n    reset\n  };\n}\n\nvar __defProp$a = Object.defineProperty;\nvar __getOwnPropSymbols$b = Object.getOwnPropertySymbols;\nvar __hasOwnProp$b = Object.prototype.hasOwnProperty;\nvar __propIsEnum$b = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$a = (obj, key, value) => key in obj ? __defProp$a(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$a = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$b.call(b, prop))\n      __defNormalProp$a(a, prop, b[prop]);\n  if (__getOwnPropSymbols$b)\n    for (var prop of __getOwnPropSymbols$b(b)) {\n      if (__propIsEnum$b.call(b, prop))\n        __defNormalProp$a(a, prop, b[prop]);\n    }\n  return a;\n};\nfunction useFileSystemAccess(options = {}) {\n  const {\n    window: _window = defaultWindow,\n    dataType = \"Text\"\n  } = unref(options);\n  const window = _window;\n  const isSupported = useSupported(() => window && \"showSaveFilePicker\" in window && \"showOpenFilePicker\" in window);\n  const fileHandle = ref();\n  const data = ref();\n  const file = ref();\n  const fileName = computed(() => {\n    var _a, _b;\n    return (_b = (_a = file.value) == null ? void 0 : _a.name) != null ? _b : \"\";\n  });\n  const fileMIME = computed(() => {\n    var _a, _b;\n    return (_b = (_a = file.value) == null ? void 0 : _a.type) != null ? _b : \"\";\n  });\n  const fileSize = computed(() => {\n    var _a, _b;\n    return (_b = (_a = file.value) == null ? void 0 : _a.size) != null ? _b : 0;\n  });\n  const fileLastModified = computed(() => {\n    var _a, _b;\n    return (_b = (_a = file.value) == null ? void 0 : _a.lastModified) != null ? _b : 0;\n  });\n  async function open(_options = {}) {\n    if (!isSupported.value)\n      return;\n    const [handle] = await window.showOpenFilePicker(__spreadValues$a(__spreadValues$a({}, unref(options)), _options));\n    fileHandle.value = handle;\n    await updateFile();\n    await updateData();\n  }\n  async function create(_options = {}) {\n    if (!isSupported.value)\n      return;\n    fileHandle.value = await window.showSaveFilePicker(__spreadValues$a(__spreadValues$a({}, unref(options)), _options));\n    data.value = void 0;\n    await updateFile();\n    await updateData();\n  }\n  async function save(_options = {}) {\n    if (!isSupported.value)\n      return;\n    if (!fileHandle.value)\n      return saveAs(_options);\n    if (data.value) {\n      const writableStream = await fileHandle.value.createWritable();\n      await writableStream.write(data.value);\n      await writableStream.close();\n    }\n    await updateFile();\n  }\n  async function saveAs(_options = {}) {\n    if (!isSupported.value)\n      return;\n    fileHandle.value = await window.showSaveFilePicker(__spreadValues$a(__spreadValues$a({}, unref(options)), _options));\n    if (data.value) {\n      const writableStream = await fileHandle.value.createWritable();\n      await writableStream.write(data.value);\n      await writableStream.close();\n    }\n    await updateFile();\n  }\n  async function updateFile() {\n    var _a;\n    file.value = await ((_a = fileHandle.value) == null ? void 0 : _a.getFile());\n  }\n  async function updateData() {\n    var _a, _b;\n    if (unref(dataType) === \"Text\")\n      data.value = await ((_a = file.value) == null ? void 0 : _a.text());\n    if (unref(dataType) === \"ArrayBuffer\")\n      data.value = await ((_b = file.value) == null ? void 0 : _b.arrayBuffer());\n    if (unref(dataType) === \"Blob\")\n      data.value = file.value;\n  }\n  watch(() => unref(dataType), updateData);\n  return {\n    isSupported,\n    data,\n    file,\n    fileName,\n    fileMIME,\n    fileSize,\n    fileLastModified,\n    open,\n    create,\n    save,\n    saveAs,\n    updateData\n  };\n}\n\nfunction useFocus(target, options = {}) {\n  const { initialValue = false } = options;\n  const activeElement = useActiveElement(options);\n  const targetElement = computed(() => unrefElement(target));\n  const focused = computed({\n    get() {\n      return isDef(activeElement.value) && isDef(targetElement.value) && activeElement.value === targetElement.value;\n    },\n    set(value) {\n      var _a, _b;\n      if (!value && focused.value)\n        (_a = targetElement.value) == null ? void 0 : _a.blur();\n      if (value && !focused.value)\n        (_b = targetElement.value) == null ? void 0 : _b.focus();\n    }\n  });\n  watch(targetElement, () => {\n    focused.value = initialValue;\n  }, { immediate: true, flush: \"post\" });\n  return { focused };\n}\n\nfunction useFocusWithin(target, options = {}) {\n  const activeElement = useActiveElement(options);\n  const targetElement = computed(() => unrefElement(target));\n  const focused = computed(() => targetElement.value && activeElement.value ? targetElement.value.contains(activeElement.value) : false);\n  return { focused };\n}\n\nfunction useFps(options) {\n  var _a;\n  const fps = ref(0);\n  if (typeof performance === \"undefined\")\n    return fps;\n  const every = (_a = options == null ? void 0 : options.every) != null ? _a : 10;\n  let last = performance.now();\n  let ticks = 0;\n  useRafFn(() => {\n    ticks += 1;\n    if (ticks >= every) {\n      const now = performance.now();\n      const diff = now - last;\n      fps.value = Math.round(1e3 / (diff / ticks));\n      last = now;\n      ticks = 0;\n    }\n  });\n  return fps;\n}\n\nconst functionsMap = [\n  [\n    \"requestFullscreen\",\n    \"exitFullscreen\",\n    \"fullscreenElement\",\n    \"fullscreenEnabled\",\n    \"fullscreenchange\",\n    \"fullscreenerror\"\n  ],\n  [\n    \"webkitRequestFullscreen\",\n    \"webkitExitFullscreen\",\n    \"webkitFullscreenElement\",\n    \"webkitFullscreenEnabled\",\n    \"webkitfullscreenchange\",\n    \"webkitfullscreenerror\"\n  ],\n  [\n    \"webkitRequestFullScreen\",\n    \"webkitCancelFullScreen\",\n    \"webkitCurrentFullScreenElement\",\n    \"webkitCancelFullScreen\",\n    \"webkitfullscreenchange\",\n    \"webkitfullscreenerror\"\n  ],\n  [\n    \"mozRequestFullScreen\",\n    \"mozCancelFullScreen\",\n    \"mozFullScreenElement\",\n    \"mozFullScreenEnabled\",\n    \"mozfullscreenchange\",\n    \"mozfullscreenerror\"\n  ],\n  [\n    \"msRequestFullscreen\",\n    \"msExitFullscreen\",\n    \"msFullscreenElement\",\n    \"msFullscreenEnabled\",\n    \"MSFullscreenChange\",\n    \"MSFullscreenError\"\n  ]\n];\nfunction useFullscreen(target, options = {}) {\n  const { document = defaultDocument, autoExit = false } = options;\n  const targetRef = target || (document == null ? void 0 : document.querySelector(\"html\"));\n  const isFullscreen = ref(false);\n  let map = functionsMap[0];\n  const isSupported = useSupported(() => {\n    if (!document) {\n      return false;\n    } else {\n      for (const m of functionsMap) {\n        if (m[1] in document) {\n          map = m;\n          return true;\n        }\n      }\n    }\n    return false;\n  });\n  const [REQUEST, EXIT, ELEMENT, , EVENT] = map;\n  async function exit() {\n    if (!isSupported.value)\n      return;\n    if (document == null ? void 0 : document[ELEMENT])\n      await document[EXIT]();\n    isFullscreen.value = false;\n  }\n  async function enter() {\n    if (!isSupported.value)\n      return;\n    await exit();\n    const target2 = unrefElement(targetRef);\n    if (target2) {\n      await target2[REQUEST]();\n      isFullscreen.value = true;\n    }\n  }\n  async function toggle() {\n    if (isFullscreen.value)\n      await exit();\n    else\n      await enter();\n  }\n  if (document) {\n    useEventListener(document, EVENT, () => {\n      isFullscreen.value = !!(document == null ? void 0 : document[ELEMENT]);\n    }, false);\n  }\n  if (autoExit)\n    tryOnScopeDispose(exit);\n  return {\n    isSupported,\n    isFullscreen,\n    enter,\n    exit,\n    toggle\n  };\n}\n\nfunction mapGamepadToXbox360Controller(gamepad) {\n  return computed(() => {\n    if (gamepad.value) {\n      return {\n        buttons: {\n          a: gamepad.value.buttons[0],\n          b: gamepad.value.buttons[1],\n          x: gamepad.value.buttons[2],\n          y: gamepad.value.buttons[3]\n        },\n        bumper: {\n          left: gamepad.value.buttons[4],\n          right: gamepad.value.buttons[5]\n        },\n        triggers: {\n          left: gamepad.value.buttons[6],\n          right: gamepad.value.buttons[7]\n        },\n        stick: {\n          left: {\n            horizontal: gamepad.value.axes[0],\n            vertical: gamepad.value.axes[1],\n            button: gamepad.value.buttons[10]\n          },\n          right: {\n            horizontal: gamepad.value.axes[2],\n            vertical: gamepad.value.axes[3],\n            button: gamepad.value.buttons[11]\n          }\n        },\n        dpad: {\n          up: gamepad.value.buttons[12],\n          down: gamepad.value.buttons[13],\n          left: gamepad.value.buttons[14],\n          right: gamepad.value.buttons[15]\n        },\n        back: gamepad.value.buttons[8],\n        start: gamepad.value.buttons[9]\n      };\n    }\n    return null;\n  });\n}\nfunction useGamepad(options = {}) {\n  const {\n    navigator = defaultNavigator\n  } = options;\n  const isSupported = useSupported(() => navigator && \"getGamepads\" in navigator);\n  const gamepads = ref([]);\n  const onConnectedHook = createEventHook();\n  const onDisconnectedHook = createEventHook();\n  const stateFromGamepad = (gamepad) => {\n    const hapticActuators = [];\n    const vibrationActuator = \"vibrationActuator\" in gamepad ? gamepad.vibrationActuator : null;\n    if (vibrationActuator)\n      hapticActuators.push(vibrationActuator);\n    if (gamepad.hapticActuators)\n      hapticActuators.push(...gamepad.hapticActuators);\n    return {\n      id: gamepad.id,\n      hapticActuators,\n      index: gamepad.index,\n      mapping: gamepad.mapping,\n      connected: gamepad.connected,\n      timestamp: gamepad.timestamp,\n      axes: gamepad.axes.map((axes) => axes),\n      buttons: gamepad.buttons.map((button) => ({ pressed: button.pressed, touched: button.touched, value: button.value }))\n    };\n  };\n  const updateGamepadState = () => {\n    const _gamepads = (navigator == null ? void 0 : navigator.getGamepads()) || [];\n    for (let i = 0; i < _gamepads.length; ++i) {\n      const gamepad = _gamepads[i];\n      if (gamepad) {\n        const index = gamepads.value.findIndex(({ index: index2 }) => index2 === gamepad.index);\n        if (index > -1)\n          gamepads.value[index] = stateFromGamepad(gamepad);\n      }\n    }\n  };\n  const { isActive, pause, resume } = useRafFn(updateGamepadState);\n  const onGamepadConnected = (gamepad) => {\n    if (!gamepads.value.some(({ index }) => index === gamepad.index)) {\n      gamepads.value.push(stateFromGamepad(gamepad));\n      onConnectedHook.trigger(gamepad.index);\n    }\n    resume();\n  };\n  const onGamepadDisconnected = (gamepad) => {\n    gamepads.value = gamepads.value.filter((x) => x.index !== gamepad.index);\n    onDisconnectedHook.trigger(gamepad.index);\n  };\n  useEventListener(\"gamepadconnected\", (e) => onGamepadConnected(e.gamepad));\n  useEventListener(\"gamepaddisconnected\", (e) => onGamepadDisconnected(e.gamepad));\n  tryOnMounted(() => {\n    const _gamepads = (navigator == null ? void 0 : navigator.getGamepads()) || [];\n    if (_gamepads) {\n      for (let i = 0; i < _gamepads.length; ++i) {\n        const gamepad = _gamepads[i];\n        if (gamepad)\n          onGamepadConnected(gamepad);\n      }\n    }\n  });\n  pause();\n  return {\n    isSupported,\n    onConnected: onConnectedHook.on,\n    onDisconnected: onDisconnectedHook.on,\n    gamepads,\n    pause,\n    resume,\n    isActive\n  };\n}\n\nfunction useGeolocation(options = {}) {\n  const {\n    enableHighAccuracy = true,\n    maximumAge = 3e4,\n    timeout = 27e3,\n    navigator = defaultNavigator\n  } = options;\n  const isSupported = useSupported(() => navigator && \"geolocation\" in navigator);\n  const locatedAt = ref(null);\n  const error = ref(null);\n  const coords = ref({\n    accuracy: 0,\n    latitude: Infinity,\n    longitude: Infinity,\n    altitude: null,\n    altitudeAccuracy: null,\n    heading: null,\n    speed: null\n  });\n  function updatePosition(position) {\n    locatedAt.value = position.timestamp;\n    coords.value = position.coords;\n    error.value = null;\n  }\n  let watcher;\n  if (isSupported.value) {\n    watcher = navigator.geolocation.watchPosition(updatePosition, (err) => error.value = err, {\n      enableHighAccuracy,\n      maximumAge,\n      timeout\n    });\n  }\n  tryOnScopeDispose(() => {\n    if (watcher && navigator)\n      navigator.geolocation.clearWatch(watcher);\n  });\n  return {\n    isSupported,\n    coords,\n    locatedAt,\n    error\n  };\n}\n\nconst defaultEvents$1 = [\"mousemove\", \"mousedown\", \"resize\", \"keydown\", \"touchstart\", \"wheel\"];\nconst oneMinute = 6e4;\nfunction useIdle(timeout = oneMinute, options = {}) {\n  const {\n    initialState = false,\n    listenForVisibilityChange = true,\n    events = defaultEvents$1,\n    window = defaultWindow,\n    eventFilter = throttleFilter(50)\n  } = options;\n  const idle = ref(initialState);\n  const lastActive = ref(timestamp());\n  let timer;\n  const onEvent = createFilterWrapper(eventFilter, () => {\n    idle.value = false;\n    lastActive.value = timestamp();\n    clearTimeout(timer);\n    timer = setTimeout(() => idle.value = true, timeout);\n  });\n  if (window) {\n    const document = window.document;\n    for (const event of events)\n      useEventListener(window, event, onEvent, { passive: true });\n    if (listenForVisibilityChange) {\n      useEventListener(document, \"visibilitychange\", () => {\n        if (!document.hidden)\n          onEvent();\n      });\n    }\n  }\n  timer = setTimeout(() => idle.value = true, timeout);\n  return { idle, lastActive };\n}\n\nvar __defProp$9 = Object.defineProperty;\nvar __getOwnPropSymbols$a = Object.getOwnPropertySymbols;\nvar __hasOwnProp$a = Object.prototype.hasOwnProperty;\nvar __propIsEnum$a = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$9 = (obj, key, value) => key in obj ? __defProp$9(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$9 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$a.call(b, prop))\n      __defNormalProp$9(a, prop, b[prop]);\n  if (__getOwnPropSymbols$a)\n    for (var prop of __getOwnPropSymbols$a(b)) {\n      if (__propIsEnum$a.call(b, prop))\n        __defNormalProp$9(a, prop, b[prop]);\n    }\n  return a;\n};\nasync function loadImage(options) {\n  return new Promise((resolve, reject) => {\n    const img = new Image();\n    const { src, srcset, sizes } = options;\n    img.src = src;\n    if (srcset)\n      img.srcset = srcset;\n    if (sizes)\n      img.sizes = sizes;\n    img.onload = () => resolve(img);\n    img.onerror = reject;\n  });\n}\nconst useImage = (options, asyncStateOptions = {}) => {\n  const state = useAsyncState(() => loadImage(resolveUnref(options)), void 0, __spreadValues$9({\n    resetOnExecute: true\n  }, asyncStateOptions));\n  watch(() => resolveUnref(options), () => state.execute(asyncStateOptions.delay), { deep: true });\n  return state;\n};\n\nconst ARRIVED_STATE_THRESHOLD_PIXELS = 1;\nfunction useScroll(element, options = {}) {\n  const {\n    throttle = 0,\n    idle = 200,\n    onStop = noop,\n    onScroll = noop,\n    offset = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    },\n    eventListenerOptions = {\n      capture: false,\n      passive: true\n    },\n    behavior = \"auto\"\n  } = options;\n  const internalX = ref(0);\n  const internalY = ref(0);\n  const x = computed({\n    get() {\n      return internalX.value;\n    },\n    set(x2) {\n      scrollTo(x2, void 0);\n    }\n  });\n  const y = computed({\n    get() {\n      return internalY.value;\n    },\n    set(y2) {\n      scrollTo(void 0, y2);\n    }\n  });\n  function scrollTo(_x, _y) {\n    var _a, _b, _c;\n    const _element = resolveUnref(element);\n    if (!_element)\n      return;\n    (_c = _element instanceof Document ? document.body : _element) == null ? void 0 : _c.scrollTo({\n      top: (_a = resolveUnref(_y)) != null ? _a : y.value,\n      left: (_b = resolveUnref(_x)) != null ? _b : x.value,\n      behavior: resolveUnref(behavior)\n    });\n  }\n  const isScrolling = ref(false);\n  const arrivedState = reactive({\n    left: true,\n    right: false,\n    top: true,\n    bottom: false\n  });\n  const directions = reactive({\n    left: false,\n    right: false,\n    top: false,\n    bottom: false\n  });\n  const onScrollEnd = useDebounceFn((e) => {\n    isScrolling.value = false;\n    directions.left = false;\n    directions.right = false;\n    directions.top = false;\n    directions.bottom = false;\n    onStop(e);\n  }, throttle + idle);\n  const onScrollHandler = (e) => {\n    const eventTarget = e.target === document ? e.target.documentElement : e.target;\n    const scrollLeft = eventTarget.scrollLeft;\n    directions.left = scrollLeft < internalX.value;\n    directions.right = scrollLeft > internalY.value;\n    arrivedState.left = scrollLeft <= 0 + (offset.left || 0);\n    arrivedState.right = scrollLeft + eventTarget.clientWidth >= eventTarget.scrollWidth - (offset.right || 0) - ARRIVED_STATE_THRESHOLD_PIXELS;\n    internalX.value = scrollLeft;\n    let scrollTop = eventTarget.scrollTop;\n    if (e.target === document && !scrollTop)\n      scrollTop = document.body.scrollTop;\n    directions.top = scrollTop < internalY.value;\n    directions.bottom = scrollTop > internalY.value;\n    arrivedState.top = scrollTop <= 0 + (offset.top || 0);\n    arrivedState.bottom = scrollTop + eventTarget.clientHeight >= eventTarget.scrollHeight - (offset.bottom || 0) - ARRIVED_STATE_THRESHOLD_PIXELS;\n    internalY.value = scrollTop;\n    isScrolling.value = true;\n    onScrollEnd(e);\n    onScroll(e);\n  };\n  useEventListener(element, \"scroll\", throttle ? useThrottleFn(onScrollHandler, throttle) : onScrollHandler, eventListenerOptions);\n  return {\n    x,\n    y,\n    isScrolling,\n    arrivedState,\n    directions\n  };\n}\n\nvar __defProp$8 = Object.defineProperty;\nvar __defProps$2 = Object.defineProperties;\nvar __getOwnPropDescs$2 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$9 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$9 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$9 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$8 = (obj, key, value) => key in obj ? __defProp$8(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$8 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$9.call(b, prop))\n      __defNormalProp$8(a, prop, b[prop]);\n  if (__getOwnPropSymbols$9)\n    for (var prop of __getOwnPropSymbols$9(b)) {\n      if (__propIsEnum$9.call(b, prop))\n        __defNormalProp$8(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps$2 = (a, b) => __defProps$2(a, __getOwnPropDescs$2(b));\nfunction useInfiniteScroll(element, onLoadMore, options = {}) {\n  var _a, _b;\n  const direction = (_a = options.direction) != null ? _a : \"bottom\";\n  const state = reactive(useScroll(element, __spreadProps$2(__spreadValues$8({}, options), {\n    offset: __spreadValues$8({\n      [direction]: (_b = options.distance) != null ? _b : 0\n    }, options.offset)\n  })));\n  watch(() => state.arrivedState[direction], async (v) => {\n    var _a2, _b2;\n    if (v) {\n      const elem = resolveUnref(element);\n      const previous = {\n        height: (_a2 = elem == null ? void 0 : elem.scrollHeight) != null ? _a2 : 0,\n        width: (_b2 = elem == null ? void 0 : elem.scrollWidth) != null ? _b2 : 0\n      };\n      await onLoadMore(state);\n      if (options.preserveScrollPosition && elem) {\n        nextTick(() => {\n          elem.scrollTo({\n            top: elem.scrollHeight - previous.height,\n            left: elem.scrollWidth - previous.width\n          });\n        });\n      }\n    }\n  });\n}\n\nfunction useIntersectionObserver(target, callback, options = {}) {\n  const {\n    root,\n    rootMargin = \"0px\",\n    threshold = 0.1,\n    window = defaultWindow\n  } = options;\n  const isSupported = useSupported(() => window && \"IntersectionObserver\" in window);\n  let cleanup = noop;\n  const stopWatch = isSupported.value ? watch(() => ({\n    el: unrefElement(target),\n    root: unrefElement(root)\n  }), ({ el, root: root2 }) => {\n    cleanup();\n    if (!el)\n      return;\n    const observer = new IntersectionObserver(callback, {\n      root: root2,\n      rootMargin,\n      threshold\n    });\n    observer.observe(el);\n    cleanup = () => {\n      observer.disconnect();\n      cleanup = noop;\n    };\n  }, { immediate: true, flush: \"post\" }) : noop;\n  const stop = () => {\n    cleanup();\n    stopWatch();\n  };\n  tryOnScopeDispose(stop);\n  return {\n    isSupported,\n    stop\n  };\n}\n\nconst defaultEvents = [\"mousedown\", \"mouseup\", \"keydown\", \"keyup\"];\nfunction useKeyModifier(modifier, options = {}) {\n  const {\n    events = defaultEvents,\n    document = defaultDocument,\n    initial = null\n  } = options;\n  const state = ref(initial);\n  if (document) {\n    events.forEach((listenerEvent) => {\n      useEventListener(document, listenerEvent, (evt) => {\n        if (typeof evt.getModifierState === \"function\")\n          state.value = evt.getModifierState(modifier);\n      });\n    });\n  }\n  return state;\n}\n\nfunction useLocalStorage(key, initialValue, options = {}) {\n  const { window = defaultWindow } = options;\n  return useStorage(key, initialValue, window == null ? void 0 : window.localStorage, options);\n}\n\nconst DefaultMagicKeysAliasMap = {\n  ctrl: \"control\",\n  command: \"meta\",\n  cmd: \"meta\",\n  option: \"alt\",\n  up: \"arrowup\",\n  down: \"arrowdown\",\n  left: \"arrowleft\",\n  right: \"arrowright\"\n};\n\nfunction useMagicKeys(options = {}) {\n  const {\n    reactive: useReactive = false,\n    target = defaultWindow,\n    aliasMap = DefaultMagicKeysAliasMap,\n    passive = true,\n    onEventFired = noop\n  } = options;\n  const current = reactive(new Set());\n  const obj = { toJSON() {\n    return {};\n  }, current };\n  const refs = useReactive ? reactive(obj) : obj;\n  const metaDeps = new Set();\n  const usedKeys = new Set();\n  function setRefs(key, value) {\n    if (key in refs) {\n      if (useReactive)\n        refs[key] = value;\n      else\n        refs[key].value = value;\n    }\n  }\n  function reset() {\n    for (const key of usedKeys)\n      setRefs(key, false);\n  }\n  function updateRefs(e, value) {\n    var _a, _b;\n    const key = (_a = e.key) == null ? void 0 : _a.toLowerCase();\n    const code = (_b = e.code) == null ? void 0 : _b.toLowerCase();\n    const values = [code, key].filter(Boolean);\n    if (key) {\n      if (value)\n        current.add(key);\n      else\n        current.delete(key);\n    }\n    for (const key2 of values) {\n      usedKeys.add(key2);\n      setRefs(key2, value);\n    }\n    if (key === \"meta\" && !value) {\n      metaDeps.forEach((key2) => {\n        current.delete(key2);\n        setRefs(key2, false);\n      });\n      metaDeps.clear();\n    } else if (typeof e.getModifierState === \"function\" && e.getModifierState(\"Meta\") && value) {\n      [...current, ...values].forEach((key2) => metaDeps.add(key2));\n    }\n  }\n  useEventListener(target, \"keydown\", (e) => {\n    updateRefs(e, true);\n    return onEventFired(e);\n  }, { passive });\n  useEventListener(target, \"keyup\", (e) => {\n    updateRefs(e, false);\n    return onEventFired(e);\n  }, { passive });\n  useEventListener(\"blur\", reset, { passive: true });\n  useEventListener(\"focus\", reset, { passive: true });\n  const proxy = new Proxy(refs, {\n    get(target2, prop, rec) {\n      if (typeof prop !== \"string\")\n        return Reflect.get(target2, prop, rec);\n      prop = prop.toLowerCase();\n      if (prop in aliasMap)\n        prop = aliasMap[prop];\n      if (!(prop in refs)) {\n        if (/[+_-]/.test(prop)) {\n          const keys = prop.split(/[+_-]/g).map((i) => i.trim());\n          refs[prop] = computed(() => keys.every((key) => unref(proxy[key])));\n        } else {\n          refs[prop] = ref(false);\n        }\n      }\n      const r = Reflect.get(target2, prop, rec);\n      return useReactive ? unref(r) : r;\n    }\n  });\n  return proxy;\n}\n\nvar __defProp$7 = Object.defineProperty;\nvar __getOwnPropSymbols$8 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$8 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$8 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$7 = (obj, key, value) => key in obj ? __defProp$7(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$7 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$8.call(b, prop))\n      __defNormalProp$7(a, prop, b[prop]);\n  if (__getOwnPropSymbols$8)\n    for (var prop of __getOwnPropSymbols$8(b)) {\n      if (__propIsEnum$8.call(b, prop))\n        __defNormalProp$7(a, prop, b[prop]);\n    }\n  return a;\n};\nfunction usingElRef(source, cb) {\n  if (resolveUnref(source))\n    cb(resolveUnref(source));\n}\nfunction timeRangeToArray(timeRanges) {\n  let ranges = [];\n  for (let i = 0; i < timeRanges.length; ++i)\n    ranges = [...ranges, [timeRanges.start(i), timeRanges.end(i)]];\n  return ranges;\n}\nfunction tracksToArray(tracks) {\n  return Array.from(tracks).map(({ label, kind, language, mode, activeCues, cues, inBandMetadataTrackDispatchType }, id) => ({ id, label, kind, language, mode, activeCues, cues, inBandMetadataTrackDispatchType }));\n}\nconst defaultOptions = {\n  src: \"\",\n  tracks: []\n};\nfunction useMediaControls(target, options = {}) {\n  options = __spreadValues$7(__spreadValues$7({}, defaultOptions), options);\n  const {\n    document = defaultDocument\n  } = options;\n  const currentTime = ref(0);\n  const duration = ref(0);\n  const seeking = ref(false);\n  const volume = ref(1);\n  const waiting = ref(false);\n  const ended = ref(false);\n  const playing = ref(false);\n  const rate = ref(1);\n  const stalled = ref(false);\n  const buffered = ref([]);\n  const tracks = ref([]);\n  const selectedTrack = ref(-1);\n  const isPictureInPicture = ref(false);\n  const muted = ref(false);\n  const supportsPictureInPicture = document && \"pictureInPictureEnabled\" in document;\n  const sourceErrorEvent = createEventHook();\n  const disableTrack = (track) => {\n    usingElRef(target, (el) => {\n      if (track) {\n        const id = isNumber(track) ? track : track.id;\n        el.textTracks[id].mode = \"disabled\";\n      } else {\n        for (let i = 0; i < el.textTracks.length; ++i)\n          el.textTracks[i].mode = \"disabled\";\n      }\n      selectedTrack.value = -1;\n    });\n  };\n  const enableTrack = (track, disableTracks = true) => {\n    usingElRef(target, (el) => {\n      const id = isNumber(track) ? track : track.id;\n      if (disableTracks)\n        disableTrack();\n      el.textTracks[id].mode = \"showing\";\n      selectedTrack.value = id;\n    });\n  };\n  const togglePictureInPicture = () => {\n    return new Promise((resolve, reject) => {\n      usingElRef(target, async (el) => {\n        if (supportsPictureInPicture) {\n          if (!isPictureInPicture.value) {\n            el.requestPictureInPicture().then(resolve).catch(reject);\n          } else {\n            document.exitPictureInPicture().then(resolve).catch(reject);\n          }\n        }\n      });\n    });\n  };\n  watchEffect(() => {\n    if (!document)\n      return;\n    const el = resolveUnref(target);\n    if (!el)\n      return;\n    const src = resolveUnref(options.src);\n    let sources = [];\n    if (!src)\n      return;\n    if (isString(src))\n      sources = [{ src }];\n    else if (Array.isArray(src))\n      sources = src;\n    else if (isObject(src))\n      sources = [src];\n    el.querySelectorAll(\"source\").forEach((e) => {\n      e.removeEventListener(\"error\", sourceErrorEvent.trigger);\n      e.remove();\n    });\n    sources.forEach(({ src: src2, type }) => {\n      const source = document.createElement(\"source\");\n      source.setAttribute(\"src\", src2);\n      source.setAttribute(\"type\", type || \"\");\n      source.addEventListener(\"error\", sourceErrorEvent.trigger);\n      el.appendChild(source);\n    });\n    el.load();\n  });\n  tryOnScopeDispose(() => {\n    const el = resolveUnref(target);\n    if (!el)\n      return;\n    el.querySelectorAll(\"source\").forEach((e) => e.removeEventListener(\"error\", sourceErrorEvent.trigger));\n  });\n  watch(volume, (vol) => {\n    const el = resolveUnref(target);\n    if (!el)\n      return;\n    el.volume = vol;\n  });\n  watch(muted, (mute) => {\n    const el = resolveUnref(target);\n    if (!el)\n      return;\n    el.muted = mute;\n  });\n  watch(rate, (rate2) => {\n    const el = resolveUnref(target);\n    if (!el)\n      return;\n    el.playbackRate = rate2;\n  });\n  watchEffect(() => {\n    if (!document)\n      return;\n    const textTracks = resolveUnref(options.tracks);\n    const el = resolveUnref(target);\n    if (!textTracks || !textTracks.length || !el)\n      return;\n    el.querySelectorAll(\"track\").forEach((e) => e.remove());\n    textTracks.forEach(({ default: isDefault, kind, label, src, srcLang }, i) => {\n      const track = document.createElement(\"track\");\n      track.default = isDefault || false;\n      track.kind = kind;\n      track.label = label;\n      track.src = src;\n      track.srclang = srcLang;\n      if (track.default)\n        selectedTrack.value = i;\n      el.appendChild(track);\n    });\n  });\n  const { ignoreUpdates: ignoreCurrentTimeUpdates } = watchIgnorable(currentTime, (time) => {\n    const el = resolveUnref(target);\n    if (!el)\n      return;\n    el.currentTime = time;\n  });\n  const { ignoreUpdates: ignorePlayingUpdates } = watchIgnorable(playing, (isPlaying) => {\n    const el = resolveUnref(target);\n    if (!el)\n      return;\n    isPlaying ? el.play() : el.pause();\n  });\n  useEventListener(target, \"timeupdate\", () => ignoreCurrentTimeUpdates(() => currentTime.value = resolveUnref(target).currentTime));\n  useEventListener(target, \"durationchange\", () => duration.value = resolveUnref(target).duration);\n  useEventListener(target, \"progress\", () => buffered.value = timeRangeToArray(resolveUnref(target).buffered));\n  useEventListener(target, \"seeking\", () => seeking.value = true);\n  useEventListener(target, \"seeked\", () => seeking.value = false);\n  useEventListener(target, \"waiting\", () => waiting.value = true);\n  useEventListener(target, \"playing\", () => waiting.value = false);\n  useEventListener(target, \"ratechange\", () => rate.value = resolveUnref(target).playbackRate);\n  useEventListener(target, \"stalled\", () => stalled.value = true);\n  useEventListener(target, \"ended\", () => ended.value = true);\n  useEventListener(target, \"pause\", () => ignorePlayingUpdates(() => playing.value = false));\n  useEventListener(target, \"play\", () => ignorePlayingUpdates(() => playing.value = true));\n  useEventListener(target, \"enterpictureinpicture\", () => isPictureInPicture.value = true);\n  useEventListener(target, \"leavepictureinpicture\", () => isPictureInPicture.value = false);\n  useEventListener(target, \"volumechange\", () => {\n    const el = resolveUnref(target);\n    if (!el)\n      return;\n    volume.value = el.volume;\n    muted.value = el.muted;\n  });\n  const listeners = [];\n  const stop = watch([target], () => {\n    const el = resolveUnref(target);\n    if (!el)\n      return;\n    stop();\n    listeners[0] = useEventListener(el.textTracks, \"addtrack\", () => tracks.value = tracksToArray(el.textTracks));\n    listeners[1] = useEventListener(el.textTracks, \"removetrack\", () => tracks.value = tracksToArray(el.textTracks));\n    listeners[2] = useEventListener(el.textTracks, \"change\", () => tracks.value = tracksToArray(el.textTracks));\n  });\n  tryOnScopeDispose(() => listeners.forEach((listener) => listener()));\n  return {\n    currentTime,\n    duration,\n    waiting,\n    seeking,\n    ended,\n    stalled,\n    buffered,\n    playing,\n    rate,\n    volume,\n    muted,\n    tracks,\n    selectedTrack,\n    enableTrack,\n    disableTrack,\n    supportsPictureInPicture,\n    togglePictureInPicture,\n    isPictureInPicture,\n    onSourceError: sourceErrorEvent.on\n  };\n}\n\nconst getMapVue2Compat = () => {\n  const data = reactive({});\n  return {\n    get: (key) => data[key],\n    set: (key, value) => set(data, key, value),\n    has: (key) => hasOwn(data, key),\n    delete: (key) => del(data, key),\n    clear: () => {\n      Object.keys(data).forEach((key) => {\n        del(data, key);\n      });\n    }\n  };\n};\nfunction useMemoize(resolver, options) {\n  const initCache = () => {\n    if (options == null ? void 0 : options.cache)\n      return reactive(options.cache);\n    if (isVue2)\n      return getMapVue2Compat();\n    return reactive(new Map());\n  };\n  const cache = initCache();\n  const generateKey = (...args) => (options == null ? void 0 : options.getKey) ? options.getKey(...args) : JSON.stringify(args);\n  const _loadData = (key, ...args) => {\n    cache.set(key, resolver(...args));\n    return cache.get(key);\n  };\n  const loadData = (...args) => _loadData(generateKey(...args), ...args);\n  const deleteData = (...args) => {\n    cache.delete(generateKey(...args));\n  };\n  const clearData = () => {\n    cache.clear();\n  };\n  const memoized = (...args) => {\n    const key = generateKey(...args);\n    if (cache.has(key))\n      return cache.get(key);\n    return _loadData(key, ...args);\n  };\n  memoized.load = loadData;\n  memoized.delete = deleteData;\n  memoized.clear = clearData;\n  memoized.generateKey = generateKey;\n  memoized.cache = cache;\n  return memoized;\n}\n\nfunction useMemory(options = {}) {\n  const memory = ref();\n  const isSupported = useSupported(() => typeof performance !== \"undefined\" && \"memory\" in performance);\n  if (isSupported.value) {\n    const { interval = 1e3 } = options;\n    useIntervalFn(() => {\n      memory.value = performance.memory;\n    }, interval, { immediate: options.immediate, immediateCallback: options.immediateCallback });\n  }\n  return { isSupported, memory };\n}\n\nfunction useMounted() {\n  const isMounted = ref(false);\n  onMounted(() => {\n    isMounted.value = true;\n  });\n  return isMounted;\n}\n\nfunction useMouse(options = {}) {\n  const {\n    type = \"page\",\n    touch = true,\n    resetOnTouchEnds = false,\n    initialValue = { x: 0, y: 0 },\n    window = defaultWindow,\n    eventFilter\n  } = options;\n  const x = ref(initialValue.x);\n  const y = ref(initialValue.y);\n  const sourceType = ref(null);\n  const mouseHandler = (event) => {\n    if (type === \"page\") {\n      x.value = event.pageX;\n      y.value = event.pageY;\n    } else if (type === \"client\") {\n      x.value = event.clientX;\n      y.value = event.clientY;\n    }\n    sourceType.value = \"mouse\";\n  };\n  const reset = () => {\n    x.value = initialValue.x;\n    y.value = initialValue.y;\n  };\n  const touchHandler = (event) => {\n    if (event.touches.length > 0) {\n      const touch2 = event.touches[0];\n      if (type === \"page\") {\n        x.value = touch2.pageX;\n        y.value = touch2.pageY;\n      } else if (type === \"client\") {\n        x.value = touch2.clientX;\n        y.value = touch2.clientY;\n      }\n      sourceType.value = \"touch\";\n    }\n  };\n  const mouseHandlerWrapper = (event) => {\n    return eventFilter === void 0 ? mouseHandler(event) : eventFilter(() => mouseHandler(event), {});\n  };\n  const touchHandlerWrapper = (event) => {\n    return eventFilter === void 0 ? touchHandler(event) : eventFilter(() => touchHandler(event), {});\n  };\n  if (window) {\n    useEventListener(window, \"mousemove\", mouseHandlerWrapper, { passive: true });\n    useEventListener(window, \"dragover\", mouseHandlerWrapper, { passive: true });\n    if (touch) {\n      useEventListener(window, \"touchstart\", touchHandlerWrapper, { passive: true });\n      useEventListener(window, \"touchmove\", touchHandlerWrapper, { passive: true });\n      if (resetOnTouchEnds)\n        useEventListener(window, \"touchend\", reset, { passive: true });\n    }\n  }\n  return {\n    x,\n    y,\n    sourceType\n  };\n}\n\nfunction useMouseInElement(target, options = {}) {\n  const {\n    handleOutside = true,\n    window = defaultWindow\n  } = options;\n  const { x, y, sourceType } = useMouse(options);\n  const targetRef = ref(target != null ? target : window == null ? void 0 : window.document.body);\n  const elementX = ref(0);\n  const elementY = ref(0);\n  const elementPositionX = ref(0);\n  const elementPositionY = ref(0);\n  const elementHeight = ref(0);\n  const elementWidth = ref(0);\n  const isOutside = ref(true);\n  let stop = () => {\n  };\n  if (window) {\n    stop = watch([targetRef, x, y], () => {\n      const el = unrefElement(targetRef);\n      if (!el)\n        return;\n      const {\n        left,\n        top,\n        width,\n        height\n      } = el.getBoundingClientRect();\n      elementPositionX.value = left + window.pageXOffset;\n      elementPositionY.value = top + window.pageYOffset;\n      elementHeight.value = height;\n      elementWidth.value = width;\n      const elX = x.value - elementPositionX.value;\n      const elY = y.value - elementPositionY.value;\n      isOutside.value = width === 0 || height === 0 || elX < 0 || elY < 0 || elX > width || elY > height;\n      if (handleOutside || !isOutside.value) {\n        elementX.value = elX;\n        elementY.value = elY;\n      }\n    }, { immediate: true });\n  }\n  return {\n    x,\n    y,\n    sourceType,\n    elementX,\n    elementY,\n    elementPositionX,\n    elementPositionY,\n    elementHeight,\n    elementWidth,\n    isOutside,\n    stop\n  };\n}\n\nfunction useMousePressed(options = {}) {\n  const {\n    touch = true,\n    drag = true,\n    initialValue = false,\n    window = defaultWindow\n  } = options;\n  const pressed = ref(initialValue);\n  const sourceType = ref(null);\n  if (!window) {\n    return {\n      pressed,\n      sourceType\n    };\n  }\n  const onPressed = (srcType) => () => {\n    pressed.value = true;\n    sourceType.value = srcType;\n  };\n  const onReleased = () => {\n    pressed.value = false;\n    sourceType.value = null;\n  };\n  const target = computed(() => unrefElement(options.target) || window);\n  useEventListener(target, \"mousedown\", onPressed(\"mouse\"), { passive: true });\n  useEventListener(window, \"mouseleave\", onReleased, { passive: true });\n  useEventListener(window, \"mouseup\", onReleased, { passive: true });\n  if (drag) {\n    useEventListener(target, \"dragstart\", onPressed(\"mouse\"), { passive: true });\n    useEventListener(window, \"drop\", onReleased, { passive: true });\n    useEventListener(window, \"dragend\", onReleased, { passive: true });\n  }\n  if (touch) {\n    useEventListener(target, \"touchstart\", onPressed(\"touch\"), { passive: true });\n    useEventListener(window, \"touchend\", onReleased, { passive: true });\n    useEventListener(window, \"touchcancel\", onReleased, { passive: true });\n  }\n  return {\n    pressed,\n    sourceType\n  };\n}\n\nvar __getOwnPropSymbols$7 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$7 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$7 = Object.prototype.propertyIsEnumerable;\nvar __objRest$1 = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp$7.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols$7)\n    for (var prop of __getOwnPropSymbols$7(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum$7.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nfunction useMutationObserver(target, callback, options = {}) {\n  const _a = options, { window = defaultWindow } = _a, mutationOptions = __objRest$1(_a, [\"window\"]);\n  let observer;\n  const isSupported = useSupported(() => window && \"MutationObserver\" in window);\n  const cleanup = () => {\n    if (observer) {\n      observer.disconnect();\n      observer = void 0;\n    }\n  };\n  const stopWatch = watch(() => unrefElement(target), (el) => {\n    cleanup();\n    if (isSupported.value && window && el) {\n      observer = new MutationObserver(callback);\n      observer.observe(el, mutationOptions);\n    }\n  }, { immediate: true });\n  const stop = () => {\n    cleanup();\n    stopWatch();\n  };\n  tryOnScopeDispose(stop);\n  return {\n    isSupported,\n    stop\n  };\n}\n\nconst useNavigatorLanguage = (options = {}) => {\n  const { window = defaultWindow } = options;\n  const navigator = window == null ? void 0 : window.navigator;\n  const isSupported = useSupported(() => navigator && \"language\" in navigator);\n  const language = ref(navigator == null ? void 0 : navigator.language);\n  useEventListener(window, \"languagechange\", () => {\n    if (navigator)\n      language.value = navigator.language;\n  });\n  return {\n    isSupported,\n    language\n  };\n};\n\nfunction useNetwork(options = {}) {\n  const { window = defaultWindow } = options;\n  const navigator = window == null ? void 0 : window.navigator;\n  const isSupported = useSupported(() => navigator && \"connection\" in navigator);\n  const isOnline = ref(true);\n  const saveData = ref(false);\n  const offlineAt = ref(void 0);\n  const onlineAt = ref(void 0);\n  const downlink = ref(void 0);\n  const downlinkMax = ref(void 0);\n  const rtt = ref(void 0);\n  const effectiveType = ref(void 0);\n  const type = ref(\"unknown\");\n  const connection = isSupported.value && navigator.connection;\n  function updateNetworkInformation() {\n    if (!navigator)\n      return;\n    isOnline.value = navigator.onLine;\n    offlineAt.value = isOnline.value ? void 0 : Date.now();\n    onlineAt.value = isOnline.value ? Date.now() : void 0;\n    if (connection) {\n      downlink.value = connection.downlink;\n      downlinkMax.value = connection.downlinkMax;\n      effectiveType.value = connection.effectiveType;\n      rtt.value = connection.rtt;\n      saveData.value = connection.saveData;\n      type.value = connection.type;\n    }\n  }\n  if (window) {\n    useEventListener(window, \"offline\", () => {\n      isOnline.value = false;\n      offlineAt.value = Date.now();\n    });\n    useEventListener(window, \"online\", () => {\n      isOnline.value = true;\n      onlineAt.value = Date.now();\n    });\n  }\n  if (connection)\n    useEventListener(connection, \"change\", updateNetworkInformation, false);\n  updateNetworkInformation();\n  return {\n    isSupported,\n    isOnline,\n    saveData,\n    offlineAt,\n    onlineAt,\n    downlink,\n    downlinkMax,\n    effectiveType,\n    rtt,\n    type\n  };\n}\n\nvar __defProp$6 = Object.defineProperty;\nvar __getOwnPropSymbols$6 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$6 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$6 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$6 = (obj, key, value) => key in obj ? __defProp$6(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$6 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$6.call(b, prop))\n      __defNormalProp$6(a, prop, b[prop]);\n  if (__getOwnPropSymbols$6)\n    for (var prop of __getOwnPropSymbols$6(b)) {\n      if (__propIsEnum$6.call(b, prop))\n        __defNormalProp$6(a, prop, b[prop]);\n    }\n  return a;\n};\nfunction useNow(options = {}) {\n  const {\n    controls: exposeControls = false,\n    interval = \"requestAnimationFrame\"\n  } = options;\n  const now = ref(new Date());\n  const update = () => now.value = new Date();\n  const controls = interval === \"requestAnimationFrame\" ? useRafFn(update, { immediate: true }) : useIntervalFn(update, interval, { immediate: true });\n  if (exposeControls) {\n    return __spreadValues$6({\n      now\n    }, controls);\n  } else {\n    return now;\n  }\n}\n\nfunction useObjectUrl(object) {\n  const url = ref();\n  const release = () => {\n    if (url.value)\n      URL.revokeObjectURL(url.value);\n    url.value = void 0;\n  };\n  watch(() => unref(object), (newObject) => {\n    release();\n    if (newObject)\n      url.value = URL.createObjectURL(newObject);\n  }, { immediate: true });\n  tryOnScopeDispose(release);\n  return readonly(url);\n}\n\nfunction useClamp(value, min, max) {\n  const _value = ref(value);\n  return computed({\n    get() {\n      return _value.value = clamp(_value.value, resolveUnref(min), resolveUnref(max));\n    },\n    set(value2) {\n      _value.value = clamp(value2, resolveUnref(min), resolveUnref(max));\n    }\n  });\n}\n\nfunction useOffsetPagination(options) {\n  const {\n    total = Infinity,\n    pageSize = 10,\n    page = 1,\n    onPageChange = noop,\n    onPageSizeChange = noop,\n    onPageCountChange = noop\n  } = options;\n  const currentPageSize = useClamp(pageSize, 1, Infinity);\n  const pageCount = computed(() => Math.max(1, Math.ceil(unref(total) / unref(currentPageSize))));\n  const currentPage = useClamp(page, 1, pageCount);\n  const isFirstPage = computed(() => currentPage.value === 1);\n  const isLastPage = computed(() => currentPage.value === pageCount.value);\n  if (isRef(page))\n    syncRef(page, currentPage);\n  if (isRef(pageSize))\n    syncRef(pageSize, currentPageSize);\n  function prev() {\n    currentPage.value--;\n  }\n  function next() {\n    currentPage.value++;\n  }\n  const returnValue = {\n    currentPage,\n    currentPageSize,\n    pageCount,\n    isFirstPage,\n    isLastPage,\n    prev,\n    next\n  };\n  watch(currentPage, () => {\n    onPageChange(reactive(returnValue));\n  });\n  watch(currentPageSize, () => {\n    onPageSizeChange(reactive(returnValue));\n  });\n  watch(pageCount, () => {\n    onPageCountChange(reactive(returnValue));\n  });\n  return returnValue;\n}\n\nfunction useOnline(options = {}) {\n  const { isOnline } = useNetwork(options);\n  return isOnline;\n}\n\nfunction usePageLeave(options = {}) {\n  const { window = defaultWindow } = options;\n  const isLeft = ref(false);\n  const handler = (event) => {\n    if (!window)\n      return;\n    event = event || window.event;\n    const from = event.relatedTarget || event.toElement;\n    isLeft.value = !from;\n  };\n  if (window) {\n    useEventListener(window, \"mouseout\", handler, { passive: true });\n    useEventListener(window.document, \"mouseleave\", handler, { passive: true });\n    useEventListener(window.document, \"mouseenter\", handler, { passive: true });\n  }\n  return isLeft;\n}\n\nfunction useParallax(target, options = {}) {\n  const {\n    deviceOrientationTiltAdjust = (i) => i,\n    deviceOrientationRollAdjust = (i) => i,\n    mouseTiltAdjust = (i) => i,\n    mouseRollAdjust = (i) => i,\n    window = defaultWindow\n  } = options;\n  const orientation = reactive(useDeviceOrientation({ window }));\n  const {\n    elementX: x,\n    elementY: y,\n    elementWidth: width,\n    elementHeight: height\n  } = useMouseInElement(target, { handleOutside: false, window });\n  const source = computed(() => {\n    if (orientation.isSupported && (orientation.alpha != null && orientation.alpha !== 0 || orientation.gamma != null && orientation.gamma !== 0))\n      return \"deviceOrientation\";\n    return \"mouse\";\n  });\n  const roll = computed(() => {\n    if (source.value === \"deviceOrientation\") {\n      const value = -orientation.beta / 90;\n      return deviceOrientationRollAdjust(value);\n    } else {\n      const value = -(y.value - height.value / 2) / height.value;\n      return mouseRollAdjust(value);\n    }\n  });\n  const tilt = computed(() => {\n    if (source.value === \"deviceOrientation\") {\n      const value = orientation.gamma / 90;\n      return deviceOrientationTiltAdjust(value);\n    } else {\n      const value = (x.value - width.value / 2) / width.value;\n      return mouseTiltAdjust(value);\n    }\n  });\n  return { roll, tilt, source };\n}\n\nvar __defProp$5 = Object.defineProperty;\nvar __defProps$1 = Object.defineProperties;\nvar __getOwnPropDescs$1 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$5 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$5 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$5 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$5 = (obj, key, value) => key in obj ? __defProp$5(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$5 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$5.call(b, prop))\n      __defNormalProp$5(a, prop, b[prop]);\n  if (__getOwnPropSymbols$5)\n    for (var prop of __getOwnPropSymbols$5(b)) {\n      if (__propIsEnum$5.call(b, prop))\n        __defNormalProp$5(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps$1 = (a, b) => __defProps$1(a, __getOwnPropDescs$1(b));\nconst defaultState = {\n  x: 0,\n  y: 0,\n  pointerId: 0,\n  pressure: 0,\n  tiltX: 0,\n  tiltY: 0,\n  width: 0,\n  height: 0,\n  twist: 0,\n  pointerType: null\n};\nconst keys = /* @__PURE__ */ Object.keys(defaultState);\nfunction usePointer(options = {}) {\n  const {\n    target = defaultWindow\n  } = options;\n  const isInside = ref(false);\n  const state = ref(options.initialValue || {});\n  Object.assign(state.value, defaultState, state.value);\n  const handler = (event) => {\n    isInside.value = true;\n    if (options.pointerTypes && !options.pointerTypes.includes(event.pointerType))\n      return;\n    state.value = objectPick(event, keys, false);\n  };\n  if (target) {\n    useEventListener(target, \"pointerdown\", handler, { passive: true });\n    useEventListener(target, \"pointermove\", handler, { passive: true });\n    useEventListener(target, \"pointerleave\", () => isInside.value = false, { passive: true });\n  }\n  return __spreadProps$1(__spreadValues$5({}, toRefs(state)), {\n    isInside\n  });\n}\n\nvar SwipeDirection;\n(function(SwipeDirection2) {\n  SwipeDirection2[\"UP\"] = \"UP\";\n  SwipeDirection2[\"RIGHT\"] = \"RIGHT\";\n  SwipeDirection2[\"DOWN\"] = \"DOWN\";\n  SwipeDirection2[\"LEFT\"] = \"LEFT\";\n  SwipeDirection2[\"NONE\"] = \"NONE\";\n})(SwipeDirection || (SwipeDirection = {}));\nfunction useSwipe(target, options = {}) {\n  const {\n    threshold = 50,\n    onSwipe,\n    onSwipeEnd,\n    onSwipeStart,\n    passive = true,\n    window = defaultWindow\n  } = options;\n  const coordsStart = reactive({ x: 0, y: 0 });\n  const coordsEnd = reactive({ x: 0, y: 0 });\n  const diffX = computed(() => coordsStart.x - coordsEnd.x);\n  const diffY = computed(() => coordsStart.y - coordsEnd.y);\n  const { max, abs } = Math;\n  const isThresholdExceeded = computed(() => max(abs(diffX.value), abs(diffY.value)) >= threshold);\n  const isSwiping = ref(false);\n  const direction = computed(() => {\n    if (!isThresholdExceeded.value)\n      return SwipeDirection.NONE;\n    if (abs(diffX.value) > abs(diffY.value)) {\n      return diffX.value > 0 ? SwipeDirection.LEFT : SwipeDirection.RIGHT;\n    } else {\n      return diffY.value > 0 ? SwipeDirection.UP : SwipeDirection.DOWN;\n    }\n  });\n  const getTouchEventCoords = (e) => [e.touches[0].clientX, e.touches[0].clientY];\n  const updateCoordsStart = (x, y) => {\n    coordsStart.x = x;\n    coordsStart.y = y;\n  };\n  const updateCoordsEnd = (x, y) => {\n    coordsEnd.x = x;\n    coordsEnd.y = y;\n  };\n  let listenerOptions;\n  const isPassiveEventSupported = checkPassiveEventSupport(window == null ? void 0 : window.document);\n  if (!passive)\n    listenerOptions = isPassiveEventSupported ? { passive: false, capture: true } : { capture: true };\n  else\n    listenerOptions = isPassiveEventSupported ? { passive: true } : { capture: false };\n  const onTouchEnd = (e) => {\n    if (isSwiping.value)\n      onSwipeEnd == null ? void 0 : onSwipeEnd(e, direction.value);\n    isSwiping.value = false;\n  };\n  const stops = [\n    useEventListener(target, \"touchstart\", (e) => {\n      if (listenerOptions.capture && !listenerOptions.passive)\n        e.preventDefault();\n      const [x, y] = getTouchEventCoords(e);\n      updateCoordsStart(x, y);\n      updateCoordsEnd(x, y);\n      onSwipeStart == null ? void 0 : onSwipeStart(e);\n    }, listenerOptions),\n    useEventListener(target, \"touchmove\", (e) => {\n      const [x, y] = getTouchEventCoords(e);\n      updateCoordsEnd(x, y);\n      if (!isSwiping.value && isThresholdExceeded.value)\n        isSwiping.value = true;\n      if (isSwiping.value)\n        onSwipe == null ? void 0 : onSwipe(e);\n    }, listenerOptions),\n    useEventListener(target, \"touchend\", onTouchEnd, listenerOptions),\n    useEventListener(target, \"touchcancel\", onTouchEnd, listenerOptions)\n  ];\n  const stop = () => stops.forEach((s) => s());\n  return {\n    isPassiveEventSupported,\n    isSwiping,\n    direction,\n    coordsStart,\n    coordsEnd,\n    lengthX: diffX,\n    lengthY: diffY,\n    stop\n  };\n}\nfunction checkPassiveEventSupport(document) {\n  if (!document)\n    return false;\n  let supportsPassive = false;\n  const optionsBlock = {\n    get passive() {\n      supportsPassive = true;\n      return false;\n    }\n  };\n  document.addEventListener(\"x\", noop, optionsBlock);\n  document.removeEventListener(\"x\", noop);\n  return supportsPassive;\n}\n\nfunction usePointerSwipe(target, options = {}) {\n  const targetRef = resolveRef(target);\n  const {\n    threshold = 50,\n    onSwipe,\n    onSwipeEnd,\n    onSwipeStart\n  } = options;\n  const posStart = reactive({ x: 0, y: 0 });\n  const updatePosStart = (x, y) => {\n    posStart.x = x;\n    posStart.y = y;\n  };\n  const posEnd = reactive({ x: 0, y: 0 });\n  const updatePosEnd = (x, y) => {\n    posEnd.x = x;\n    posEnd.y = y;\n  };\n  const distanceX = computed(() => posStart.x - posEnd.x);\n  const distanceY = computed(() => posStart.y - posEnd.y);\n  const { max, abs } = Math;\n  const isThresholdExceeded = computed(() => max(abs(distanceX.value), abs(distanceY.value)) >= threshold);\n  const isSwiping = ref(false);\n  const isPointerDown = ref(false);\n  const direction = computed(() => {\n    if (!isThresholdExceeded.value)\n      return SwipeDirection.NONE;\n    if (abs(distanceX.value) > abs(distanceY.value)) {\n      return distanceX.value > 0 ? SwipeDirection.LEFT : SwipeDirection.RIGHT;\n    } else {\n      return distanceY.value > 0 ? SwipeDirection.UP : SwipeDirection.DOWN;\n    }\n  });\n  const filterEvent = (e) => {\n    if (options.pointerTypes)\n      return options.pointerTypes.includes(e.pointerType);\n    return true;\n  };\n  const stops = [\n    useEventListener(target, \"pointerdown\", (e) => {\n      var _a, _b;\n      if (!filterEvent(e))\n        return;\n      isPointerDown.value = true;\n      (_b = (_a = targetRef.value) == null ? void 0 : _a.style) == null ? void 0 : _b.setProperty(\"touch-action\", \"none\");\n      const eventTarget = e.target;\n      eventTarget == null ? void 0 : eventTarget.setPointerCapture(e.pointerId);\n      const { clientX: x, clientY: y } = e;\n      updatePosStart(x, y);\n      updatePosEnd(x, y);\n      onSwipeStart == null ? void 0 : onSwipeStart(e);\n    }),\n    useEventListener(target, \"pointermove\", (e) => {\n      if (!filterEvent(e))\n        return;\n      if (!isPointerDown.value)\n        return;\n      const { clientX: x, clientY: y } = e;\n      updatePosEnd(x, y);\n      if (!isSwiping.value && isThresholdExceeded.value)\n        isSwiping.value = true;\n      if (isSwiping.value)\n        onSwipe == null ? void 0 : onSwipe(e);\n    }),\n    useEventListener(target, \"pointerup\", (e) => {\n      var _a, _b;\n      if (!filterEvent(e))\n        return;\n      if (isSwiping.value)\n        onSwipeEnd == null ? void 0 : onSwipeEnd(e, direction.value);\n      isPointerDown.value = false;\n      isSwiping.value = false;\n      (_b = (_a = targetRef.value) == null ? void 0 : _a.style) == null ? void 0 : _b.setProperty(\"touch-action\", \"initial\");\n    })\n  ];\n  const stop = () => stops.forEach((s) => s());\n  return {\n    isSwiping: readonly(isSwiping),\n    direction: readonly(direction),\n    posStart: readonly(posStart),\n    posEnd: readonly(posEnd),\n    distanceX,\n    distanceY,\n    stop\n  };\n}\n\nfunction usePreferredColorScheme(options) {\n  const isLight = useMediaQuery(\"(prefers-color-scheme: light)\", options);\n  const isDark = useMediaQuery(\"(prefers-color-scheme: dark)\", options);\n  return computed(() => {\n    if (isDark.value)\n      return \"dark\";\n    if (isLight.value)\n      return \"light\";\n    return \"no-preference\";\n  });\n}\n\nfunction usePreferredContrast(options) {\n  const isMore = useMediaQuery(\"(prefers-contrast: more)\", options);\n  const isLess = useMediaQuery(\"(prefers-contrast: less)\", options);\n  const isCustom = useMediaQuery(\"(prefers-contrast: custom)\", options);\n  return computed(() => {\n    if (isMore.value)\n      return \"more\";\n    if (isLess.value)\n      return \"less\";\n    if (isCustom.value)\n      return \"custom\";\n    return \"no-preference\";\n  });\n}\n\nfunction usePreferredLanguages(options = {}) {\n  const { window = defaultWindow } = options;\n  if (!window)\n    return ref([\"en\"]);\n  const navigator = window.navigator;\n  const value = ref(navigator.languages);\n  useEventListener(window, \"languagechange\", () => {\n    value.value = navigator.languages;\n  });\n  return value;\n}\n\nfunction usePreferredReducedMotion(options) {\n  const isReduced = useMediaQuery(\"(prefers-reduced-motion: reduce)\", options);\n  return computed(() => {\n    if (isReduced.value)\n      return \"reduce\";\n    return \"no-preference\";\n  });\n}\n\nconst useScreenOrientation = (options = {}) => {\n  const {\n    window = defaultWindow\n  } = options;\n  const isSupported = useSupported(() => window && \"screen\" in window && \"orientation\" in window.screen);\n  const screenOrientation = isSupported.value ? window.screen.orientation : {};\n  const orientation = ref(screenOrientation.type);\n  const angle = ref(screenOrientation.angle || 0);\n  if (isSupported.value) {\n    useEventListener(window, \"orientationchange\", () => {\n      orientation.value = screenOrientation.type;\n      angle.value = screenOrientation.angle;\n    });\n  }\n  const lockOrientation = (type) => {\n    if (!isSupported.value)\n      return Promise.reject(new Error(\"Not supported\"));\n    return screenOrientation.lock(type);\n  };\n  const unlockOrientation = () => {\n    if (isSupported.value)\n      screenOrientation.unlock();\n  };\n  return {\n    isSupported,\n    orientation,\n    angle,\n    lockOrientation,\n    unlockOrientation\n  };\n};\n\nconst topVarName = \"--vueuse-safe-area-top\";\nconst rightVarName = \"--vueuse-safe-area-right\";\nconst bottomVarName = \"--vueuse-safe-area-bottom\";\nconst leftVarName = \"--vueuse-safe-area-left\";\nfunction useScreenSafeArea() {\n  const top = ref(\"\");\n  const right = ref(\"\");\n  const bottom = ref(\"\");\n  const left = ref(\"\");\n  if (isClient) {\n    const topCssVar = useCssVar(topVarName);\n    const rightCssVar = useCssVar(rightVarName);\n    const bottomCssVar = useCssVar(bottomVarName);\n    const leftCssVar = useCssVar(leftVarName);\n    topCssVar.value = \"env(safe-area-inset-top, 0px)\";\n    rightCssVar.value = \"env(safe-area-inset-right, 0px)\";\n    bottomCssVar.value = \"env(safe-area-inset-bottom, 0px)\";\n    leftCssVar.value = \"env(safe-area-inset-left, 0px)\";\n    update();\n    useEventListener(\"resize\", useDebounceFn(update));\n  }\n  function update() {\n    top.value = getValue(topVarName);\n    right.value = getValue(rightVarName);\n    bottom.value = getValue(bottomVarName);\n    left.value = getValue(leftVarName);\n  }\n  return {\n    top,\n    right,\n    bottom,\n    left,\n    update\n  };\n}\nfunction getValue(position) {\n  return getComputedStyle(document.documentElement).getPropertyValue(position);\n}\n\nfunction useScriptTag(src, onLoaded = noop, options = {}) {\n  const {\n    immediate = true,\n    manual = false,\n    type = \"text/javascript\",\n    async = true,\n    crossOrigin,\n    referrerPolicy,\n    noModule,\n    defer,\n    document = defaultDocument,\n    attrs = {}\n  } = options;\n  const scriptTag = ref(null);\n  let _promise = null;\n  const loadScript = (waitForScriptLoad) => new Promise((resolve, reject) => {\n    const resolveWithElement = (el2) => {\n      scriptTag.value = el2;\n      resolve(el2);\n      return el2;\n    };\n    if (!document) {\n      resolve(false);\n      return;\n    }\n    let shouldAppend = false;\n    let el = document.querySelector(`script[src=\"${resolveUnref(src)}\"]`);\n    if (!el) {\n      el = document.createElement(\"script\");\n      el.type = type;\n      el.async = async;\n      el.src = resolveUnref(src);\n      if (defer)\n        el.defer = defer;\n      if (crossOrigin)\n        el.crossOrigin = crossOrigin;\n      if (noModule)\n        el.noModule = noModule;\n      if (referrerPolicy)\n        el.referrerPolicy = referrerPolicy;\n      Object.entries(attrs).forEach(([name, value]) => el == null ? void 0 : el.setAttribute(name, value));\n      shouldAppend = true;\n    } else if (el.hasAttribute(\"data-loaded\")) {\n      resolveWithElement(el);\n    }\n    el.addEventListener(\"error\", (event) => reject(event));\n    el.addEventListener(\"abort\", (event) => reject(event));\n    el.addEventListener(\"load\", () => {\n      el.setAttribute(\"data-loaded\", \"true\");\n      onLoaded(el);\n      resolveWithElement(el);\n    });\n    if (shouldAppend)\n      el = document.head.appendChild(el);\n    if (!waitForScriptLoad)\n      resolveWithElement(el);\n  });\n  const load = (waitForScriptLoad = true) => {\n    if (!_promise)\n      _promise = loadScript(waitForScriptLoad);\n    return _promise;\n  };\n  const unload = () => {\n    if (!document)\n      return;\n    _promise = null;\n    if (scriptTag.value)\n      scriptTag.value = null;\n    const el = document.querySelector(`script[src=\"${resolveUnref(src)}\"]`);\n    if (el)\n      document.head.removeChild(el);\n  };\n  if (immediate && !manual)\n    tryOnMounted(load);\n  if (!manual)\n    tryOnUnmounted(unload);\n  return { scriptTag, load, unload };\n}\n\nfunction preventDefault(rawEvent) {\n  const e = rawEvent || window.event;\n  if (e.touches.length > 1)\n    return true;\n  if (e.preventDefault)\n    e.preventDefault();\n  return false;\n}\nfunction useScrollLock(element, initialState = false) {\n  const isLocked = ref(initialState);\n  let stopTouchMoveListener = null;\n  let initialOverflow;\n  watch(resolveRef(element), (el) => {\n    if (el) {\n      const ele = el;\n      initialOverflow = ele.style.overflow;\n      if (isLocked.value)\n        ele.style.overflow = \"hidden\";\n    }\n  }, {\n    immediate: true\n  });\n  const lock = () => {\n    const ele = resolveUnref(element);\n    if (!ele || isLocked.value)\n      return;\n    if (isIOS) {\n      stopTouchMoveListener = useEventListener(ele, \"touchmove\", preventDefault, { passive: false });\n    }\n    ele.style.overflow = \"hidden\";\n    isLocked.value = true;\n  };\n  const unlock = () => {\n    const ele = resolveUnref(element);\n    if (!ele || !isLocked.value)\n      return;\n    isIOS && (stopTouchMoveListener == null ? void 0 : stopTouchMoveListener());\n    ele.style.overflow = initialOverflow;\n    isLocked.value = false;\n  };\n  tryOnScopeDispose(unlock);\n  return computed({\n    get() {\n      return isLocked.value;\n    },\n    set(v) {\n      if (v)\n        lock();\n      else\n        unlock();\n    }\n  });\n}\n\nfunction useSessionStorage(key, initialValue, options = {}) {\n  const { window = defaultWindow } = options;\n  return useStorage(key, initialValue, window == null ? void 0 : window.sessionStorage, options);\n}\n\nvar __defProp$4 = Object.defineProperty;\nvar __getOwnPropSymbols$4 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$4 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$4 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$4 = (obj, key, value) => key in obj ? __defProp$4(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$4 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$4.call(b, prop))\n      __defNormalProp$4(a, prop, b[prop]);\n  if (__getOwnPropSymbols$4)\n    for (var prop of __getOwnPropSymbols$4(b)) {\n      if (__propIsEnum$4.call(b, prop))\n        __defNormalProp$4(a, prop, b[prop]);\n    }\n  return a;\n};\nfunction useShare(shareOptions = {}, options = {}) {\n  const { navigator = defaultNavigator } = options;\n  const _navigator = navigator;\n  const isSupported = useSupported(() => _navigator && \"canShare\" in _navigator);\n  const share = async (overrideOptions = {}) => {\n    if (isSupported.value) {\n      const data = __spreadValues$4(__spreadValues$4({}, resolveUnref(shareOptions)), resolveUnref(overrideOptions));\n      let granted = true;\n      if (data.files && _navigator.canShare)\n        granted = _navigator.canShare({ files: data.files });\n      if (granted)\n        return _navigator.share(data);\n    }\n  };\n  return {\n    isSupported,\n    share\n  };\n}\n\nfunction useSpeechRecognition(options = {}) {\n  const {\n    interimResults = true,\n    continuous = true,\n    window = defaultWindow\n  } = options;\n  const lang = resolveRef(options.lang || \"en-US\");\n  const isListening = ref(false);\n  const isFinal = ref(false);\n  const result = ref(\"\");\n  const error = shallowRef(void 0);\n  const toggle = (value = !isListening.value) => {\n    isListening.value = value;\n  };\n  const start = () => {\n    isListening.value = true;\n  };\n  const stop = () => {\n    isListening.value = false;\n  };\n  const SpeechRecognition = window && (window.SpeechRecognition || window.webkitSpeechRecognition);\n  const isSupported = useSupported(() => SpeechRecognition);\n  let recognition;\n  if (isSupported.value) {\n    recognition = new SpeechRecognition();\n    recognition.continuous = continuous;\n    recognition.interimResults = interimResults;\n    recognition.lang = unref(lang);\n    recognition.onstart = () => {\n      isFinal.value = false;\n    };\n    watch(lang, (lang2) => {\n      if (recognition && !isListening.value)\n        recognition.lang = lang2;\n    });\n    recognition.onresult = (event) => {\n      const transcript = Array.from(event.results).map((result2) => {\n        isFinal.value = result2.isFinal;\n        return result2[0];\n      }).map((result2) => result2.transcript).join(\"\");\n      result.value = transcript;\n      error.value = void 0;\n    };\n    recognition.onerror = (event) => {\n      error.value = event;\n    };\n    recognition.onend = () => {\n      isListening.value = false;\n      recognition.lang = unref(lang);\n    };\n    watch(isListening, () => {\n      if (isListening.value)\n        recognition.start();\n      else\n        recognition.stop();\n    });\n  }\n  tryOnScopeDispose(() => {\n    isListening.value = false;\n  });\n  return {\n    isSupported,\n    isListening,\n    isFinal,\n    recognition,\n    result,\n    error,\n    toggle,\n    start,\n    stop\n  };\n}\n\nfunction useSpeechSynthesis(text, options = {}) {\n  const {\n    pitch = 1,\n    rate = 1,\n    volume = 1,\n    window = defaultWindow\n  } = options;\n  const synth = window && window.speechSynthesis;\n  const isSupported = useSupported(() => synth);\n  const isPlaying = ref(false);\n  const status = ref(\"init\");\n  const spokenText = resolveRef(text || \"\");\n  const lang = resolveRef(options.lang || \"en-US\");\n  const error = shallowRef(void 0);\n  const toggle = (value = !isPlaying.value) => {\n    isPlaying.value = value;\n  };\n  const bindEventsForUtterance = (utterance2) => {\n    utterance2.lang = unref(lang);\n    utterance2.voice = unref(options.voice) || null;\n    utterance2.pitch = pitch;\n    utterance2.rate = rate;\n    utterance2.volume = volume;\n    utterance2.onstart = () => {\n      isPlaying.value = true;\n      status.value = \"play\";\n    };\n    utterance2.onpause = () => {\n      isPlaying.value = false;\n      status.value = \"pause\";\n    };\n    utterance2.onresume = () => {\n      isPlaying.value = true;\n      status.value = \"play\";\n    };\n    utterance2.onend = () => {\n      isPlaying.value = false;\n      status.value = \"end\";\n    };\n    utterance2.onerror = (event) => {\n      error.value = event;\n    };\n  };\n  const utterance = computed(() => {\n    isPlaying.value = false;\n    status.value = \"init\";\n    const newUtterance = new SpeechSynthesisUtterance(spokenText.value);\n    bindEventsForUtterance(newUtterance);\n    return newUtterance;\n  });\n  const speak = () => {\n    synth.cancel();\n    utterance && synth.speak(utterance.value);\n  };\n  if (isSupported.value) {\n    bindEventsForUtterance(utterance.value);\n    watch(lang, (lang2) => {\n      if (utterance.value && !isPlaying.value)\n        utterance.value.lang = lang2;\n    });\n    if (options.voice) {\n      watch(options.voice, () => {\n        synth.cancel();\n      });\n    }\n    watch(isPlaying, () => {\n      if (isPlaying.value)\n        synth.resume();\n      else\n        synth.pause();\n    });\n  }\n  tryOnScopeDispose(() => {\n    isPlaying.value = false;\n  });\n  return {\n    isSupported,\n    isPlaying,\n    status,\n    utterance,\n    error,\n    toggle,\n    speak\n  };\n}\n\nfunction useStepper(steps, initialStep) {\n  const stepsRef = ref(steps);\n  const stepNames = computed(() => Array.isArray(stepsRef.value) ? stepsRef.value : Object.keys(stepsRef.value));\n  const index = ref(stepNames.value.indexOf(initialStep != null ? initialStep : stepNames.value[0]));\n  const current = computed(() => at(index.value));\n  const isFirst = computed(() => index.value === 0);\n  const isLast = computed(() => index.value === stepNames.value.length - 1);\n  const next = computed(() => stepNames.value[index.value + 1]);\n  const previous = computed(() => stepNames.value[index.value - 1]);\n  function at(index2) {\n    if (Array.isArray(stepsRef.value))\n      return stepsRef.value[index2];\n    return stepsRef.value[stepNames.value[index2]];\n  }\n  function get(step) {\n    if (!stepNames.value.includes(step))\n      return;\n    return at(stepNames.value.indexOf(step));\n  }\n  function goTo(step) {\n    if (stepNames.value.includes(step))\n      index.value = stepNames.value.indexOf(step);\n  }\n  function goToNext() {\n    if (isLast.value)\n      return;\n    index.value++;\n  }\n  function goToPrevious() {\n    if (isFirst.value)\n      return;\n    index.value--;\n  }\n  function goBackTo(step) {\n    if (isAfter(step))\n      goTo(step);\n  }\n  function isNext(step) {\n    return stepNames.value.indexOf(step) === index.value + 1;\n  }\n  function isPrevious(step) {\n    return stepNames.value.indexOf(step) === index.value - 1;\n  }\n  function isCurrent(step) {\n    return stepNames.value.indexOf(step) === index.value;\n  }\n  function isBefore(step) {\n    return index.value < stepNames.value.indexOf(step);\n  }\n  function isAfter(step) {\n    return index.value > stepNames.value.indexOf(step);\n  }\n  return {\n    steps: stepsRef,\n    stepNames,\n    index,\n    current,\n    next,\n    previous,\n    isFirst,\n    isLast,\n    at,\n    get,\n    goTo,\n    goToNext,\n    goToPrevious,\n    goBackTo,\n    isNext,\n    isPrevious,\n    isCurrent,\n    isBefore,\n    isAfter\n  };\n}\n\nfunction useStorageAsync(key, initialValue, storage, options = {}) {\n  var _a;\n  const {\n    flush = \"pre\",\n    deep = true,\n    listenToStorageChanges = true,\n    writeDefaults = true,\n    shallow,\n    window = defaultWindow,\n    eventFilter,\n    onError = (e) => {\n      console.error(e);\n    }\n  } = options;\n  const rawInit = resolveUnref(initialValue);\n  const type = guessSerializerType(rawInit);\n  const data = (shallow ? shallowRef : ref)(initialValue);\n  const serializer = (_a = options.serializer) != null ? _a : StorageSerializers[type];\n  if (!storage) {\n    try {\n      storage = getSSRHandler(\"getDefaultStorage\", () => {\n        var _a2;\n        return (_a2 = defaultWindow) == null ? void 0 : _a2.localStorage;\n      })();\n    } catch (e) {\n      onError(e);\n    }\n  }\n  async function read(event) {\n    if (!storage || event && event.key !== key)\n      return;\n    try {\n      const rawValue = event ? event.newValue : await storage.getItem(key);\n      if (rawValue == null) {\n        data.value = rawInit;\n        if (writeDefaults && rawInit !== null)\n          await storage.setItem(key, await serializer.write(rawInit));\n      } else {\n        data.value = await serializer.read(rawValue);\n      }\n    } catch (e) {\n      onError(e);\n    }\n  }\n  read();\n  if (window && listenToStorageChanges)\n    useEventListener(window, \"storage\", (e) => setTimeout(() => read(e), 0));\n  if (storage) {\n    watchWithFilter(data, async () => {\n      try {\n        if (data.value == null)\n          await storage.removeItem(key);\n        else\n          await storage.setItem(key, await serializer.write(data.value));\n      } catch (e) {\n        onError(e);\n      }\n    }, {\n      flush,\n      deep,\n      eventFilter\n    });\n  }\n  return data;\n}\n\nlet _id = 0;\nfunction useStyleTag(css, options = {}) {\n  const isLoaded = ref(false);\n  const {\n    document = defaultDocument,\n    immediate = true,\n    manual = false,\n    id = `vueuse_styletag_${++_id}`\n  } = options;\n  const cssRef = ref(css);\n  let stop = () => {\n  };\n  const load = () => {\n    if (!document)\n      return;\n    const el = document.getElementById(id) || document.createElement(\"style\");\n    el.type = \"text/css\";\n    el.id = id;\n    if (options.media)\n      el.media = options.media;\n    document.head.appendChild(el);\n    if (isLoaded.value)\n      return;\n    stop = watch(cssRef, (value) => {\n      el.innerText = value;\n    }, { immediate: true });\n    isLoaded.value = true;\n  };\n  const unload = () => {\n    if (!document || !isLoaded.value)\n      return;\n    stop();\n    document.head.removeChild(document.getElementById(id));\n    isLoaded.value = false;\n  };\n  if (immediate && !manual)\n    tryOnMounted(load);\n  if (!manual)\n    tryOnScopeDispose(unload);\n  return {\n    id,\n    css: cssRef,\n    unload,\n    load,\n    isLoaded: readonly(isLoaded)\n  };\n}\n\nfunction useTemplateRefsList() {\n  const refs = ref([]);\n  refs.value.set = (el) => {\n    if (el)\n      refs.value.push(el);\n  };\n  onBeforeUpdate(() => {\n    refs.value.length = 0;\n  });\n  return refs;\n}\n\nfunction useTextDirection(options = {}) {\n  const {\n    document = defaultDocument,\n    selector = \"html\",\n    observe = false,\n    initialValue = \"ltr\"\n  } = options;\n  function getValue() {\n    var _a, _b;\n    return (_b = (_a = document == null ? void 0 : document.querySelector(selector)) == null ? void 0 : _a.getAttribute(\"dir\")) != null ? _b : initialValue;\n  }\n  const dir = ref(getValue());\n  tryOnMounted(() => dir.value = getValue());\n  if (observe && document) {\n    useMutationObserver(document.querySelector(selector), () => dir.value = getValue(), { attributes: true });\n  }\n  return computed({\n    get() {\n      return dir.value;\n    },\n    set(v) {\n      var _a, _b;\n      dir.value = v;\n      if (!document)\n        return;\n      if (dir.value)\n        (_a = document.querySelector(selector)) == null ? void 0 : _a.setAttribute(\"dir\", dir.value);\n      else\n        (_b = document.querySelector(selector)) == null ? void 0 : _b.removeAttribute(\"dir\");\n    }\n  });\n}\n\nfunction getRangesFromSelection(selection) {\n  var _a;\n  const rangeCount = (_a = selection.rangeCount) != null ? _a : 0;\n  const ranges = new Array(rangeCount);\n  for (let i = 0; i < rangeCount; i++) {\n    const range = selection.getRangeAt(i);\n    ranges[i] = range;\n  }\n  return ranges;\n}\nfunction useTextSelection(options = {}) {\n  const {\n    window = defaultWindow\n  } = options;\n  const selection = ref(null);\n  const text = computed(() => {\n    var _a, _b;\n    return (_b = (_a = selection.value) == null ? void 0 : _a.toString()) != null ? _b : \"\";\n  });\n  const ranges = computed(() => selection.value ? getRangesFromSelection(selection.value) : []);\n  const rects = computed(() => ranges.value.map((range) => range.getBoundingClientRect()));\n  function onSelectionChange() {\n    selection.value = null;\n    if (window)\n      selection.value = window.getSelection();\n  }\n  if (window)\n    useEventListener(window.document, \"selectionchange\", onSelectionChange);\n  return {\n    text,\n    rects,\n    ranges,\n    selection\n  };\n}\n\nfunction useTextareaAutosize(options) {\n  const textarea = ref(options == null ? void 0 : options.element);\n  const input = ref(options == null ? void 0 : options.input);\n  function triggerResize() {\n    var _a, _b;\n    if (!textarea.value)\n      return;\n    textarea.value.style.height = \"1px\";\n    textarea.value.style.height = `${(_a = textarea.value) == null ? void 0 : _a.scrollHeight}px`;\n    (_b = options == null ? void 0 : options.onResize) == null ? void 0 : _b.call(options);\n  }\n  watch([input, textarea], triggerResize, { immediate: true });\n  if (options == null ? void 0 : options.watch)\n    watch(options.watch, triggerResize, { immediate: true, deep: true });\n  return {\n    textarea,\n    input,\n    triggerResize\n  };\n}\n\nvar __defProp$3 = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$3 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$3 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$3 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$3 = (obj, key, value) => key in obj ? __defProp$3(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$3 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$3.call(b, prop))\n      __defNormalProp$3(a, prop, b[prop]);\n  if (__getOwnPropSymbols$3)\n    for (var prop of __getOwnPropSymbols$3(b)) {\n      if (__propIsEnum$3.call(b, prop))\n        __defNormalProp$3(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nfunction useThrottledRefHistory(source, options = {}) {\n  const { throttle = 200, trailing = true } = options;\n  const filter = throttleFilter(throttle, trailing);\n  const history = useRefHistory(source, __spreadProps(__spreadValues$3({}, options), { eventFilter: filter }));\n  return __spreadValues$3({}, history);\n}\n\nvar __defProp$2 = Object.defineProperty;\nvar __getOwnPropSymbols$2 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$2 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$2 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$2 = (obj, key, value) => key in obj ? __defProp$2(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$2 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$2.call(b, prop))\n      __defNormalProp$2(a, prop, b[prop]);\n  if (__getOwnPropSymbols$2)\n    for (var prop of __getOwnPropSymbols$2(b)) {\n      if (__propIsEnum$2.call(b, prop))\n        __defNormalProp$2(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp$2.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols$2)\n    for (var prop of __getOwnPropSymbols$2(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum$2.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nconst UNITS = [\n  { max: 6e4, value: 1e3, name: \"second\" },\n  { max: 276e4, value: 6e4, name: \"minute\" },\n  { max: 72e6, value: 36e5, name: \"hour\" },\n  { max: 5184e5, value: 864e5, name: \"day\" },\n  { max: 24192e5, value: 6048e5, name: \"week\" },\n  { max: 28512e6, value: 2592e6, name: \"month\" },\n  { max: Infinity, value: 31536e6, name: \"year\" }\n];\nconst DEFAULT_MESSAGES = {\n  justNow: \"just now\",\n  past: (n) => n.match(/\\d/) ? `${n} ago` : n,\n  future: (n) => n.match(/\\d/) ? `in ${n}` : n,\n  month: (n, past) => n === 1 ? past ? \"last month\" : \"next month\" : `${n} month${n > 1 ? \"s\" : \"\"}`,\n  year: (n, past) => n === 1 ? past ? \"last year\" : \"next year\" : `${n} year${n > 1 ? \"s\" : \"\"}`,\n  day: (n, past) => n === 1 ? past ? \"yesterday\" : \"tomorrow\" : `${n} day${n > 1 ? \"s\" : \"\"}`,\n  week: (n, past) => n === 1 ? past ? \"last week\" : \"next week\" : `${n} week${n > 1 ? \"s\" : \"\"}`,\n  hour: (n) => `${n} hour${n > 1 ? \"s\" : \"\"}`,\n  minute: (n) => `${n} minute${n > 1 ? \"s\" : \"\"}`,\n  second: (n) => `${n} second${n > 1 ? \"s\" : \"\"}`\n};\nconst DEFAULT_FORMATTER = (date) => date.toISOString().slice(0, 10);\nfunction useTimeAgo(time, options = {}) {\n  const {\n    controls: exposeControls = false,\n    max,\n    updateInterval = 3e4,\n    messages = DEFAULT_MESSAGES,\n    fullDateFormatter = DEFAULT_FORMATTER,\n    showSecond = false\n  } = options;\n  const { abs, round } = Math;\n  const _a = useNow({ interval: updateInterval, controls: true }), { now } = _a, controls = __objRest(_a, [\"now\"]);\n  function getTimeago(from, now2) {\n    var _a2;\n    const diff = +now2 - +from;\n    const absDiff = abs(diff);\n    if (absDiff < 6e4 && !showSecond)\n      return messages.justNow;\n    if (typeof max === \"number\" && absDiff > max)\n      return fullDateFormatter(new Date(from));\n    if (typeof max === \"string\") {\n      const unitMax = (_a2 = UNITS.find((i) => i.name === max)) == null ? void 0 : _a2.max;\n      if (unitMax && absDiff > unitMax)\n        return fullDateFormatter(new Date(from));\n    }\n    for (const unit of UNITS) {\n      if (absDiff < unit.max)\n        return format(diff, unit);\n    }\n  }\n  function applyFormat(name, val, isPast) {\n    const formatter = messages[name];\n    if (typeof formatter === \"function\")\n      return formatter(val, isPast);\n    return formatter.replace(\"{0}\", val.toString());\n  }\n  function format(diff, unit) {\n    const val = round(abs(diff) / unit.value);\n    const past = diff > 0;\n    const str = applyFormat(unit.name, val, past);\n    return applyFormat(past ? \"past\" : \"future\", str, past);\n  }\n  const timeAgo = computed(() => getTimeago(new Date(resolveUnref(time)), unref(now.value)));\n  if (exposeControls) {\n    return __spreadValues$2({\n      timeAgo\n    }, controls);\n  } else {\n    return timeAgo;\n  }\n}\n\nfunction useTimeoutPoll(fn, interval, timeoutPollOptions) {\n  const { start } = useTimeoutFn(loop, interval);\n  const isActive = ref(false);\n  async function loop() {\n    if (!isActive.value)\n      return;\n    await fn();\n    start();\n  }\n  function resume() {\n    if (!isActive.value) {\n      isActive.value = true;\n      loop();\n    }\n  }\n  function pause() {\n    isActive.value = false;\n  }\n  if (timeoutPollOptions == null ? void 0 : timeoutPollOptions.immediate)\n    resume();\n  tryOnScopeDispose(pause);\n  return {\n    isActive,\n    pause,\n    resume\n  };\n}\n\nvar __defProp$1 = Object.defineProperty;\nvar __getOwnPropSymbols$1 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$1 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$1 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$1 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$1.call(b, prop))\n      __defNormalProp$1(a, prop, b[prop]);\n  if (__getOwnPropSymbols$1)\n    for (var prop of __getOwnPropSymbols$1(b)) {\n      if (__propIsEnum$1.call(b, prop))\n        __defNormalProp$1(a, prop, b[prop]);\n    }\n  return a;\n};\nfunction useTimestamp(options = {}) {\n  const {\n    controls: exposeControls = false,\n    offset = 0,\n    immediate = true,\n    interval = \"requestAnimationFrame\",\n    callback\n  } = options;\n  const ts = ref(timestamp() + offset);\n  const update = () => ts.value = timestamp() + offset;\n  const cb = callback ? () => {\n    update();\n    callback(ts.value);\n  } : update;\n  const controls = interval === \"requestAnimationFrame\" ? useRafFn(cb, { immediate }) : useIntervalFn(cb, interval, { immediate });\n  if (exposeControls) {\n    return __spreadValues$1({\n      timestamp: ts\n    }, controls);\n  } else {\n    return ts;\n  }\n}\n\nfunction useTitle(newTitle = null, options = {}) {\n  var _a, _b;\n  const {\n    document = defaultDocument,\n    observe = false,\n    titleTemplate = \"%s\"\n  } = options;\n  const title = resolveRef((_a = newTitle != null ? newTitle : document == null ? void 0 : document.title) != null ? _a : null);\n  const isReadonly = newTitle && isFunction(newTitle);\n  function format(t) {\n    return isFunction(titleTemplate) ? titleTemplate(t) : unref(titleTemplate).replace(\"%s\", t);\n  }\n  watch(title, (t, o) => {\n    if (isString(t) && t !== o && document)\n      document.title = format(t);\n  }, { immediate: true });\n  if (observe && document && !isReadonly) {\n    useMutationObserver((_b = document.head) == null ? void 0 : _b.querySelector(\"title\"), () => {\n      if (document && document.title !== title.value)\n        title.value = format(document.title);\n    }, { childList: true });\n  }\n  return title;\n}\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nconst _TransitionPresets = {\n  easeInSine: [0.12, 0, 0.39, 0],\n  easeOutSine: [0.61, 1, 0.88, 1],\n  easeInOutSine: [0.37, 0, 0.63, 1],\n  easeInQuad: [0.11, 0, 0.5, 0],\n  easeOutQuad: [0.5, 1, 0.89, 1],\n  easeInOutQuad: [0.45, 0, 0.55, 1],\n  easeInCubic: [0.32, 0, 0.67, 0],\n  easeOutCubic: [0.33, 1, 0.68, 1],\n  easeInOutCubic: [0.65, 0, 0.35, 1],\n  easeInQuart: [0.5, 0, 0.75, 0],\n  easeOutQuart: [0.25, 1, 0.5, 1],\n  easeInOutQuart: [0.76, 0, 0.24, 1],\n  easeInQuint: [0.64, 0, 0.78, 0],\n  easeOutQuint: [0.22, 1, 0.36, 1],\n  easeInOutQuint: [0.83, 0, 0.17, 1],\n  easeInExpo: [0.7, 0, 0.84, 0],\n  easeOutExpo: [0.16, 1, 0.3, 1],\n  easeInOutExpo: [0.87, 0, 0.13, 1],\n  easeInCirc: [0.55, 0, 1, 0.45],\n  easeOutCirc: [0, 0.55, 0.45, 1],\n  easeInOutCirc: [0.85, 0, 0.15, 1],\n  easeInBack: [0.36, 0, 0.66, -0.56],\n  easeOutBack: [0.34, 1.56, 0.64, 1],\n  easeInOutBack: [0.68, -0.6, 0.32, 1.6]\n};\nconst TransitionPresets = __spreadValues({\n  linear: identity\n}, _TransitionPresets);\nfunction createEasingFunction([p0, p1, p2, p3]) {\n  const a = (a1, a2) => 1 - 3 * a2 + 3 * a1;\n  const b = (a1, a2) => 3 * a2 - 6 * a1;\n  const c = (a1) => 3 * a1;\n  const calcBezier = (t, a1, a2) => ((a(a1, a2) * t + b(a1, a2)) * t + c(a1)) * t;\n  const getSlope = (t, a1, a2) => 3 * a(a1, a2) * t * t + 2 * b(a1, a2) * t + c(a1);\n  const getTforX = (x) => {\n    let aGuessT = x;\n    for (let i = 0; i < 4; ++i) {\n      const currentSlope = getSlope(aGuessT, p0, p2);\n      if (currentSlope === 0)\n        return aGuessT;\n      const currentX = calcBezier(aGuessT, p0, p2) - x;\n      aGuessT -= currentX / currentSlope;\n    }\n    return aGuessT;\n  };\n  return (x) => p0 === p1 && p2 === p3 ? x : calcBezier(getTforX(x), p1, p3);\n}\nfunction useTransition(source, options = {}) {\n  const {\n    delay = 0,\n    disabled = false,\n    duration = 1e3,\n    onFinished = noop,\n    onStarted = noop,\n    transition = identity\n  } = options;\n  const currentTransition = computed(() => {\n    const t = unref(transition);\n    return isFunction(t) ? t : createEasingFunction(t);\n  });\n  const sourceValue = computed(() => {\n    const s = unref(source);\n    return isNumber(s) ? s : s.map(unref);\n  });\n  const sourceVector = computed(() => isNumber(sourceValue.value) ? [sourceValue.value] : sourceValue.value);\n  const outputVector = ref(sourceVector.value.slice(0));\n  let currentDuration;\n  let diffVector;\n  let endAt;\n  let startAt;\n  let startVector;\n  const { resume, pause } = useRafFn(() => {\n    const now = Date.now();\n    const progress = clamp(1 - (endAt - now) / currentDuration, 0, 1);\n    outputVector.value = startVector.map((val, i) => {\n      var _a;\n      return val + ((_a = diffVector[i]) != null ? _a : 0) * currentTransition.value(progress);\n    });\n    if (progress >= 1) {\n      pause();\n      onFinished();\n    }\n  }, { immediate: false });\n  const start = () => {\n    pause();\n    currentDuration = unref(duration);\n    diffVector = outputVector.value.map((n, i) => {\n      var _a, _b;\n      return ((_a = sourceVector.value[i]) != null ? _a : 0) - ((_b = outputVector.value[i]) != null ? _b : 0);\n    });\n    startVector = outputVector.value.slice(0);\n    startAt = Date.now();\n    endAt = startAt + currentDuration;\n    resume();\n    onStarted();\n  };\n  const timeout = useTimeoutFn(start, delay, { immediate: false });\n  watch(sourceVector, () => {\n    if (unref(disabled)) {\n      outputVector.value = sourceVector.value.slice(0);\n    } else {\n      if (unref(delay) <= 0)\n        start();\n      else\n        timeout.start();\n    }\n  }, { deep: true });\n  return computed(() => {\n    const targetVector = unref(disabled) ? sourceVector : outputVector;\n    return isNumber(sourceValue.value) ? targetVector.value[0] : targetVector.value;\n  });\n}\n\nfunction useUrlSearchParams(mode = \"history\", options = {}) {\n  const {\n    initialValue = {},\n    removeNullishValues = true,\n    removeFalsyValues = false,\n    write: enableWrite = true,\n    window = defaultWindow\n  } = options;\n  if (!window)\n    return reactive(initialValue);\n  const state = reactive({});\n  function getRawParams() {\n    if (mode === \"history\") {\n      return window.location.search || \"\";\n    } else if (mode === \"hash\") {\n      const hash = window.location.hash || \"\";\n      const index = hash.indexOf(\"?\");\n      return index > 0 ? hash.slice(index) : \"\";\n    } else {\n      return (window.location.hash || \"\").replace(/^#/, \"\");\n    }\n  }\n  function constructQuery(params) {\n    const stringified = params.toString();\n    if (mode === \"history\")\n      return `${stringified ? `?${stringified}` : \"\"}${window.location.hash || \"\"}`;\n    if (mode === \"hash-params\")\n      return `${window.location.search || \"\"}${stringified ? `#${stringified}` : \"\"}`;\n    const hash = window.location.hash || \"#\";\n    const index = hash.indexOf(\"?\");\n    if (index > 0)\n      return `${hash.slice(0, index)}${stringified ? `?${stringified}` : \"\"}`;\n    return `${hash}${stringified ? `?${stringified}` : \"\"}`;\n  }\n  function read() {\n    return new URLSearchParams(getRawParams());\n  }\n  function updateState(params) {\n    const unusedKeys = new Set(Object.keys(state));\n    for (const key of params.keys()) {\n      const paramsForKey = params.getAll(key);\n      state[key] = paramsForKey.length > 1 ? paramsForKey : params.get(key) || \"\";\n      unusedKeys.delete(key);\n    }\n    Array.from(unusedKeys).forEach((key) => delete state[key]);\n  }\n  const { pause, resume } = pausableWatch(state, () => {\n    const params = new URLSearchParams(\"\");\n    Object.keys(state).forEach((key) => {\n      const mapEntry = state[key];\n      if (Array.isArray(mapEntry))\n        mapEntry.forEach((value) => params.append(key, value));\n      else if (removeNullishValues && mapEntry == null)\n        params.delete(key);\n      else if (removeFalsyValues && !mapEntry)\n        params.delete(key);\n      else\n        params.set(key, mapEntry);\n    });\n    write(params);\n  }, { deep: true });\n  function write(params, shouldUpdate) {\n    pause();\n    if (shouldUpdate)\n      updateState(params);\n    window.history.replaceState(window.history.state, window.document.title, window.location.pathname + constructQuery(params));\n    resume();\n  }\n  function onChanged() {\n    if (!enableWrite)\n      return;\n    write(read(), true);\n  }\n  useEventListener(window, \"popstate\", onChanged, false);\n  if (mode !== \"history\")\n    useEventListener(window, \"hashchange\", onChanged, false);\n  const initial = read();\n  if (initial.keys().next().value)\n    updateState(initial);\n  else\n    Object.assign(state, initialValue);\n  return state;\n}\n\nfunction useUserMedia(options = {}) {\n  var _a, _b;\n  const enabled = ref((_a = options.enabled) != null ? _a : false);\n  const autoSwitch = ref((_b = options.autoSwitch) != null ? _b : true);\n  const videoDeviceId = ref(options.videoDeviceId);\n  const audioDeviceId = ref(options.audioDeviceId);\n  const { navigator = defaultNavigator } = options;\n  const isSupported = useSupported(() => {\n    var _a2;\n    return (_a2 = navigator == null ? void 0 : navigator.mediaDevices) == null ? void 0 : _a2.getUserMedia;\n  });\n  const stream = shallowRef();\n  function getDeviceOptions(device) {\n    if (device.value === \"none\" || device.value === false)\n      return false;\n    if (device.value == null)\n      return true;\n    return {\n      deviceId: device.value\n    };\n  }\n  async function _start() {\n    if (!isSupported.value || stream.value)\n      return;\n    stream.value = await navigator.mediaDevices.getUserMedia({\n      video: getDeviceOptions(videoDeviceId),\n      audio: getDeviceOptions(audioDeviceId)\n    });\n    return stream.value;\n  }\n  async function _stop() {\n    var _a2;\n    (_a2 = stream.value) == null ? void 0 : _a2.getTracks().forEach((t) => t.stop());\n    stream.value = void 0;\n  }\n  function stop() {\n    _stop();\n    enabled.value = false;\n  }\n  async function start() {\n    await _start();\n    if (stream.value)\n      enabled.value = true;\n    return stream.value;\n  }\n  async function restart() {\n    _stop();\n    return await start();\n  }\n  watch(enabled, (v) => {\n    if (v)\n      _start();\n    else\n      _stop();\n  }, { immediate: true });\n  watch([videoDeviceId, audioDeviceId], () => {\n    if (autoSwitch.value && stream.value)\n      restart();\n  }, { immediate: true });\n  return {\n    isSupported,\n    stream,\n    start,\n    stop,\n    restart,\n    videoDeviceId,\n    audioDeviceId,\n    enabled,\n    autoSwitch\n  };\n}\n\nfunction useVModel(props, key, emit, options = {}) {\n  var _a, _b, _c, _d, _e;\n  const {\n    clone = false,\n    passive = false,\n    eventName,\n    deep = false,\n    defaultValue\n  } = options;\n  const vm = getCurrentInstance();\n  const _emit = emit || (vm == null ? void 0 : vm.emit) || ((_a = vm == null ? void 0 : vm.$emit) == null ? void 0 : _a.bind(vm)) || ((_c = (_b = vm == null ? void 0 : vm.proxy) == null ? void 0 : _b.$emit) == null ? void 0 : _c.bind(vm == null ? void 0 : vm.proxy));\n  let event = eventName;\n  if (!key) {\n    if (isVue2) {\n      const modelOptions = (_e = (_d = vm == null ? void 0 : vm.proxy) == null ? void 0 : _d.$options) == null ? void 0 : _e.model;\n      key = (modelOptions == null ? void 0 : modelOptions.value) || \"value\";\n      if (!eventName)\n        event = (modelOptions == null ? void 0 : modelOptions.event) || \"input\";\n    } else {\n      key = \"modelValue\";\n    }\n  }\n  event = eventName || event || `update:${key.toString()}`;\n  const cloneFn = (val) => !clone ? val : isFunction(clone) ? clone(val) : cloneFnJSON(val);\n  const getValue = () => isDef(props[key]) ? cloneFn(props[key]) : defaultValue;\n  if (passive) {\n    const initialValue = getValue();\n    const proxy = ref(initialValue);\n    watch(() => props[key], (v) => proxy.value = cloneFn(v));\n    watch(proxy, (v) => {\n      if (v !== props[key] || deep)\n        _emit(event, v);\n    }, { deep });\n    return proxy;\n  } else {\n    return computed({\n      get() {\n        return getValue();\n      },\n      set(value) {\n        _emit(event, value);\n      }\n    });\n  }\n}\n\nfunction useVModels(props, emit, options = {}) {\n  const ret = {};\n  for (const key in props)\n    ret[key] = useVModel(props, key, emit, options);\n  return ret;\n}\n\nfunction useVibrate(options) {\n  const {\n    pattern = [],\n    interval = 0,\n    navigator = defaultNavigator\n  } = options || {};\n  const isSupported = useSupported(() => typeof navigator !== \"undefined\" && \"vibrate\" in navigator);\n  const patternRef = resolveRef(pattern);\n  let intervalControls;\n  const vibrate = (pattern2 = patternRef.value) => {\n    if (isSupported.value)\n      navigator.vibrate(pattern2);\n  };\n  const stop = () => {\n    if (isSupported.value)\n      navigator.vibrate(0);\n    intervalControls == null ? void 0 : intervalControls.pause();\n  };\n  if (interval > 0) {\n    intervalControls = useIntervalFn(vibrate, interval, {\n      immediate: false,\n      immediateCallback: false\n    });\n  }\n  return {\n    isSupported,\n    pattern,\n    intervalControls,\n    vibrate,\n    stop\n  };\n}\n\nfunction useVirtualList(list, options) {\n  const containerRef = ref();\n  const size = useElementSize(containerRef);\n  const currentList = ref([]);\n  const source = shallowRef(list);\n  const state = ref({ start: 0, end: 10 });\n  const { itemHeight, overscan = 5 } = options;\n  const getViewCapacity = (containerHeight) => {\n    if (typeof itemHeight === \"number\")\n      return Math.ceil(containerHeight / itemHeight);\n    const { start = 0 } = state.value;\n    let sum = 0;\n    let capacity = 0;\n    for (let i = start; i < source.value.length; i++) {\n      const height = itemHeight(i);\n      sum += height;\n      if (sum >= containerHeight) {\n        capacity = i;\n        break;\n      }\n    }\n    return capacity - start;\n  };\n  const getOffset = (scrollTop) => {\n    if (typeof itemHeight === \"number\")\n      return Math.floor(scrollTop / itemHeight) + 1;\n    let sum = 0;\n    let offset = 0;\n    for (let i = 0; i < source.value.length; i++) {\n      const height = itemHeight(i);\n      sum += height;\n      if (sum >= scrollTop) {\n        offset = i;\n        break;\n      }\n    }\n    return offset + 1;\n  };\n  const calculateRange = () => {\n    const element = containerRef.value;\n    if (element) {\n      const offset = getOffset(element.scrollTop);\n      const viewCapacity = getViewCapacity(element.clientHeight);\n      const from = offset - overscan;\n      const to = offset + viewCapacity + overscan;\n      state.value = {\n        start: from < 0 ? 0 : from,\n        end: to > source.value.length ? source.value.length : to\n      };\n      currentList.value = source.value.slice(state.value.start, state.value.end).map((ele, index) => ({\n        data: ele,\n        index: index + state.value.start\n      }));\n    }\n  };\n  watch([size.width, size.height, list], () => {\n    calculateRange();\n  });\n  const totalHeight = computed(() => {\n    if (typeof itemHeight === \"number\")\n      return source.value.length * itemHeight;\n    return source.value.reduce((sum, _, index) => sum + itemHeight(index), 0);\n  });\n  const getDistanceTop = (index) => {\n    if (typeof itemHeight === \"number\") {\n      const height2 = index * itemHeight;\n      return height2;\n    }\n    const height = source.value.slice(0, index).reduce((sum, _, i) => sum + itemHeight(i), 0);\n    return height;\n  };\n  const scrollTo = (index) => {\n    if (containerRef.value) {\n      containerRef.value.scrollTop = getDistanceTop(index);\n      calculateRange();\n    }\n  };\n  const offsetTop = computed(() => getDistanceTop(state.value.start));\n  const wrapperProps = computed(() => {\n    return {\n      style: {\n        width: \"100%\",\n        height: `${totalHeight.value - offsetTop.value}px`,\n        marginTop: `${offsetTop.value}px`\n      }\n    };\n  });\n  const containerStyle = { overflowY: \"auto\" };\n  return {\n    list: currentList,\n    scrollTo,\n    containerProps: {\n      ref: containerRef,\n      onScroll: () => {\n        calculateRange();\n      },\n      style: containerStyle\n    },\n    wrapperProps\n  };\n}\n\nconst useWakeLock = (options = {}) => {\n  const {\n    navigator = defaultNavigator,\n    document = defaultDocument\n  } = options;\n  let wakeLock;\n  const isSupported = useSupported(() => navigator && \"wakeLock\" in navigator);\n  const isActive = ref(false);\n  async function onVisibilityChange() {\n    if (!isSupported.value || !wakeLock)\n      return;\n    if (document && document.visibilityState === \"visible\")\n      wakeLock = await navigator.wakeLock.request(\"screen\");\n    isActive.value = !wakeLock.released;\n  }\n  if (document)\n    useEventListener(document, \"visibilitychange\", onVisibilityChange, { passive: true });\n  async function request(type) {\n    if (!isSupported.value)\n      return;\n    wakeLock = await navigator.wakeLock.request(type);\n    isActive.value = !wakeLock.released;\n  }\n  async function release() {\n    if (!isSupported.value || !wakeLock)\n      return;\n    await wakeLock.release();\n    isActive.value = !wakeLock.released;\n    wakeLock = null;\n  }\n  return {\n    isSupported,\n    isActive,\n    request,\n    release\n  };\n};\n\nconst useWebNotification = (defaultOptions = {}) => {\n  const {\n    window = defaultWindow\n  } = defaultOptions;\n  const isSupported = useSupported(() => !!window && \"Notification\" in window);\n  const notification = ref(null);\n  const requestPermission = async () => {\n    if (!isSupported.value)\n      return;\n    if (\"permission\" in Notification && Notification.permission !== \"denied\")\n      await Notification.requestPermission();\n  };\n  const onClick = createEventHook();\n  const onShow = createEventHook();\n  const onError = createEventHook();\n  const onClose = createEventHook();\n  const show = async (overrides) => {\n    if (!isSupported.value)\n      return;\n    await requestPermission();\n    const options = Object.assign({}, defaultOptions, overrides);\n    notification.value = new Notification(options.title || \"\", options);\n    notification.value.onclick = (event) => onClick.trigger(event);\n    notification.value.onshow = (event) => onShow.trigger(event);\n    notification.value.onerror = (event) => onError.trigger(event);\n    notification.value.onclose = (event) => onClose.trigger(event);\n    return notification.value;\n  };\n  const close = () => {\n    if (notification.value)\n      notification.value.close();\n    notification.value = null;\n  };\n  tryOnMounted(async () => {\n    if (isSupported.value)\n      await requestPermission();\n  });\n  tryOnScopeDispose(close);\n  if (isSupported.value && window) {\n    const document = window.document;\n    useEventListener(document, \"visibilitychange\", (e) => {\n      e.preventDefault();\n      if (document.visibilityState === \"visible\") {\n        close();\n      }\n    });\n  }\n  return {\n    isSupported,\n    notification,\n    show,\n    close,\n    onClick,\n    onShow,\n    onError,\n    onClose\n  };\n};\n\nconst DEFAULT_PING_MESSAGE = \"ping\";\nfunction resolveNestedOptions(options) {\n  if (options === true)\n    return {};\n  return options;\n}\nfunction useWebSocket(url, options = {}) {\n  const {\n    onConnected,\n    onDisconnected,\n    onError,\n    onMessage,\n    immediate = true,\n    autoClose = true,\n    protocols = []\n  } = options;\n  const data = ref(null);\n  const status = ref(\"CLOSED\");\n  const wsRef = ref();\n  let heartbeatPause;\n  let heartbeatResume;\n  let explicitlyClosed = false;\n  let retried = 0;\n  let bufferedData = [];\n  let pongTimeoutWait;\n  const close = (code = 1e3, reason) => {\n    if (!wsRef.value)\n      return;\n    explicitlyClosed = true;\n    heartbeatPause == null ? void 0 : heartbeatPause();\n    wsRef.value.close(code, reason);\n  };\n  const _sendBuffer = () => {\n    if (bufferedData.length && wsRef.value && status.value === \"OPEN\") {\n      for (const buffer of bufferedData)\n        wsRef.value.send(buffer);\n      bufferedData = [];\n    }\n  };\n  const resetHeartbeat = () => {\n    clearTimeout(pongTimeoutWait);\n  };\n  const send = (data2, useBuffer = true) => {\n    if (!wsRef.value || status.value !== \"OPEN\") {\n      if (useBuffer)\n        bufferedData.push(data2);\n      return false;\n    }\n    _sendBuffer();\n    wsRef.value.send(data2);\n    return true;\n  };\n  const _init = () => {\n    const ws = new WebSocket(url, protocols);\n    wsRef.value = ws;\n    status.value = \"CONNECTING\";\n    explicitlyClosed = false;\n    ws.onopen = () => {\n      status.value = \"OPEN\";\n      onConnected == null ? void 0 : onConnected(ws);\n      heartbeatResume == null ? void 0 : heartbeatResume();\n      _sendBuffer();\n    };\n    ws.onclose = (ev) => {\n      status.value = \"CLOSED\";\n      wsRef.value = void 0;\n      onDisconnected == null ? void 0 : onDisconnected(ws, ev);\n      if (!explicitlyClosed && options.autoReconnect) {\n        const {\n          retries = -1,\n          delay = 1e3,\n          onFailed\n        } = resolveNestedOptions(options.autoReconnect);\n        retried += 1;\n        if (typeof retries === \"number\" && (retries < 0 || retried < retries))\n          setTimeout(_init, delay);\n        else if (typeof retries === \"function\" && retries())\n          setTimeout(_init, delay);\n        else\n          onFailed == null ? void 0 : onFailed();\n      }\n    };\n    ws.onerror = (e) => {\n      onError == null ? void 0 : onError(ws, e);\n    };\n    ws.onmessage = (e) => {\n      resetHeartbeat();\n      if (options.heartbeat) {\n        const {\n          message = DEFAULT_PING_MESSAGE\n        } = resolveNestedOptions(options.heartbeat);\n        if (e.data === message)\n          return;\n      }\n      data.value = e.data;\n      onMessage == null ? void 0 : onMessage(ws, e);\n    };\n  };\n  if (options.heartbeat) {\n    const {\n      message = DEFAULT_PING_MESSAGE,\n      interval = 1e3,\n      pongTimeout = 1e3\n    } = resolveNestedOptions(options.heartbeat);\n    const { pause, resume } = useIntervalFn(() => {\n      send(message, false);\n      pongTimeoutWait = setTimeout(() => {\n        close();\n      }, pongTimeout);\n    }, interval, { immediate: false });\n    heartbeatPause = pause;\n    heartbeatResume = resume;\n  }\n  if (immediate)\n    _init();\n  if (autoClose) {\n    useEventListener(window, \"beforeunload\", () => close());\n    tryOnScopeDispose(close);\n  }\n  const open = () => {\n    close();\n    retried = 0;\n    _init();\n  };\n  return {\n    data,\n    status,\n    close,\n    send,\n    open,\n    ws: wsRef\n  };\n}\n\nfunction useWebWorker(url, workerOptions, options = {}) {\n  const {\n    window = defaultWindow\n  } = options;\n  const data = ref(null);\n  const worker = shallowRef();\n  const post = function post2(val) {\n    if (!worker.value)\n      return;\n    worker.value.postMessage(val);\n  };\n  const terminate = function terminate2() {\n    if (!worker.value)\n      return;\n    worker.value.terminate();\n  };\n  if (window) {\n    worker.value = new Worker(url, workerOptions);\n    worker.value.onmessage = (e) => {\n      data.value = e.data;\n    };\n    tryOnScopeDispose(() => {\n      if (worker.value)\n        worker.value.terminate();\n    });\n  }\n  return {\n    data,\n    post,\n    terminate,\n    worker\n  };\n}\n\nconst jobRunner = (userFunc) => (e) => {\n  const userFuncArgs = e.data[0];\n  return Promise.resolve(userFunc.apply(void 0, userFuncArgs)).then((result) => {\n    postMessage([\"SUCCESS\", result]);\n  }).catch((error) => {\n    postMessage([\"ERROR\", error]);\n  });\n};\n\nconst depsParser = (deps) => {\n  if (deps.length === 0)\n    return \"\";\n  const depsString = deps.map((dep) => `'${dep}'`).toString();\n  return `importScripts(${depsString})`;\n};\n\nconst createWorkerBlobUrl = (fn, deps) => {\n  const blobCode = `${depsParser(deps)}; onmessage=(${jobRunner})(${fn})`;\n  const blob = new Blob([blobCode], { type: \"text/javascript\" });\n  const url = URL.createObjectURL(blob);\n  return url;\n};\n\nconst useWebWorkerFn = (fn, options = {}) => {\n  const {\n    dependencies = [],\n    timeout,\n    window = defaultWindow\n  } = options;\n  const worker = ref();\n  const workerStatus = ref(\"PENDING\");\n  const promise = ref({});\n  const timeoutId = ref();\n  const workerTerminate = (status = \"PENDING\") => {\n    if (worker.value && worker.value._url && window) {\n      worker.value.terminate();\n      URL.revokeObjectURL(worker.value._url);\n      promise.value = {};\n      worker.value = void 0;\n      window.clearTimeout(timeoutId.value);\n      workerStatus.value = status;\n    }\n  };\n  workerTerminate();\n  tryOnScopeDispose(workerTerminate);\n  const generateWorker = () => {\n    const blobUrl = createWorkerBlobUrl(fn, dependencies);\n    const newWorker = new Worker(blobUrl);\n    newWorker._url = blobUrl;\n    newWorker.onmessage = (e) => {\n      const { resolve = () => {\n      }, reject = () => {\n      } } = promise.value;\n      const [status, result] = e.data;\n      switch (status) {\n        case \"SUCCESS\":\n          resolve(result);\n          workerTerminate(status);\n          break;\n        default:\n          reject(result);\n          workerTerminate(\"ERROR\");\n          break;\n      }\n    };\n    newWorker.onerror = (e) => {\n      const { reject = () => {\n      } } = promise.value;\n      reject(e);\n      workerTerminate(\"ERROR\");\n    };\n    if (timeout) {\n      timeoutId.value = setTimeout(() => workerTerminate(\"TIMEOUT_EXPIRED\"), timeout);\n    }\n    return newWorker;\n  };\n  const callWorker = (...fnArgs) => new Promise((resolve, reject) => {\n    promise.value = {\n      resolve,\n      reject\n    };\n    worker.value && worker.value.postMessage([[...fnArgs]]);\n    workerStatus.value = \"RUNNING\";\n  });\n  const workerFn = (...fnArgs) => {\n    if (workerStatus.value === \"RUNNING\") {\n      console.error(\"[useWebWorkerFn] You can only run one instance of the worker at a time.\");\n      return Promise.reject();\n    }\n    worker.value = generateWorker();\n    return callWorker(...fnArgs);\n  };\n  return {\n    workerFn,\n    workerStatus,\n    workerTerminate\n  };\n};\n\nfunction useWindowFocus({ window = defaultWindow } = {}) {\n  if (!window)\n    return ref(false);\n  const focused = ref(window.document.hasFocus());\n  useEventListener(window, \"blur\", () => {\n    focused.value = false;\n  });\n  useEventListener(window, \"focus\", () => {\n    focused.value = true;\n  });\n  return focused;\n}\n\nfunction useWindowScroll({ window = defaultWindow } = {}) {\n  if (!window) {\n    return {\n      x: ref(0),\n      y: ref(0)\n    };\n  }\n  const x = ref(window.pageXOffset);\n  const y = ref(window.pageYOffset);\n  useEventListener(\"scroll\", () => {\n    x.value = window.pageXOffset;\n    y.value = window.pageYOffset;\n  }, {\n    capture: false,\n    passive: true\n  });\n  return { x, y };\n}\n\nfunction useWindowSize(options = {}) {\n  const {\n    window = defaultWindow,\n    initialWidth = Infinity,\n    initialHeight = Infinity,\n    listenOrientation = true,\n    includeScrollbar = true\n  } = options;\n  const width = ref(initialWidth);\n  const height = ref(initialHeight);\n  const update = () => {\n    if (window) {\n      if (includeScrollbar) {\n        width.value = window.innerWidth;\n        height.value = window.innerHeight;\n      } else {\n        width.value = window.document.documentElement.clientWidth;\n        height.value = window.document.documentElement.clientHeight;\n      }\n    }\n  };\n  update();\n  tryOnMounted(update);\n  useEventListener(\"resize\", update, { passive: true });\n  if (listenOrientation)\n    useEventListener(\"orientationchange\", update, { passive: true });\n  return { width, height };\n}\n\nexport { DefaultMagicKeysAliasMap, StorageSerializers, SwipeDirection, TransitionPresets, computedAsync as asyncComputed, breakpointsAntDesign, breakpointsBootstrapV5, breakpointsQuasar, breakpointsSematic, breakpointsTailwind, breakpointsVuetify, cloneFnJSON, computedAsync, computedInject, createFetch, createUnrefFn, defaultDocument, defaultLocation, defaultNavigator, defaultWindow, getSSRHandler, mapGamepadToXbox360Controller, onClickOutside, onKeyDown, onKeyPressed, onKeyStroke, onKeyUp, onLongPress, onStartTyping, setSSRHandler, templateRef, unrefElement, useActiveElement, useAsyncQueue, useAsyncState, useBase64, useBattery, useBluetooth, useBreakpoints, useBroadcastChannel, useBrowserLocation, useCached, useClipboard, useCloned, useColorMode, useConfirmDialog, useCssVar, useCurrentElement, useCycleList, useDark, useDebouncedRefHistory, useDeviceMotion, useDeviceOrientation, useDevicePixelRatio, useDevicesList, useDisplayMedia, useDocumentVisibility, useDraggable, useDropZone, useElementBounding, useElementByPoint, useElementHover, useElementSize, useElementVisibility, useEventBus, useEventListener, useEventSource, useEyeDropper, useFavicon, useFetch, useFileDialog, useFileSystemAccess, useFocus, useFocusWithin, useFps, useFullscreen, useGamepad, useGeolocation, useIdle, useImage, useInfiniteScroll, useIntersectionObserver, useKeyModifier, useLocalStorage, useMagicKeys, useManualRefHistory, useMediaControls, useMediaQuery, useMemoize, useMemory, useMounted, useMouse, useMouseInElement, useMousePressed, useMutationObserver, useNavigatorLanguage, useNetwork, useNow, useObjectUrl, useOffsetPagination, useOnline, usePageLeave, useParallax, usePermission, usePointer, usePointerSwipe, usePreferredColorScheme, usePreferredContrast, usePreferredDark, usePreferredLanguages, usePreferredReducedMotion, useRafFn, useRefHistory, useResizeObserver, useScreenOrientation, useScreenSafeArea, useScriptTag, useScroll, useScrollLock, useSessionStorage, useShare, useSpeechRecognition, useSpeechSynthesis, useStepper, useStorage, useStorageAsync, useStyleTag, useSupported, useSwipe, useTemplateRefsList, useTextDirection, useTextSelection, useTextareaAutosize, useThrottledRefHistory, useTimeAgo, useTimeoutPoll, useTimestamp, useTitle, useTransition, useUrlSearchParams, useUserMedia, useVModel, useVModels, useVibrate, useVirtualList, useWakeLock, useWebNotification, useWebSocket, useWebWorker, useWebWorkerFn, useWindowFocus, useWindowScroll, useWindowSize };\n","import { Posts } from \"./types\"\n\nexport const constructUrl = (post: Posts, subdomain = false) => {\n  if (subdomain) return `/${post.slug}`\n  if (process.dev) return `http://${post?.profiles?.username}.localhost:3000/${post.slug}`\n  else {\n    if (post?.profiles?.domains?.active) return `https://${post.profiles.domains.url}/${post.slug}`\n    else return `https://${post?.profiles?.username}.keypress.blog/${post.slug}`\n  }\n}\n\nexport const removeVietnameseTones = (str: string) => {\n  str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g,\"a\");\n  str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,\"e\");\n  str = str.replace(/ì|í|ị|ỉ|ĩ/g,\"i\");\n  str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g,\"o\");\n  str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,\"u\");\n  str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g,\"y\");\n  str = str.replace(/đ/g,\"d\");\n  str = str.replace(/À|Á|Ạ|Ả|Ã|Â|Ầ|Ấ|Ậ|Ẩ|Ẫ|Ă|Ằ|Ắ|Ặ|Ẳ|Ẵ/g, \"A\");\n  str = str.replace(/È|É|Ẹ|Ẻ|Ẽ|Ê|Ề|Ế|Ệ|Ể|Ễ/g, \"E\");\n  str = str.replace(/Ì|Í|Ị|Ỉ|Ĩ/g, \"I\");\n  str = str.replace(/Ò|Ó|Ọ|Ỏ|Õ|Ô|Ồ|Ố|Ộ|Ổ|Ỗ|Ơ|Ờ|Ớ|Ợ|Ở|Ỡ/g, \"O\");\n  str = str.replace(/Ù|Ú|Ụ|Ủ|Ũ|Ư|Ừ|Ứ|Ự|Ử|Ữ/g, \"U\");\n  str = str.replace(/Ỳ|Ý|Ỵ|Ỷ|Ỹ/g, \"Y\");\n  str = str.replace(/Đ/g, \"D\");\n  // Some system encode vietnamese combining accent as individual utf-8 characters\n  // Một vài bộ encode coi các dấu mũ, dấu chữ như một kí tự riêng biệt nên thêm hai dòng này\n  str = str.replace(/\\u0300|\\u0301|\\u0303|\\u0309|\\u0323/g, \"\"); // ̀ ́ ̃ ̉ ̣  huyền, sắc, ngã, hỏi, nặng\n  str = str.replace(/\\u02C6|\\u0306|\\u031B/g, \"\"); // ˆ ̆ ̛  Â, Ê, Ă, Ơ, Ư\n  // Remove extra spaces\n  // Bỏ các khoảng trắng liền nhau\n  str = str.replace(/ + /g,\" \");\n  str = str.trim();\n  // Remove punctuations\n  // Bỏ dấu câu, kí tự đặc biệt\n  str = str.replace(/!|@|%|\\^|\\*|\\(|\\)|\\+|\\=|\\<|\\>|\\?|\\/|,|\\.|\\:|\\;|\\'|\\\"|\\&|\\#|\\[|\\]|~|\\$|_|`|-|{|}|\\||\\\\/g,\" \");\n  return str;\n}\n","import { Node } from '@tiptap/core';\n\nconst Document = Node.create({\r\n    name: 'doc',\r\n    topNode: true,\r\n    content: 'block+',\r\n});\n\nexport { Document, Document as default };\n//# sourceMappingURL=tiptap-extension-document.esm.js.map\n","import { Extension } from '@tiptap/core';\nimport { Plugin } from 'prosemirror-state';\nimport { Decoration, DecorationSet } from 'prosemirror-view';\n\nconst Placeholder = Extension.create({\r\n    name: 'placeholder',\r\n    addOptions() {\r\n        return {\r\n            emptyEditorClass: 'is-editor-empty',\r\n            emptyNodeClass: 'is-empty',\r\n            placeholder: 'Write something …',\r\n            showOnlyWhenEditable: true,\r\n            showOnlyCurrent: true,\r\n            includeChildren: false,\r\n        };\r\n    },\r\n    addProseMirrorPlugins() {\r\n        return [\r\n            new Plugin({\r\n                props: {\r\n                    decorations: ({ doc, selection }) => {\r\n                        const active = this.editor.isEditable || !this.options.showOnlyWhenEditable;\r\n                        const { anchor } = selection;\r\n                        const decorations = [];\r\n                        if (!active) {\r\n                            return null;\r\n                        }\r\n                        doc.descendants((node, pos) => {\r\n                            const hasAnchor = anchor >= pos && anchor <= (pos + node.nodeSize);\r\n                            const isEmpty = !node.isLeaf && !node.childCount;\r\n                            if ((hasAnchor || !this.options.showOnlyCurrent) && isEmpty) {\r\n                                const classes = [this.options.emptyNodeClass];\r\n                                if (this.editor.isEmpty) {\r\n                                    classes.push(this.options.emptyEditorClass);\r\n                                }\r\n                                const decoration = Decoration.node(pos, pos + node.nodeSize, {\r\n                                    class: classes.join(' '),\r\n                                    'data-placeholder': typeof this.options.placeholder === 'function'\r\n                                        ? this.options.placeholder({\r\n                                            editor: this.editor,\r\n                                            node,\r\n                                            pos,\r\n                                            hasAnchor,\r\n                                        })\r\n                                        : this.options.placeholder,\r\n                                });\r\n                                decorations.push(decoration);\r\n                            }\r\n                            return this.options.includeChildren;\r\n                        });\r\n                        return DecorationSet.create(doc, decorations);\r\n                    },\r\n                },\r\n            }),\r\n        ];\r\n    },\r\n});\n\nexport { Placeholder, Placeholder as default };\n//# sourceMappingURL=tiptap-extension-placeholder.esm.js.map\n","<script lang=\"ts\" setup>\nimport { useEditor, EditorContent, Extension } from \"@tiptap/vue-3\"\nimport Document from \"@tiptap/extension-document\"\nimport Text from \"@tiptap/extension-text\"\nimport Heading from \"@tiptap/extension-heading\"\nimport Placeholder from \"@tiptap/extension-placeholder\"\nimport Focus from \"@tiptap/extension-focus\"\nimport History from \"@tiptap/extension-history\"\n\nconst props = defineProps<{\n  modelValue: string\n}>()\nconst emit = defineEmits([\"update:modelValue\"])\n\nconst focusNextEditor = () => {\n  const editors = document.querySelectorAll(\".ProseMirror\")\n  let nextEditor = editors.item(1) as HTMLElement\n  if (nextEditor) {\n    nextEditor.focus()\n    return true\n  }\n}\nconst Enter = Extension.create({\n  addKeyboardShortcuts() {\n    return {\n      Enter: focusNextEditor,\n      \"Mod-Enter\": focusNextEditor,\n      ArrowDown: focusNextEditor,\n    }\n  },\n})\n\nconst CustomDocument = Document.extend({\n  content: \"heading\",\n})\nconst editor = useEditor({\n  content: props.modelValue ?? \"\",\n  extensions: [\n    CustomDocument,\n    Text,\n    Heading,\n    Focus,\n    Enter,\n    History,\n    Placeholder.configure({\n      placeholder: \"What’s the title?\",\n    }),\n  ],\n  autofocus: true,\n  onUpdate(props) {\n    emit(\"update:modelValue\", props.editor.getJSON().content?.[0].content?.[0].text)\n  },\n})\n\nwatch(\n  () => props.modelValue,\n  (newValue) => {\n    const title = editor.value.getJSON().content?.[0].content?.[0].text\n    const isSame = title === newValue\n    if (isSame) return\n\n    editor.value.commands.setContent(newValue, false)\n  }\n)\n</script>\n\n<template>\n  <EditorContent :editor=\"editor\" />\n</template>\n","<script setup lang=\"ts\">\n// bubble menu: https://tiptap.dev/api/extensions/bubble-menu\nimport { BubbleMenu } from \"@tiptap/vue-3\"\nimport { PropType } from \"vue\"\nimport type { Editor } from \"@tiptap/core\"\nimport type { NodeSelection } from \"prosemirror-state\"\nimport { TextSelection } from \"prosemirror-state\"\n\nconst props = defineProps({\n  editor: Object as PropType<Editor>,\n})\n\ntype NodeType = \"image\" | \"text\" | \"video\" | \"iframe\"\nconst nodeType = computed<NodeType | undefined>(() => {\n  const selection = props.editor.state.selection as NodeSelection\n  const isImage = selection.node?.type.name === \"image\"\n  const isIframe = selection.node?.type.name === \"iframe\"\n  const isText = selection instanceof TextSelection\n  if (isImage) return \"image\"\n  if (isIframe) return \"iframe\"\n  if (isText) return \"text\"\n  return undefined\n})\n</script>\n\n<template>\n  <BubbleMenu :editor=\"editor\" :tippy-options=\"{ duration: 100 }\" v-if=\"editor\">\n    <div class=\"p-2 rounded-xl shadow-md bg-white\">\n      <div v-if=\"nodeType === 'text'\" class=\"flex items-center space-x-1 text-xl text-gray-400\">\n        <button\n          class=\"bubble-item\"\n          @click=\"editor.chain().focus().toggleBold().run()\"\n          :class=\"{ 'is-active': editor.isActive('bold') }\"\n        >\n          <div class=\"i-ic-round-format-bold\"></div>\n        </button>\n        <button\n          class=\"bubble-item\"\n          @click=\"editor.chain().focus().toggleItalic().run()\"\n          :class=\"{ 'is-active': editor.isActive('italic') }\"\n        >\n          <div class=\"i-ic-round-format-italic\"></div>\n        </button>\n        <button\n          class=\"bubble-item\"\n          @click=\"editor.chain().focus().toggleStrike().run()\"\n          :class=\"{ 'is-active': editor.isActive('strike') }\"\n        >\n          <div class=\"i-ic-round-format-strikethrough\"></div>\n        </button>\n        <button\n          class=\"bubble-item\"\n          @click=\"editor.chain().focus().toggleUnderline().run()\"\n          :class=\"{ 'is-active': editor.isActive('underline') }\"\n        >\n          <div class=\"i-ic-round-format-underlined\"></div>\n        </button>\n      </div>\n\n      <div v-if=\"nodeType === 'image'\">\n        <button class=\"bubble-item\" @click=\"editor.commands.openModal('image')\">Edit</button>\n      </div>\n      <div v-if=\"nodeType === 'iframe'\">\n        <button class=\"bubble-item\" @click=\"editor.commands.openModal('iframe')\">Edit</button>\n        <button>Focus</button>\n      </div>\n    </div>\n  </BubbleMenu>\n</template>\n\n<style lang=\"postcss\">\n.bubble-item {\n  @apply focus:bg-light-500 focus:text-dark-300 p-1 rounded-lg transition;\n}\n.is-active {\n  @apply !text-dark-300;\n}\n</style>\n","import { Extension } from \"@tiptap/core\"\nimport Suggestion from \"@tiptap/suggestion\"\n\n// ref: https://tiptap.dev/experiments/commands\nexport default Extension.create({\n  name: \"commands\",\n\n  addOptions() {\n    return {\n      suggestion: {\n        char: \"/\",\n        command: ({ editor, range, props }) => {\n          props.command({ editor, range })\n        },\n      },\n    }\n  },\n\n  addProseMirrorPlugins() {\n    return [\n      Suggestion({\n        editor: this.editor,\n        startOfLine: true,\n        ...this.options.suggestion,\n      }),\n    ]\n  },\n})\n","<template>\n  <div class=\"bg-white px-2 py-4 rounded-xl shadow-xl flex flex-col w-72\">\n    <template v-if=\"items.length\">\n      <button\n        class=\"p-2 flex flex-col text-sm text-left rounded-lg bg-transparent transition\"\n        :class=\"{ '!bg-light-300': index === selectedIndex }\"\n        v-for=\"(item, index) in items\"\n        :key=\"index\"\n        @click=\"selectItem(index)\"\n      >\n        <span>{{ item.title }}</span>\n        <span class=\"opacity-40 text-xs\">{{ item.description }}</span>\n      </button>\n    </template>\n    <div class=\"item\" v-else>No result</div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { PropType } from \"vue\"\n\ninterface Item {\n  title: string\n  description: string\n}\n\nconst props = defineProps({\n  items: {\n    type: Array as PropType<Item[]>,\n    required: true,\n  },\n  command: {\n    type: Function,\n    required: true,\n  },\n})\nconst { items } = toRefs(props)\nconst selectedIndex = ref(0)\n\nwatch(items, () => (selectedIndex.value = 0))\n\nconst selectItem = (index: number) => {\n  const item = items.value[index]\n\n  if (item) {\n    props.command(item)\n  }\n}\n\nconst onKeyDown = (event: KeyboardEvent) => {\n  if (event.key === \"ArrowUp\") {\n    selectedIndex.value = (selectedIndex.value + items.value.length - 1) % items.value.length\n    return true\n  }\n  if (event.key === \"ArrowDown\") {\n    selectedIndex.value = (selectedIndex.value + 1) % items.value.length\n    return true\n  }\n  if (event.key === \"Enter\") {\n    selectItem(selectedIndex.value)\n    return true\n  } else return\n}\n\ndefineExpose({\n  onKeyDown,\n})\n</script>\n","import type { Editor, Range } from \"@tiptap/core\"\nimport { VueRenderer } from \"@tiptap/vue-3\"\nimport tippy from \"tippy.js\"\n\nimport CommandsList from \"~~/components/Tiptap/CommandList.vue\"\n\ninterface Command {\n  editor: Editor\n  range: Range\n}\nexport default {\n  items: ({ query }) => {\n    return [\n      {\n        title: \"Heading 2\",\n        description: \"Big section heading.\",\n        command: ({ editor, range }: Command) => {\n          editor.chain().focus().deleteRange(range).setNode(\"heading\", { level: 2 }).run()\n        },\n      },\n      {\n        title: \"Heading 3\",\n        description: \"Medium section heading.\",\n        command: ({ editor, range }: Command) => {\n          editor.chain().focus().deleteRange(range).setNode(\"heading\", { level: 3 }).run()\n        },\n      },\n      {\n        title: \"Numbered List\",\n        description: \"Create a list with numbering.\",\n        command: ({ editor, range }: Command) => {\n          editor.chain().focus().deleteRange(range).wrapInList(\"orderedList\").run()\n        },\n      },\n      {\n        title: \"Bulleted List\",\n        description: \"Create a simple bulleted list.\",\n        command: ({ editor, range }: Command) => {\n          editor.chain().focus().deleteRange(range).wrapInList(\"bulletList\").run()\n        },\n      },\n      {\n        title: \"Image\",\n        description: \"Upload or embed with link.\",\n        command: ({ editor, range }: Command) => {\n          editor.chain().focus().deleteRange(range).openModal(\"image\").run()\n        },\n      },\n      {\n        title: \"Iframe\",\n        description: \"Embed website with link.\",\n        command: ({ editor, range }: Command) => {\n          editor.chain().focus().deleteRange(range).openModal(\"iframe\").run()\n        },\n      },\n      // {\n      //   title: \"bold\",\n      //   command: ({ editor, range }: Command) => {\n      //     editor.chain().focus().deleteRange(range).setMark(\"bold\").run()\n      //   },\n      // },\n      // {\n      //   title: \"underline\",\n      //   command: ({ editor, range }: Command) => {\n      //     editor.chain().focus().deleteRange(range).setMark(\"underline\").run()\n      //   },\n      // },\n      // {\n      //   title: \"italic\",\n      //   command: ({ editor, range }: Command) => {\n      //     editor.chain().focus().deleteRange(range).setMark(\"italic\").run()\n      //   },\n      // },\n    ]\n      .filter((item) => item.title.toLowerCase().startsWith(query.toLowerCase()))\n      .slice(0, 10)\n  },\n\n  render: () => {\n    let component\n    let popup\n\n    return {\n      onStart: (props) => {\n        component = new VueRenderer(CommandsList, {\n          props,\n          editor: props.editor,\n        })\n\n        if (!props.clientRect) {\n          return\n        }\n\n        popup = tippy(\"body\", {\n          getReferenceClientRect: props.clientRect,\n          appendTo: () => document.body,\n          content: component.element,\n          showOnCreate: true,\n          interactive: true,\n          trigger: \"manual\",\n          placement: \"bottom-start\",\n        })\n      },\n\n      onUpdate(props) {\n        component.updateProps(props)\n\n        if (!props.clientRect) {\n          return\n        }\n\n        popup[0].setProps({\n          getReferenceClientRect: props.clientRect,\n        })\n      },\n\n      onKeyDown(props) {\n        if (props.event.key === \"Escape\") {\n          popup[0].hide()\n\n          return true\n        }\n\n        return component.ref?.onKeyDown(props.event)\n      },\n\n      onExit() {\n        popup[0].destroy()\n        component.destroy()\n      },\n    }\n  },\n}\n","import { Extension } from \"@tiptap/core\"\n\nexport default Extension.create({\n  addKeyboardShortcuts() {\n    // copied from tiptap\n    const defaultHandler = () =>\n      this.editor.commands.first(({ commands }) => [\n        () => commands.newlineInCode(),\n        () => commands.createParagraphNear(),\n        () => commands.liftEmptyBlock(),\n        () => commands.splitListItem(\"listItem\"),\n        () => commands.splitBlock(),\n      ])\n\n    const shiftEnter = () => {\n      return this.editor.commands.first(({ commands }) => [\n        () => commands.newlineInCode(),\n        () => commands.createParagraphNear(),\n      ])\n    }\n\n    const modEnter = () => {\n      return this.editor.commands.first(({ commands }) => [\n        () => commands.newlineInCode(),\n\n        (a) => {\n          commands.selectTextblockEnd()\n          return commands.createParagraphNear()\n        },\n      ])\n    }\n\n    return {\n      Enter: defaultHandler,\n      \"Shift-Enter\": shiftEnter,\n      \"Mod-Enter\": modEnter,\n    }\n  },\n})\n","import { Extension } from \"@tiptap/core\"\nimport Code from \"@tiptap/extension-code\"\nimport CodeBlock from \"@tiptap/extension-code-block\"\nimport CodeBlockLowLight from \"@tiptap/extension-code-block-lowlight\"\nimport { lowlight } from \"lowlight\"\n\nimport css from \"highlight.js/lib/languages/css\"\nimport js from \"highlight.js/lib/languages/javascript\"\nimport ts from \"highlight.js/lib/languages/typescript\"\nimport html from \"highlight.js/lib/languages/xml\"\n\n// ref: https://tiptap.dev/experiments/commands\n\nlowlight.registerLanguage(\"html\", html)\nlowlight.registerLanguage(\"css\", css)\nlowlight.registerLanguage(\"js\", js)\nlowlight.registerLanguage(\"ts\", ts)\n\nexport default Extension.create({\n  name: \"code\",\n  addExtensions() {\n    return [\n      Code,\n      CodeBlock,\n      CodeBlockLowLight.configure({\n        lowlight,\n      }),\n    ]\n  },\n})\n","import { combineTransactionSteps, getChangedRanges, getMarksBetween, findChildrenInRange, getAttributes, Mark, mergeAttributes, markPasteRule } from '@tiptap/core';\nimport { test, find, registerCustomProtocol } from 'linkifyjs';\nimport { Plugin, PluginKey } from 'prosemirror-state';\n\nfunction autolink(options) {\r\n    return new Plugin({\r\n        key: new PluginKey('autolink'),\r\n        appendTransaction: (transactions, oldState, newState) => {\r\n            const docChanges = transactions.some(transaction => transaction.docChanged)\r\n                && !oldState.doc.eq(newState.doc);\r\n            const preventAutolink = transactions.some(transaction => transaction.getMeta('preventAutolink'));\r\n            if (!docChanges || preventAutolink) {\r\n                return;\r\n            }\r\n            const { tr } = newState;\r\n            const transform = combineTransactionSteps(oldState.doc, [...transactions]);\r\n            const { mapping } = transform;\r\n            const changes = getChangedRanges(transform);\r\n            changes.forEach(({ oldRange, newRange }) => {\r\n                // at first we check if we have to remove links\r\n                getMarksBetween(oldRange.from, oldRange.to, oldState.doc)\r\n                    .filter(item => item.mark.type === options.type)\r\n                    .forEach(oldMark => {\r\n                    const newFrom = mapping.map(oldMark.from);\r\n                    const newTo = mapping.map(oldMark.to);\r\n                    const newMarks = getMarksBetween(newFrom, newTo, newState.doc)\r\n                        .filter(item => item.mark.type === options.type);\r\n                    if (!newMarks.length) {\r\n                        return;\r\n                    }\r\n                    const newMark = newMarks[0];\r\n                    const oldLinkText = oldState.doc.textBetween(oldMark.from, oldMark.to, undefined, ' ');\r\n                    const newLinkText = newState.doc.textBetween(newMark.from, newMark.to, undefined, ' ');\r\n                    const wasLink = test(oldLinkText);\r\n                    const isLink = test(newLinkText);\r\n                    // remove only the link, if it was a link before too\r\n                    // because we don’t want to remove links that were set manually\r\n                    if (wasLink && !isLink) {\r\n                        tr.removeMark(newMark.from, newMark.to, options.type);\r\n                    }\r\n                });\r\n                // now let’s see if we can add new links\r\n                const nodesInChangedRanges = findChildrenInRange(newState.doc, newRange, node => node.isTextblock);\r\n                let textBlock;\r\n                let textBeforeWhitespace;\r\n                if (nodesInChangedRanges.length > 1) {\r\n                    // Grab the first node within the changed ranges (ex. the first of two paragraphs when hitting enter)\r\n                    textBlock = nodesInChangedRanges[0];\r\n                    textBeforeWhitespace = newState.doc.textBetween(textBlock.pos, textBlock.pos + textBlock.node.nodeSize, undefined, ' ');\r\n                }\r\n                else if (nodesInChangedRanges.length\r\n                    // We want to make sure to include the block seperator argument to treat hard breaks like spaces\r\n                    && newState.doc.textBetween(newRange.from, newRange.to, ' ', ' ').endsWith(' ')) {\r\n                    textBlock = nodesInChangedRanges[0];\r\n                    textBeforeWhitespace = newState.doc.textBetween(textBlock.pos, newRange.to, undefined, ' ');\r\n                }\r\n                if (textBlock && textBeforeWhitespace) {\r\n                    const wordsBeforeWhitespace = textBeforeWhitespace.split(' ').filter(s => s !== '');\r\n                    if (wordsBeforeWhitespace.length <= 0) {\r\n                        return false;\r\n                    }\r\n                    const lastWordBeforeSpace = wordsBeforeWhitespace[wordsBeforeWhitespace.length - 1];\r\n                    const lastWordAndBlockOffset = textBlock.pos + textBeforeWhitespace.lastIndexOf(lastWordBeforeSpace);\r\n                    if (!lastWordBeforeSpace) {\r\n                        return false;\r\n                    }\r\n                    find(lastWordBeforeSpace)\r\n                        .filter(link => link.isLink)\r\n                        .filter(link => {\r\n                        if (options.validate) {\r\n                            return options.validate(link.value);\r\n                        }\r\n                        return true;\r\n                    })\r\n                        // calculate link position\r\n                        .map(link => ({\r\n                        ...link,\r\n                        from: lastWordAndBlockOffset + link.start + 1,\r\n                        to: lastWordAndBlockOffset + link.end + 1,\r\n                    }))\r\n                        // add link mark\r\n                        .forEach(link => {\r\n                        tr.addMark(link.from, link.to, options.type.create({\r\n                            href: link.href,\r\n                        }));\r\n                    });\r\n                }\r\n            });\r\n            if (!tr.steps.length) {\r\n                return;\r\n            }\r\n            return tr;\r\n        },\r\n    });\r\n}\n\nfunction clickHandler(options) {\r\n    return new Plugin({\r\n        key: new PluginKey('handleClickLink'),\r\n        props: {\r\n            handleClick: (view, pos, event) => {\r\n                var _a;\r\n                const attrs = getAttributes(view.state, options.type.name);\r\n                const link = (_a = event.target) === null || _a === void 0 ? void 0 : _a.closest('a');\r\n                if (link && attrs.href) {\r\n                    window.open(attrs.href, attrs.target);\r\n                    return true;\r\n                }\r\n                return false;\r\n            },\r\n        },\r\n    });\r\n}\n\nfunction pasteHandler(options) {\r\n    return new Plugin({\r\n        key: new PluginKey('handlePasteLink'),\r\n        props: {\r\n            handlePaste: (view, event, slice) => {\r\n                const { state } = view;\r\n                const { selection } = state;\r\n                const { empty } = selection;\r\n                if (empty) {\r\n                    return false;\r\n                }\r\n                let textContent = '';\r\n                slice.content.forEach(node => {\r\n                    textContent += node.textContent;\r\n                });\r\n                const link = find(textContent).find(item => item.isLink && item.value === textContent);\r\n                if (!textContent || !link) {\r\n                    return false;\r\n                }\r\n                options.editor.commands.setMark(options.type, {\r\n                    href: link.href,\r\n                });\r\n                return true;\r\n            },\r\n        },\r\n    });\r\n}\n\nconst Link = Mark.create({\r\n    name: 'link',\r\n    priority: 1000,\r\n    keepOnSplit: false,\r\n    onCreate() {\r\n        this.options.protocols.forEach(registerCustomProtocol);\r\n    },\r\n    inclusive() {\r\n        return this.options.autolink;\r\n    },\r\n    addOptions() {\r\n        return {\r\n            openOnClick: true,\r\n            linkOnPaste: true,\r\n            autolink: true,\r\n            protocols: [],\r\n            HTMLAttributes: {\r\n                target: '_blank',\r\n                rel: 'noopener noreferrer nofollow',\r\n                class: null,\r\n            },\r\n            validate: undefined,\r\n        };\r\n    },\r\n    addAttributes() {\r\n        return {\r\n            href: {\r\n                default: null,\r\n            },\r\n            target: {\r\n                default: this.options.HTMLAttributes.target,\r\n            },\r\n            class: {\r\n                default: this.options.HTMLAttributes.class,\r\n            },\r\n        };\r\n    },\r\n    parseHTML() {\r\n        return [\r\n            { tag: 'a[href]:not([href *= \"javascript:\" i])' },\r\n        ];\r\n    },\r\n    renderHTML({ HTMLAttributes }) {\r\n        return [\r\n            'a',\r\n            mergeAttributes(this.options.HTMLAttributes, HTMLAttributes),\r\n            0,\r\n        ];\r\n    },\r\n    addCommands() {\r\n        return {\r\n            setLink: attributes => ({ chain }) => {\r\n                return chain()\r\n                    .setMark(this.name, attributes)\r\n                    .setMeta('preventAutolink', true)\r\n                    .run();\r\n            },\r\n            toggleLink: attributes => ({ chain }) => {\r\n                return chain()\r\n                    .toggleMark(this.name, attributes, { extendEmptyMarkRange: true })\r\n                    .setMeta('preventAutolink', true)\r\n                    .run();\r\n            },\r\n            unsetLink: () => ({ chain }) => {\r\n                return chain()\r\n                    .unsetMark(this.name, { extendEmptyMarkRange: true })\r\n                    .setMeta('preventAutolink', true)\r\n                    .run();\r\n            },\r\n        };\r\n    },\r\n    addPasteRules() {\r\n        return [\r\n            markPasteRule({\r\n                find: text => find(text)\r\n                    .filter(link => {\r\n                    if (this.options.validate) {\r\n                        return this.options.validate(link.value);\r\n                    }\r\n                    return true;\r\n                })\r\n                    .filter(link => link.isLink)\r\n                    .map(link => ({\r\n                    text: link.value,\r\n                    index: link.start,\r\n                    data: link,\r\n                })),\r\n                type: this.type,\r\n                getAttributes: match => {\r\n                    var _a;\r\n                    return ({\r\n                        href: (_a = match.data) === null || _a === void 0 ? void 0 : _a.href,\r\n                    });\r\n                },\r\n            }),\r\n        ];\r\n    },\r\n    addProseMirrorPlugins() {\r\n        const plugins = [];\r\n        if (this.options.autolink) {\r\n            plugins.push(autolink({\r\n                type: this.type,\r\n                validate: this.options.validate,\r\n            }));\r\n        }\r\n        if (this.options.openOnClick) {\r\n            plugins.push(clickHandler({\r\n                type: this.type,\r\n            }));\r\n        }\r\n        if (this.options.linkOnPaste) {\r\n            plugins.push(pasteHandler({\r\n                editor: this.editor,\r\n                type: this.type,\r\n            }));\r\n        }\r\n        return plugins;\r\n    },\r\n});\n\nexport { Link, Link as default };\n//# sourceMappingURL=tiptap-extension-link.esm.js.map\n","// 1. Import the extension\nimport Link from \"@tiptap/extension-link\"\n\n// 2. Overwrite the keyboard shortcuts\nexport default Link.extend({\n  exitable: true,\n})\n","// 1. Import the extension\nimport Placeholder from \"@tiptap/extension-placeholder\"\nimport { NodeSelection, TextSelection } from \"prosemirror-state\"\n\n// 2. Overwrite the keyboard shortcuts\nexport default Placeholder.extend({\n  addOptions() {\n    return {\n      ...this.parent?.(),\n      placeholder: ({ node, editor }) => {\n        const selection = editor.state.selection as NodeSelection\n        if (selection instanceof TextSelection) {\n          return \" Type '/' for commands\"\n        }\n      },\n      includeChildren: true,\n    }\n  },\n})\n","<script setup lang=\"ts\">\nimport { useFocusTrap } from \"@vueuse/integrations/useFocusTrap\"\n\nconst props = defineProps({ open: Boolean, confirmAction: Function, innerClass: String })\nconst emits = defineEmits([\"update:open\"])\nconst el = ref()\nonClickOutside(el, () => {\n  emits(\"update:open\", !props.open)\n})\nconst { activate, deactivate } = useFocusTrap(el, { immediate: true })\n\nonKeyStroke(\"Escape\", () => emits(\"update:open\", false))\n\nwatch(\n  () => props.open,\n  (n) => nextTick(() => (n ? activate() : deactivate()))\n)\n</script>\n\n<template>\n  <transition name=\"command-dialog\">\n    <div v-if=\"open\" class=\"fixed top-0 left-0 w-screen h-screen z-300 flex items-center justify-center\">\n      <div\n        ref=\"el\"\n        class=\"inner w-full mx-4 max-w-112 bg-white rounded-2xl shadow-xl overflow-hidden\"\n        :class=\"innerClass\"\n      >\n        <slot>Content</slot>\n      </div>\n    </div>\n  </transition>\n</template>\n","<script setup lang=\"ts\">\nconst props = defineProps({\n  modelValue: String,\n})\nconst emits = defineEmits([\"update:modelValue\"])\n\nconst client = useSupabaseClient()\nconst user = useSupabaseUser()\nconst { files, open: openFileDialog, reset } = useFileDialog({ accept: \"image/*\" })\n\nconst { base64 } = useBase64(computed(() => files.value?.item?.(0)))\nconst imageSrc = ref(props.modelValue)\n\nconst isUploading = ref(false)\nconst upload = async (file: File) => {\n  isUploading.value = true\n  const filename = `${user.value?.id}/${file.name}`\n  const { data, error } = await client.storage.from(\"posts\").upload(filename, file, { cacheControl: \"3600\" })\n\n  const { publicURL } = client.storage.from(\"posts\").getPublicUrl(data?.Key?.replace(\"posts/\", \"\") ?? filename)\n  emits(\"update:modelValue\", publicURL)\n  isUploading.value = false\n}\n\nwatch(files, async (n) => {\n  if (n.length) {\n    const file = n.item(0)\n    upload(file)\n  }\n})\nwatch(base64, (n) => (imageSrc.value = n))\n</script>\n\n<template>\n  <button\n    :disabled=\"isUploading\"\n    accept=\"image/*\"\n    type=\"button\"\n    class=\"block w-full p-0 ring-3 ring-transparent hover:ring-gray-400 focus:ring-gray-400 rounded-2xl transition overflow-hidden\"\n    @click=\"openFileDialog()\"\n  >\n    <div class=\"h-64 w-full bg-light-300 flex items-center justify-center\">\n      <img class=\"w-full h-full object-scale-down\" :src=\"imageSrc\" v-if=\"imageSrc\" />\n      <p v-else class=\"text-gray-400\">Press 'Enter' to upload image</p>\n    </div>\n  </button>\n</template>\n","<script setup lang=\"ts\">\nimport type { Editor } from \"@tiptap/core\"\nimport { PropType } from \"vue\"\n\nconst props = defineProps({\n  show: Boolean,\n  editor: Object as PropType<Editor>,\n})\nconst isVisible = ref(props.show)\n\nconst alt = ref(\"\")\nconst image = ref(\"\")\nconst isLoading = ref(false)\n\nconst save = async () => {\n  if (!image.value) return\n  isLoading.value = true\n\n  props.editor\n    .chain()\n    .focus()\n    .setImage({\n      src: image.value,\n      alt: alt.value,\n    })\n    .run()\n\n  isLoading.value = false\n  isVisible.value = false\n}\n\nwatch(isVisible, () => {\n  if (!isVisible.value) {\n    const editorEl = document.querySelector(\".content .ProseMirror\") as HTMLDivElement\n    if (editorEl) editorEl.focus()\n  }\n})\n</script>\n\n<template>\n  <Modal v-model:open=\"isVisible\">\n    <div class=\"flex flex-col p-6\">\n      <h2 class=\"text-3xl font-bold\">Add image</h2>\n\n      <div class=\"my-6\">\n        <Upload v-model=\"image\"></Upload>\n\n        <div class=\"mt-4 flex items-center\">\n          <input type=\"text\" name=\"alt-name\" id=\"alt-name\" placeholder=\"alternate\" v-model=\"alt\" />\n        </div>\n      </div>\n\n      <div class=\"flex justify-end\">\n        <Button class=\"btn-primary ml-2\" :loading=\"isLoading\" @click=\"save\">Save</Button>\n        <button class=\"btn-plain\" @click=\"isVisible = false\">Cancel</button>\n      </div>\n    </div>\n  </Modal>\n</template>\n","<script setup lang=\"ts\">\nimport type { Editor } from \"@tiptap/core\"\nimport { PropType } from \"vue\"\n\nconst props = defineProps({\n  show: Boolean,\n  editor: Object as PropType<Editor>,\n})\nconst open = ref(props.show)\n\nconst url = ref(\"\")\nconst save = () => {\n  if (!url.value?.match(/[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)?/gi)) return\n\n  props.editor\n    .chain()\n    .focus()\n    .setIframe({\n      src: url.value,\n    })\n    .run()\n  open.value = false\n}\n\nwatch(open, () => {\n  if (!open.value) {\n    const editorEl = document.querySelector(\".content .ProseMirror\") as HTMLDivElement\n    if (editorEl) editorEl.focus()\n  }\n})\n</script>\n\n<template>\n  <Modal v-model:open=\"open\">\n    <div class=\"flex flex-col p-6\">\n      <h2 class=\"text-3xl font-bold\">Add iframe</h2>\n\n      <div class=\"flex items-center my-6\">\n        <label for=\"url\" class=\"mr-4 flex-shrink-0\">URL :</label>\n        <input type=\"url\" name=\"url\" id=\"url\" placeholder=\"https://supabase.com\" v-model=\"url\" />\n      </div>\n\n      <div class=\"flex justify-end\">\n        <button class=\"btn-plain\" @click=\"open = false\">Cancel</button>\n        <Button class=\"btn-primary ml-2\" @click=\"save\">Save</Button>\n      </div>\n    </div>\n  </Modal>\n</template>\n","import { Extension } from \"@tiptap/core\"\nimport ModalImage from \"~~/components/Tiptap/ModalImage.vue\"\nimport ModalIframe from \"~~/components/Tiptap/ModalIframe.vue\"\nimport { createApp } from \"vue\"\n\ndeclare module \"@tiptap/core\" {\n  interface Commands<ReturnType> {\n    upload: {\n      openModal: (type: \"image\" | \"iframe\") => ReturnType\n    }\n  }\n}\n\nexport default Extension.create({\n  name: \"upload\",\n\n  addCommands() {\n    return {\n      openModal:\n        (type: \"image\" | \"iframe\") =>\n        ({ commands, editor }) => {\n          let component: typeof ModalImage\n\n          switch (type) {\n            case \"image\": {\n              component = ModalImage\n              break\n            }\n            case \"iframe\": {\n              component = ModalIframe\n              break\n            }\n          }\n          if (!component) return\n\n          const instance = createApp(component, {\n            show: true,\n            editor,\n          }).mount(\"#modal\")\n\n          return !!instance\n        },\n    }\n  },\n})\n","// ref: https://github.com/ueberdosis/tiptap/blob/9afadeb7fe368f95064f84424d6a3dd6cd85b43d/demos/src/Experiments/Embeds/Vue/iframe.ts\nimport { mergeAttributes, Node } from \"@tiptap/core\"\n\nexport interface IframeOptions {\n  allowFullscreen: boolean\n  HTMLAttributes: {\n    [key: string]: any\n  }\n}\n\ndeclare module \"@tiptap/core\" {\n  interface Commands<ReturnType> {\n    iframe: {\n      /**\n       * Add an iframe\n       */\n      setIframe: (options: { src: string }) => ReturnType\n    }\n  }\n}\n\nexport default Node.create<IframeOptions>({\n  name: \"iframe\",\n\n  group: \"block\",\n\n  atom: true,\n\n  addOptions() {\n    return {\n      allowFullscreen: true,\n      HTMLAttributes: {\n        class: \"iframe-wrapper\",\n      },\n    }\n  },\n\n  addAttributes() {\n    return {\n      src: {\n        default: null,\n      },\n      frameborder: {\n        default: 0,\n      },\n      allowfullscreen: {\n        default: this.options.allowFullscreen,\n        parseHTML: () => this.options.allowFullscreen,\n      },\n    }\n  },\n\n  parseHTML() {\n    return [\n      {\n        tag: \"iframe\",\n      },\n    ]\n  },\n\n  renderHTML({ HTMLAttributes }) {\n    return [\n      \"div\",\n      this.options.HTMLAttributes,\n      [\"iframe\", mergeAttributes(HTMLAttributes, { frameborder: 10, tabindex: -1 })],\n    ]\n  },\n\n  addCommands() {\n    return {\n      setIframe:\n        (options: { src: string }) =>\n        ({ tr, dispatch }) => {\n          const { selection } = tr\n          const node = this.type.create(options)\n\n          if (dispatch) {\n            tr.replaceRangeWith(selection.from, selection.to, node)\n          }\n\n          return true\n        },\n    }\n  },\n})\n","import { CommandProps, Editor, Extension } from \"@tiptap/core\"\nimport { findParentNodeOfType } from \"prosemirror-utils\"\nimport { EditorState, NodeSelection, Selection, TextSelection } from \"prosemirror-state\"\nimport { Fragment, NodeType, Slice } from \"prosemirror-model\"\nimport { ReplaceStep } from \"prosemirror-transform\"\n\ndeclare module \"@tiptap/core\" {\n  interface Commands<ReturnType> {\n    move: {\n      moveParent: (direction: \"up\" | \"down\") => ReturnType\n    }\n  }\n}\n\n// ref: https://github.com/bangle-io/bangle.dev/blob/960fb4706a953ef910a9ddf2d80a7f10bdd2921b/core/core-commands.js#L101\n\nfunction arrayify(x: any) {\n  if (x == null) {\n    throw new Error(\"undefined value passed\")\n  }\n  return Array.isArray(x) ? x : [x]\n}\nfunction mapChildren(node: any, callback: any) {\n  const array = []\n  for (let i = 0; i < node.childCount; i++) {\n    array.push(callback(node.child(i), i, node instanceof Fragment ? node : node.content))\n  }\n\n  return array\n}\n\nconst moveNode = (type: NodeType, dir: \"up\" | \"down\") => {\n  const isDown = dir === \"down\"\n  return (state: EditorState, dispatch: any) => {\n    // @ts-ignore  (node) only exist in custom element. eg: image, iframe\n    const { $from, node } = state.selection\n\n    const currentResolved = findParentNodeOfType(type)(state.selection) ?? {\n      depth: 1,\n      node,\n      pos: 34,\n      start: 34,\n    }\n\n    if (!currentResolved.node) {\n      return false\n    }\n\n    const { node: currentNode } = currentResolved\n    const parentDepth = currentResolved.depth - 1\n    const parent = $from.node(parentDepth)\n    const parentPos = $from.start(parentDepth)\n\n    if (currentNode.type !== type) {\n      return false\n    }\n\n    const arr = mapChildren(parent, (node) => node)\n\n    let index = arr.indexOf(currentNode)\n\n    let swapWith = isDown ? index + 1 : index - 1\n\n    // If swap is out of bound\n    if (swapWith >= arr.length || swapWith < 0) {\n      return false\n    }\n\n    const swapWithNodeSize = arr[swapWith].nodeSize\n    ;[arr[index], arr[swapWith]] = [arr[swapWith], arr[index]]\n\n    let tr = state.tr\n    let replaceStart = parentPos\n    let replaceEnd = $from.end(parentDepth)\n\n    const slice = new Slice(Fragment.fromArray(arr), 0, 0) // the zeros  lol -- are not depth they are something that represents the opening closing\n    // .toString on slice gives you an idea. for this case we want them balanced\n    tr = tr.step(new ReplaceStep(replaceStart, replaceEnd, slice, false))\n\n    tr = tr.setSelection(\n      Selection.near(tr.doc.resolve(isDown ? $from.pos + swapWithNodeSize : $from.pos - swapWithNodeSize))\n    )\n    if (dispatch) {\n      dispatch(tr.scrollIntoView())\n    }\n    return true\n  }\n}\n\nexport default Extension.create({\n  name: \"move\",\n\n  addCommands() {\n    return {\n      moveParent:\n        (direction: \"up\" | \"down\") =>\n        ({ editor, state, dispatch, ...a }) => {\n          // @ts-ignore  (node) only exist in custom element. eg: image, iframe\n          const type = editor.state.selection.node?.type ?? editor.state.selection.$head.parent.type\n          return moveNode(type, direction)(state, dispatch)\n        },\n    }\n  },\n\n  addKeyboardShortcuts() {\n    return {\n      \"Alt-ArrowUp\": () => this.editor.commands.moveParent(\"up\"),\n      \"Alt-ArrowDown\": () => this.editor.commands.moveParent(\"down\"),\n    }\n  },\n})\n","<script lang=\"ts\" setup>\nimport { useEditor, EditorContent } from \"@tiptap/vue-3\"\nimport StarterKit from \"@tiptap/starter-kit\"\nimport Underline from \"@tiptap/extension-underline\"\nimport Image from \"@tiptap/extension-image\"\nimport Focus from \"@tiptap/extension-focus\"\n\nimport Commands from \"~~/utils/tiptap/commands\"\nimport suggestion from \"~~/utils/tiptap/suggestion\"\nimport HardBreak from \"~~/utils/tiptap/hardbreak\"\nimport Code from \"~~/utils/tiptap/code\"\nimport Link from \"~~/utils/tiptap/link\"\nimport Placeholder from \"~~/utils/tiptap/placeholder\"\nimport Upload from \"~~/utils/tiptap/upload\"\nimport Iframe from \"~~/utils/tiptap/iframe\"\nimport Move from \"~~/utils/tiptap/move\"\n\nconst props = defineProps<{\n  modelValue: string\n  editable?: boolean\n}>()\nconst emit = defineEmits([\"update:modelValue\"])\n\nconst editor = useEditor({\n  content: props.modelValue ?? \"\",\n  extensions: [\n    Link,\n    StarterKit,\n    Image,\n    Underline,\n    Focus,\n    Upload,\n    HardBreak,\n    Code,\n    Placeholder,\n    Iframe,\n    Move,\n    Commands.configure({\n      suggestion,\n    }),\n  ],\n  editable: props.editable ?? false,\n  onUpdate(props) {\n    emit(\"update:modelValue\", props.editor.getHTML())\n  },\n})\n\nwatch(\n  () => props.modelValue,\n  (newValue) => {\n    const isSame = editor.value.getHTML() === newValue\n    if (isSame) return\n\n    editor.value.commands.setContent(newValue, false)\n  }\n)\n</script>\n\n<template>\n  <div>\n    <TiptapBubble :editor=\"editor\"></TiptapBubble>\n    <EditorContent class=\"content\" :editor=\"editor\" />\n  </div>\n</template>\n\n<style lang=\"postcss\">\n.ProseMirror {\n  @apply p-2 focus:outline-none;\n}\n\n.ProseMirror .is-empty::before {\n  content: attr(data-placeholder);\n  float: left;\n  pointer-events: none;\n  height: 0;\n  @apply text-gray-300;\n}\n\n@keyframes highlight {\n  0% {\n    @apply bg-light-700;\n  }\n  100% {\n    @apply bg-transparent;\n  }\n}\n\n.has-focus {\n  animation: highlight 0.75s ease-out;\n  @apply rounded;\n}\n</style>\n","<script setup lang=\"ts\">\nimport { useFocusTrap } from \"@vueuse/integrations/useFocusTrap\"\n\nconst props = defineProps({ open: Boolean, confirmAction: Function })\nconst emits = defineEmits([\"update:open\"])\nconst el = ref()\nonClickOutside(el, () => {\n  emits(\"update:open\", !props.open)\n})\nconst { activate, deactivate } = useFocusTrap(el)\n\nonKeyStroke(\"Escape\", () => emits(\"update:open\", false))\n\nwatch(\n  () => props.open,\n  (n) => nextTick(() => (n ? activate() : deactivate())),\n  { immediate: true }\n)\n</script>\n\n<template>\n  <transition name=\"slide-in-right\">\n    <div v-if=\"open\" class=\"fixed top-0 left-0 w-screen h-screen z-100 flex justify-end\">\n      <div ref=\"el\" class=\"inner w-full max-w-112 ml-8 bg-white rounded-xl shadow-xl overflow-hidden\">\n        <slot>Content</slot>\n      </div>\n    </div>\n  </transition>\n</template>\n","<script setup lang=\"ts\">\nimport type { Tags } from \"~~/utils/types\"\nimport { PropType } from \"vue\"\nimport Multiselect from \"@vueform/multiselect\"\n\nconst props = defineProps({\n  modelValue: { type: Object as PropType<string[]>, default: [] },\n  id: String,\n})\nconst emits = defineEmits([\"update:modelValue\"])\n\nconst client = useSupabaseClient()\nconst { data: tags } = useAsyncData(\"tags\", async () => {\n  const { data } = await client.from<Tags>(\"tags_view\").select(\"*\")\n  return data.map((i) => i.name)\n})\n</script>\n\n<template>\n  <div>\n    <Multiselect\n      v-model=\"modelValue\"\n      @change=\"emits('update:modelValue', $event)\"\n      :options=\"tags ?? []\"\n      createOption\n      mode=\"tags\"\n      placeholder=\"Add tags\"\n      :close-on-select=\"false\"\n      :searchable=\"true\"\n      :classes=\"{\n        container: 'relative mx-auto p-2 w-full flex items-center justify-end cursor-pointer rounded-2xl bg-light-300',\n        tag: 'bg-dark-300 text-white text-sm font-semibold py-0.5 pl-2 rounded-lg mr-1.5 mb-1.5 flex items-center whitespace-nowrap rtl:pl-0 rtl:pr-2 rtl:mr-0 rtl:ml-1',\n        tagsSearch:\n          'not-default bg-transparent absolute inset-0 border-0 focus:ring-0 outline-none appearance-none p-0 text-base font-sans box-border w-full',\n        tagsSearchCopy: 'invisible whitespace-pre-wrap inline-block h-px',\n        placeholder:\n          'flex items-center h-full absolute left-2 top-0 pointer-events-none bg-transparent leading-snug pl-3.5 text-gray-400 rtl:left-auto rtl:right-0 rtl:pl-0 rtl:pr-3.5',\n        dropdown:\n          'max-h-60 absolute -left-px -right-px bottom-0 transform translate-y-full -mt-px py-2 overflow-y-scroll z-50 bg-light-300 flex flex-col rounded-b-2xl shadow-lg',\n        dropdownHidden: '!hidden',\n        optionPointed: 'text-dark-300 bg-light-700',\n        optionSelected: 'text-dark-300 bg-light-700',\n        noResults: 'py-2 px-3 text-gray-400 text-center font-semibold',\n      }\"\n    />\n  </div>\n</template>\n\n<style src=\"@vueform/multiselect/themes/default.css\"></style>\n\n<style>\n.is-open {\n  @apply rounded-b-none transition;\n}\n.is-active {\n  @apply ring-3 ring-gray-400;\n}\n</style>\n","<script setup lang=\"ts\">\nimport { PropType } from \"vue\"\n\nconst props = defineProps({\n  show: Boolean,\n  settings: Object as PropType<{\n    image: string\n    active: boolean\n    tags: string[]\n  }>,\n})\nconst emits = defineEmits([\"update:show\"])\nconst { settings } = toRefs(props)\n\nwatch(\n  () => props.show,\n  () => {\n    if (!props.show) {\n      const editorEl = document.querySelector(\".content .ProseMirror\") as HTMLDivElement\n      if (editorEl) editorEl.focus()\n    }\n  }\n)\n</script>\n\n<template>\n  <Drawer :open=\"show\" @update:open=\"emits('update:show', $event)\">\n    <div class=\"flex flex-col px-4 py-12\">\n      <h2 class=\"text-3xl font-bold\">Settings</h2>\n      <div class=\"mt-8\">\n        <Toggle class=\"mt-4\" v-model=\"settings.active\">Publish</Toggle>\n      </div>\n\n      <div class=\"mt-8\">\n        <label for=\"url\">Cover image: </label>\n        <Upload class=\"mt-4\" v-model=\"settings.image\"></Upload>\n      </div>\n\n      <div class=\"mt-8\">\n        <label for=\"url\">Tags: </label>\n        <TagsInput class=\"mt-4\" v-model=\"settings.tags\"></TagsInput>\n      </div>\n    </div>\n  </Drawer>\n</template>\n","<script setup lang=\"ts\">\nconst client = useSupabaseClient()\n\ndefineProps({\n  show: Boolean,\n})\nconst emits = defineEmits([\"update:show\"])\n\nconst signIn = async () => {\n  const { user } = await client.auth.signIn({ provider: \"github\" })\n}\n</script>\n\n<template>\n  <Modal :open=\"show\" @update:open=\"emits('update:show', $event)\">\n    <div class=\"flex flex-col items-center px-6 py-12\">\n      <h1 class=\"text-4xl font-bold text-center\">Login</h1>\n      <button autofocus class=\"btn-primary w-max mt-6\" @click=\"signIn\">Login with GitHub</button>\n    </div>\n  </Modal>\n</template>\n","import { useNuxtApp } from \"#imports\";\nexport const useImage = () => {\n  return useNuxtApp().$img;\n};\n","export default function imageFetch(url) {\n  return fetch(cleanDoubleSlashes(url));\n}\nexport function getInt(x) {\n  if (typeof x === \"number\") {\n    return x;\n  }\n  if (typeof x === \"string\") {\n    return parseInt(x, 10);\n  }\n  return void 0;\n}\nexport function getFileExtension(url = \"\") {\n  const extension = url.split(/[?#]/).shift().split(\"/\").pop().split(\".\").pop();\n  return extension;\n}\nexport function cleanDoubleSlashes(path = \"\") {\n  return path.replace(/(https?:\\/\\/)|(\\/)+/g, \"$1$2\");\n}\nexport function createMapper(map) {\n  return (key) => {\n    return key ? map[key] || key : map.missingValue;\n  };\n}\nexport function createOperationsGenerator({ formatter, keyMap, joinWith = \"/\", valueMap } = {}) {\n  if (!formatter) {\n    formatter = (key, value) => `${key}=${value}`;\n  }\n  if (keyMap && typeof keyMap !== \"function\") {\n    keyMap = createMapper(keyMap);\n  }\n  const map = valueMap || {};\n  Object.keys(map).forEach((valueKey) => {\n    if (typeof map[valueKey] !== \"function\") {\n      map[valueKey] = createMapper(map[valueKey]);\n    }\n  });\n  return (modifiers = {}) => {\n    const operations = Object.entries(modifiers).filter(([_, value]) => typeof value !== \"undefined\").map(([key, value]) => {\n      const mapper = map[key];\n      if (typeof mapper === \"function\") {\n        value = mapper(modifiers[key]);\n      }\n      key = typeof keyMap === \"function\" ? keyMap(key) : key;\n      return formatter(key, value);\n    });\n    return operations.join(joinWith);\n  };\n}\nexport function renderAttributesToString(attributes = {}) {\n  return Object.entries(attributes).map(([key, value]) => value ? `${key}=\"${value}\"` : \"\").filter(Boolean).join(\" \");\n}\nexport function renderTag(tag, attrs, contents) {\n  const html = `<${tag} ${renderAttributesToString(attrs)}>`;\n  if (!contents) {\n    return html;\n  }\n  return html + contents + `</${tag}>`;\n}\nexport function generateAlt(src = \"\") {\n  return src.split(/[?#]/).shift().split(\"/\").pop().split(\".\").shift();\n}\nexport function parseSize(input = \"\") {\n  if (typeof input === \"number\") {\n    return input;\n  }\n  if (typeof input === \"string\") {\n    if (input.replace(\"px\", \"\").match(/^\\d+$/g)) {\n      return parseInt(input, 10);\n    }\n  }\n}\n","import { computed } from \"vue\";\nimport { parseSize } from \"../utils/index.mjs\";\nexport const baseImageProps = {\n  src: { type: String, required: true },\n  format: { type: String, default: void 0 },\n  quality: { type: [Number, String], default: void 0 },\n  background: { type: String, default: void 0 },\n  fit: { type: String, default: void 0 },\n  modifiers: { type: Object, default: void 0 },\n  preset: { type: String, default: void 0 },\n  provider: { type: String, default: void 0 },\n  sizes: { type: [Object, String], default: void 0 },\n  preload: { type: Boolean, default: void 0 },\n  width: { type: [String, Number], default: void 0 },\n  height: { type: [String, Number], default: void 0 },\n  alt: { type: String, default: void 0 },\n  referrerpolicy: { type: String, default: void 0 },\n  usemap: { type: String, default: void 0 },\n  longdesc: { type: String, default: void 0 },\n  ismap: { type: Boolean, default: void 0 },\n  loading: { type: String, default: void 0 },\n  crossorigin: {\n    type: [Boolean, String],\n    default: void 0,\n    validator: (val) => [\"anonymous\", \"use-credentials\", \"\", true, false].includes(val)\n  },\n  decoding: {\n    type: String,\n    default: void 0,\n    validator: (val) => [\"async\", \"auto\", \"sync\"].includes(val)\n  }\n};\nexport const useBaseImage = (props) => {\n  const options = computed(() => {\n    return {\n      provider: props.provider,\n      preset: props.preset\n    };\n  });\n  const attrs = computed(() => {\n    return {\n      width: parseSize(props.width),\n      height: parseSize(props.height),\n      alt: props.alt,\n      referrerpolicy: props.referrerpolicy,\n      usemap: props.usemap,\n      longdesc: props.longdesc,\n      ismap: props.ismap,\n      crossorigin: props.crossorigin === true ? \"anonymous\" : props.crossorigin || void 0,\n      loading: props.loading,\n      decoding: props.decoding\n    };\n  });\n  const modifiers = computed(() => {\n    return {\n      ...props.modifiers,\n      width: parseSize(props.width),\n      height: parseSize(props.height),\n      format: props.format,\n      quality: props.quality,\n      background: props.background,\n      fit: props.fit\n    };\n  });\n  return {\n    options,\n    attrs,\n    modifiers\n  };\n};\n","import { h, defineComponent, ref, computed, onMounted } from \"vue\";\nimport { useImage } from \"../composables.mjs\";\nimport { parseSize } from \"../utils/index.mjs\";\nimport { baseImageProps, useBaseImage } from \"./_base.mjs\";\nimport { useHead } from \"#imports\";\nexport const imgProps = {\n  ...baseImageProps,\n  placeholder: { type: [Boolean, String, Number, Array], default: void 0 }\n};\nexport default defineComponent({\n  name: \"NuxtImg\",\n  props: imgProps,\n  setup: (props, ctx) => {\n    const $img = useImage();\n    const _base = useBaseImage(props);\n    const placeholderLoaded = ref(false);\n    const sizes = computed(() => $img.getSizes(props.src, {\n      ..._base.options.value,\n      sizes: props.sizes,\n      modifiers: {\n        ..._base.modifiers.value,\n        width: parseSize(props.width),\n        height: parseSize(props.height)\n      }\n    }));\n    const attrs = computed(() => {\n      const attrs2 = _base.attrs.value;\n      if (props.sizes) {\n        attrs2.sizes = sizes.value.sizes;\n        attrs2.srcset = sizes.value.srcset;\n      }\n      return attrs2;\n    });\n    const placeholder = computed(() => {\n      let placeholder2 = props.placeholder;\n      if (placeholder2 === \"\") {\n        placeholder2 = true;\n      }\n      if (!placeholder2 || placeholderLoaded.value) {\n        return false;\n      }\n      if (typeof placeholder2 === \"string\") {\n        return placeholder2;\n      }\n      const size = Array.isArray(placeholder2) ? placeholder2 : typeof placeholder2 === \"number\" ? [placeholder2, placeholder2] : [10, 10];\n      return $img(props.src, {\n        ..._base.modifiers.value,\n        width: size[0],\n        height: size[1],\n        quality: size[2] || 50\n      }, _base.options.value);\n    });\n    const mainSrc = computed(\n      () => props.sizes ? sizes.value.src : $img(props.src, _base.modifiers.value, _base.options.value)\n    );\n    const src = computed(() => placeholder.value ? placeholder.value : mainSrc.value);\n    if (props.preload) {\n      const isResponsive = Object.values(sizes.value).every((v) => v);\n      useHead({\n        link: [{\n          rel: \"preload\",\n          as: \"image\",\n          ...!isResponsive ? { href: src.value } : {\n            href: sizes.value.src,\n            imagesizes: sizes.value.sizes,\n            imagesrcset: sizes.value.srcset\n          }\n        }]\n      });\n    }\n    const imgEl = ref(null);\n    onMounted(() => {\n      if (placeholder.value) {\n        const img = new Image();\n        img.src = mainSrc.value;\n        img.onload = () => {\n          imgEl.value.src = mainSrc.value;\n          placeholderLoaded.value = true;\n        };\n      }\n    });\n    return () => h(\"img\", {\n      ref: imgEl,\n      key: src.value,\n      src: src.value,\n      ...attrs.value,\n      ...ctx.attrs\n    });\n  }\n});\n","<script setup lang=\"ts\">\nimport { stripHtml } from \"string-strip-html\"\nimport { format } from \"date-fns\"\nimport { PropType } from \"vue\"\nimport { Posts } from \"~~/utils/types\"\nimport { constructUrl } from \"~~/utils/functions\"\n\nconst props = defineProps({\n  subdomain: Boolean,\n  post: Object as PropType<Posts>,\n})\n\nconst url = computed(() => constructUrl(props.post, props.subdomain))\n</script>\n\n<template>\n  <NuxtLink class=\"group block\" :target=\"subdomain ? '' : '_blank'\" :to=\"url\">\n    <div\n      class=\"p-4 md:p-6 my-4 flex flex-col-reverse md:flex-row bg-white shadow-none group-focus:shadow-xl group-focus:shadow-xl hover:shadow-xl shadow-gray-200 rounded-2xl transition-all\"\n    >\n      <div class=\"w-full flex flex-col justify-between md:h-40\">\n        <div>\n          <div v-if=\"!subdomain\" class=\"flex items-center space-x-2\">\n            <NuxtImg v-if=\"post.profiles.avatar_url\" class=\"w-5 h-5 rounded-full\" :src=\"post.profiles?.avatar_url\"></NuxtImg>\n            <h4 class=\"text-sm font-medium\">{{ post.profiles.name }}</h4>\n          </div>\n\n          <h1 class=\"mt-2 font-semibold text-2xl\">{{ post.title }}</h1>\n          <p class=\"mt-1 text-gray-400\">{{ stripHtml(post.body).result.slice(0, 120) }}...</p>\n        </div>\n\n        <div class=\"mt-4 text-sm text-gray-400 place-items-end\">\n          <span> {{ format(new Date(post.created_at), \"MMM d\") }}</span>\n          <NuxtLink v-if=\"post.tags\" class=\"ml-2 bg-light-300 px-2 py-1 rounded\">{{ post.tags?.[0] }}</NuxtLink>\n        </div>\n      </div>\n      <NuxtImg\n        class=\"w-full md:w-40 h-40 md:ml-12 mb-6 md:mb-0 rounded-xl flex-shrink-0\"\n        v-if=\"post.cover_img\"\n        :src=\"post.cover_img\"\n      ></NuxtImg>\n    </div>\n  </NuxtLink>\n</template>\n","import type { Profiles } from \"~~/utils/types\"\n\nexport const useSubdomain = () => useState<string>(\"subdomain\", () => null)\nexport const useSubdomainProfile = () => useState<Profiles>(\"subdomain-profile\", () => null)\n","import { meta as _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47dashboard_46vueMeta } from \"/Users/bon/Documents/my-workspace/perfect-blog/pages/dashboard.vue?macro=true\";\nimport { meta as _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47dashboard_47domain_46vueMeta } from \"/Users/bon/Documents/my-workspace/perfect-blog/pages/dashboard/domain.vue?macro=true\";\nimport { meta as _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47dashboard_47index_46vueMeta } from \"/Users/bon/Documents/my-workspace/perfect-blog/pages/dashboard/index.vue?macro=true\";\nimport { meta as _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47dashboard_47posts_46vueMeta } from \"/Users/bon/Documents/my-workspace/perfect-blog/pages/dashboard/posts.vue?macro=true\";\nimport { meta as _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47dashboard_47profile_46vueMeta } from \"/Users/bon/Documents/my-workspace/perfect-blog/pages/dashboard/profile.vue?macro=true\";\nimport { meta as _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47edit_47_91id_93_46vueMeta } from \"/Users/bon/Documents/my-workspace/perfect-blog/pages/edit/[id].vue?macro=true\";\nimport { meta as _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47index_46vueMeta } from \"/Users/bon/Documents/my-workspace/perfect-blog/pages/index.vue?macro=true\";\nimport { meta as _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47login_46vueMeta } from \"/Users/bon/Documents/my-workspace/perfect-blog/pages/login.vue?macro=true\";\nimport { meta as _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47logout_46vueMeta } from \"/Users/bon/Documents/my-workspace/perfect-blog/pages/logout.vue?macro=true\";\nimport { meta as _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47posts_46vueMeta } from \"/Users/bon/Documents/my-workspace/perfect-blog/pages/posts.vue?macro=true\";\nimport { meta as _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47user_47_91siteId_93_46vueMeta } from \"/Users/bon/Documents/my-workspace/perfect-blog/pages/user/[siteId].vue?macro=true\";\nimport { meta as _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47user_47_91siteId_93_47_91slug_93_46vueMeta } from \"/Users/bon/Documents/my-workspace/perfect-blog/pages/user/[siteId]/[slug].vue?macro=true\";\nimport { meta as _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47user_47_91siteId_93_47home_46vueMeta } from \"/Users/bon/Documents/my-workspace/perfect-blog/pages/user/[siteId]/home.vue?macro=true\";\nimport { meta as _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47user_47_91siteId_93_47index_46vueMeta } from \"/Users/bon/Documents/my-workspace/perfect-blog/pages/user/[siteId]/index.vue?macro=true\";\nexport default [\n  {\n    path: \"/dashboard\",\n    file: \"/Users/bon/Documents/my-workspace/perfect-blog/pages/dashboard.vue\",\n    children: [\n  {\n    name: \"dashboard-domain\",\n    path: \"domain\",\n    file: \"/Users/bon/Documents/my-workspace/perfect-blog/pages/dashboard/domain.vue\",\n    children: [],\n    meta: _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47dashboard_47domain_46vueMeta,\n    alias: _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47dashboard_47domain_46vueMeta?.alias || [],\n    component: () => import(\"/Users/bon/Documents/my-workspace/perfect-blog/pages/dashboard/domain.vue\").then(m => m.default || m)\n  },\n  {\n    name: \"dashboard\",\n    path: \"\",\n    file: \"/Users/bon/Documents/my-workspace/perfect-blog/pages/dashboard/index.vue\",\n    children: [],\n    meta: _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47dashboard_47index_46vueMeta,\n    alias: _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47dashboard_47index_46vueMeta?.alias || [],\n    component: () => import(\"/Users/bon/Documents/my-workspace/perfect-blog/pages/dashboard/index.vue\").then(m => m.default || m)\n  },\n  {\n    name: \"dashboard-posts\",\n    path: \"posts\",\n    file: \"/Users/bon/Documents/my-workspace/perfect-blog/pages/dashboard/posts.vue\",\n    children: [],\n    meta: _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47dashboard_47posts_46vueMeta,\n    alias: _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47dashboard_47posts_46vueMeta?.alias || [],\n    component: () => import(\"/Users/bon/Documents/my-workspace/perfect-blog/pages/dashboard/posts.vue\").then(m => m.default || m)\n  },\n  {\n    name: \"dashboard-profile\",\n    path: \"profile\",\n    file: \"/Users/bon/Documents/my-workspace/perfect-blog/pages/dashboard/profile.vue\",\n    children: [],\n    meta: _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47dashboard_47profile_46vueMeta,\n    alias: _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47dashboard_47profile_46vueMeta?.alias || [],\n    component: () => import(\"/Users/bon/Documents/my-workspace/perfect-blog/pages/dashboard/profile.vue\").then(m => m.default || m)\n  }\n],\n    meta: _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47dashboard_46vueMeta,\n    alias: _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47dashboard_46vueMeta?.alias || [],\n    component: () => import(\"/Users/bon/Documents/my-workspace/perfect-blog/pages/dashboard.vue\").then(m => m.default || m)\n  },\n  {\n    name: \"edit-id\",\n    path: \"/edit/:id\",\n    file: \"/Users/bon/Documents/my-workspace/perfect-blog/pages/edit/[id].vue\",\n    children: [],\n    meta: _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47edit_47_91id_93_46vueMeta,\n    alias: _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47edit_47_91id_93_46vueMeta?.alias || [],\n    component: () => import(\"/Users/bon/Documents/my-workspace/perfect-blog/pages/edit/[id].vue\").then(m => m.default || m)\n  },\n  {\n    name: \"index\",\n    path: \"/\",\n    file: \"/Users/bon/Documents/my-workspace/perfect-blog/pages/index.vue\",\n    children: [],\n    meta: _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47index_46vueMeta,\n    alias: _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47index_46vueMeta?.alias || [],\n    component: () => import(\"/Users/bon/Documents/my-workspace/perfect-blog/pages/index.vue\").then(m => m.default || m)\n  },\n  {\n    name: \"login\",\n    path: \"/login\",\n    file: \"/Users/bon/Documents/my-workspace/perfect-blog/pages/login.vue\",\n    children: [],\n    meta: _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47login_46vueMeta,\n    alias: _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47login_46vueMeta?.alias || [],\n    component: () => import(\"/Users/bon/Documents/my-workspace/perfect-blog/pages/login.vue\").then(m => m.default || m)\n  },\n  {\n    name: \"logout\",\n    path: \"/logout\",\n    file: \"/Users/bon/Documents/my-workspace/perfect-blog/pages/logout.vue\",\n    children: [],\n    meta: _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47logout_46vueMeta,\n    alias: _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47logout_46vueMeta?.alias || [],\n    component: () => import(\"/Users/bon/Documents/my-workspace/perfect-blog/pages/logout.vue\").then(m => m.default || m)\n  },\n  {\n    name: \"posts\",\n    path: \"/posts\",\n    file: \"/Users/bon/Documents/my-workspace/perfect-blog/pages/posts.vue\",\n    children: [],\n    meta: _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47posts_46vueMeta,\n    alias: _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47posts_46vueMeta?.alias || [],\n    component: () => import(\"/Users/bon/Documents/my-workspace/perfect-blog/pages/posts.vue\").then(m => m.default || m)\n  },\n  {\n    path: \"/user/:siteId\",\n    file: \"/Users/bon/Documents/my-workspace/perfect-blog/pages/user/[siteId].vue\",\n    children: [\n  {\n    name: \"user-siteId-slug\",\n    path: \":slug\",\n    file: \"/Users/bon/Documents/my-workspace/perfect-blog/pages/user/[siteId]/[slug].vue\",\n    children: [],\n    meta: _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47user_47_91siteId_93_47_91slug_93_46vueMeta,\n    alias: _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47user_47_91siteId_93_47_91slug_93_46vueMeta?.alias || [],\n    component: () => import(\"/Users/bon/Documents/my-workspace/perfect-blog/pages/user/[siteId]/[slug].vue\").then(m => m.default || m)\n  },\n  {\n    name: \"user-siteId-home\",\n    path: \"home\",\n    file: \"/Users/bon/Documents/my-workspace/perfect-blog/pages/user/[siteId]/home.vue\",\n    children: [],\n    meta: _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47user_47_91siteId_93_47home_46vueMeta,\n    alias: _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47user_47_91siteId_93_47home_46vueMeta?.alias || [],\n    component: () => import(\"/Users/bon/Documents/my-workspace/perfect-blog/pages/user/[siteId]/home.vue\").then(m => m.default || m)\n  },\n  {\n    name: \"user-siteId\",\n    path: \"\",\n    file: \"/Users/bon/Documents/my-workspace/perfect-blog/pages/user/[siteId]/index.vue\",\n    children: [],\n    meta: _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47user_47_91siteId_93_47index_46vueMeta,\n    alias: _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47user_47_91siteId_93_47index_46vueMeta?.alias || [],\n    component: () => import(\"/Users/bon/Documents/my-workspace/perfect-blog/pages/user/[siteId]/index.vue\").then(m => m.default || m)\n  }\n],\n    meta: _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47user_47_91siteId_93_46vueMeta,\n    alias: _47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47user_47_91siteId_93_46vueMeta?.alias || [],\n    component: () => import(\"/Users/bon/Documents/my-workspace/perfect-blog/pages/user/[siteId].vue\").then(m => m.default || m)\n  }\n]","import type { RouterOptions } from \"@nuxt/schema\"\n\n// https://router.vuejs.org/api/interfaces/routeroptions.html\nexport default <RouterOptions>{\n  routes: (_routes) => {\n    const { ssrContext } = useNuxtApp()\n    const subdomain = useSubdomain()\n    if (ssrContext?.event.context.subdomain) subdomain.value = ssrContext?.event.context.subdomain\n\n    if (subdomain.value) {\n      const userRoute = _routes.filter((i) => i.path.includes(\"/user/:siteId\"))\n      const userRouteMapped = userRoute.map((i) => ({\n        ...i,\n        path: i.path === \"/user/:siteId\" ? i.path.replace(\"/user/:siteId\", \"/\") : i.path.replace(\"/user/:siteId/\", \"/\"),\n      }))\n\n      return userRouteMapped\n    }\n  },\n  scrollBehavior(to, from, savedPosition) {\n    if (savedPosition) return savedPosition\n    if (to.hash) {\n      const el = document.querySelector(to.hash) as HTMLElement\n      return { left: 0, top: (el?.offsetTop ?? 0) - 30, behavior: \"smooth\" }\n    }\n\n    if (to.fullPath === from.fullPath) return\n    return { left: 0, top: 0, behavior: \"smooth\" }\n  },\n}\n","import routerOptions0 from \"/Users/bon/Documents/my-workspace/perfect-blog/app/router.options.ts\";\nconst configRouterOptions = {}\nexport default {\n...configRouterOptions,\n...routerOptions0,\n}","export const globalMiddleware = []\nexport const namedMiddleware = {\n  auth: () => import(\"/Users/bon/Documents/my-workspace/perfect-blog/middleware/auth.ts\")\n}","import { computed, reactive, shallowRef } from \"vue\";\nimport {\n  createRouter,\n  createWebHistory,\n  createMemoryHistory,\n  createWebHashHistory\n} from \"vue-router\";\nimport { createError } from \"h3\";\nimport { withoutBase, isEqual } from \"ufo\";\nimport NuxtPage from \"./page.mjs\";\nimport { callWithNuxt, defineNuxtPlugin, useRuntimeConfig, showError, clearError, navigateTo, useError, useState } from \"#app\";\nimport _routes from \"#build/routes\";\nimport routerOptions from \"#build/router.options\";\nimport { globalMiddleware, namedMiddleware } from \"#build/middleware\";\nfunction createCurrentLocation(base, location) {\n  const { pathname, search, hash } = location;\n  const hashPos = base.indexOf(\"#\");\n  if (hashPos > -1) {\n    const slicePos = hash.includes(base.slice(hashPos)) ? base.slice(hashPos).length : 1;\n    let pathFromHash = hash.slice(slicePos);\n    if (pathFromHash[0] !== \"/\") {\n      pathFromHash = \"/\" + pathFromHash;\n    }\n    return withoutBase(pathFromHash, \"\");\n  }\n  const path = withoutBase(pathname, base);\n  return path + search + hash;\n}\nexport default defineNuxtPlugin(async (nuxtApp) => {\n  nuxtApp.vueApp.component(\"NuxtPage\", NuxtPage);\n  nuxtApp.vueApp.component(\"NuxtNestedPage\", NuxtPage);\n  nuxtApp.vueApp.component(\"NuxtChild\", NuxtPage);\n  let routerBase = useRuntimeConfig().app.baseURL;\n  if (routerOptions.hashMode && !routerBase.includes(\"#\")) {\n    routerBase += \"#\";\n  }\n  const history = routerOptions.history?.(routerBase) ?? (process.client ? routerOptions.hashMode ? createWebHashHistory(routerBase) : createWebHistory(routerBase) : createMemoryHistory(routerBase));\n  const routes = routerOptions.routes?.(_routes) ?? _routes;\n  const initialURL = process.server ? nuxtApp.ssrContext.url : createCurrentLocation(routerBase, window.location);\n  const router = createRouter({\n    ...routerOptions,\n    history,\n    routes\n  });\n  nuxtApp.vueApp.use(router);\n  const previousRoute = shallowRef(router.currentRoute.value);\n  router.afterEach((_to, from) => {\n    previousRoute.value = from;\n  });\n  Object.defineProperty(nuxtApp.vueApp.config.globalProperties, \"previousRoute\", {\n    get: () => previousRoute.value\n  });\n  const _route = shallowRef(router.resolve(initialURL));\n  const syncCurrentRoute = () => {\n    _route.value = router.currentRoute.value;\n  };\n  nuxtApp.hook(\"page:finish\", syncCurrentRoute);\n  router.afterEach((to, from) => {\n    if (to.matched[0]?.components?.default === from.matched[0]?.components?.default) {\n      syncCurrentRoute();\n    }\n  });\n  const route = {};\n  for (const key in _route.value) {\n    route[key] = computed(() => _route.value[key]);\n  }\n  nuxtApp._route = reactive(route);\n  nuxtApp._middleware = nuxtApp._middleware || {\n    global: [],\n    named: {}\n  };\n  const error = useError();\n  try {\n    if (process.server) {\n      await router.push(initialURL);\n    }\n    await router.isReady();\n  } catch (error2) {\n    callWithNuxt(nuxtApp, showError, [error2]);\n  }\n  const initialLayout = useState(\"_layout\");\n  router.beforeEach(async (to, from) => {\n    to.meta = reactive(to.meta);\n    if (nuxtApp.isHydrating) {\n      to.meta.layout = initialLayout.value ?? to.meta.layout;\n    }\n    nuxtApp._processingMiddleware = true;\n    const middlewareEntries = /* @__PURE__ */ new Set([...globalMiddleware, ...nuxtApp._middleware.global]);\n    for (const component of to.matched) {\n      const componentMiddleware = component.meta.middleware;\n      if (!componentMiddleware) {\n        continue;\n      }\n      if (Array.isArray(componentMiddleware)) {\n        for (const entry of componentMiddleware) {\n          middlewareEntries.add(entry);\n        }\n      } else {\n        middlewareEntries.add(componentMiddleware);\n      }\n    }\n    for (const entry of middlewareEntries) {\n      const middleware = typeof entry === \"string\" ? nuxtApp._middleware.named[entry] || await namedMiddleware[entry]?.().then((r) => r.default || r) : entry;\n      if (!middleware) {\n        if (process.dev) {\n          throw new Error(`Unknown route middleware: '${entry}'. Valid middleware: ${Object.keys(namedMiddleware).map((mw) => `'${mw}'`).join(\", \")}.`);\n        }\n        throw new Error(`Unknown route middleware: '${entry}'.`);\n      }\n      const result = await callWithNuxt(nuxtApp, middleware, [to, from]);\n      if (process.server || !nuxtApp.payload.serverRendered && nuxtApp.isHydrating) {\n        if (result === false || result instanceof Error) {\n          const error2 = result || createError({\n            statusMessage: `Route navigation aborted: ${initialURL}`\n          });\n          return callWithNuxt(nuxtApp, showError, [error2]);\n        }\n      }\n      if (result || result === false) {\n        return result;\n      }\n    }\n  });\n  router.afterEach(async (to) => {\n    delete nuxtApp._processingMiddleware;\n    if (process.client && !nuxtApp.isHydrating && error.value) {\n      await callWithNuxt(nuxtApp, clearError);\n    }\n    if (to.matched.length === 0) {\n      callWithNuxt(nuxtApp, showError, [createError({\n        statusCode: 404,\n        fatal: false,\n        statusMessage: `Page not found: ${to.fullPath}`\n      })]);\n    } else if (process.server && to.matched[0].name === \"404\" && nuxtApp.ssrContext) {\n      nuxtApp.ssrContext.event.res.statusCode = 404;\n    } else if (process.server) {\n      const currentURL = to.fullPath || \"/\";\n      if (!isEqual(currentURL, initialURL)) {\n        await callWithNuxt(nuxtApp, navigateTo, [currentURL]);\n      }\n    }\n  });\n  nuxtApp.hooks.hookOnce(\"app:created\", async () => {\n    try {\n      await router.replace({\n        ...router.resolve(initialURL),\n        name: void 0,\n        force: true\n      });\n    } catch (error2) {\n      callWithNuxt(nuxtApp, showError, [error2]);\n    }\n  });\n  return { provide: { router } };\n});\n","export async function imageMeta(_ctx, url) {\n  const meta = await _imageMeta(url).catch((err) => {\n    console.error(\"Failed to get image meta for \" + url, err + \"\");\n    return {\n      width: 0,\n      height: 0,\n      ratio: 0\n    };\n  });\n  return meta;\n}\nasync function _imageMeta(url) {\n  if (process.server) {\n    const imageMeta2 = await import(\"image-meta\").then((r) => r.imageMeta);\n    const data = await fetch(url).then((res) => res.buffer());\n    const metadata = imageMeta2(data);\n    if (!metadata) {\n      throw new Error(`No metadata could be extracted from the image \\`${url}\\`.`);\n    }\n    const { width, height } = metadata;\n    const meta = {\n      width,\n      height,\n      ratio: width && height ? width / height : void 0\n    };\n    return meta;\n  }\n  if (typeof Image === \"undefined\") {\n    throw new TypeError(\"Image not supported\");\n  }\n  return new Promise((resolve, reject) => {\n    const img = new Image();\n    img.onload = () => {\n      const meta = {\n        width: img.width,\n        height: img.height,\n        ratio: img.width / img.height\n      };\n      resolve(meta);\n    };\n    img.onerror = (err) => reject(err);\n    img.src = url;\n  });\n}\n","import { defu } from \"defu\";\nimport { hasProtocol, parseURL, joinURL, withLeadingSlash } from \"ufo\";\nimport { imageMeta } from \"./utils/meta.mjs\";\nimport { parseSize } from \"./utils/index.mjs\";\nexport function createImage(globalOptions) {\n  const ctx = {\n    options: globalOptions\n  };\n  const getImage = (input, options = {}) => {\n    const image = resolveImage(ctx, input, options);\n    return image;\n  };\n  const $img = (input, modifiers = {}, options = {}) => {\n    return getImage(input, {\n      ...options,\n      modifiers: defu(modifiers, options.modifiers || {})\n    }).url;\n  };\n  for (const presetName in globalOptions.presets) {\n    $img[presetName] = (source, modifiers, options) => $img(source, modifiers, { ...globalOptions.presets[presetName], ...options });\n  }\n  $img.options = globalOptions;\n  $img.getImage = getImage;\n  $img.getMeta = (input, options) => getMeta(ctx, input, options);\n  $img.getSizes = (input, options) => getSizes(ctx, input, options);\n  ctx.$img = $img;\n  return $img;\n}\nasync function getMeta(ctx, input, options) {\n  const image = resolveImage(ctx, input, { ...options });\n  if (typeof image.getMeta === \"function\") {\n    return await image.getMeta();\n  } else {\n    return await imageMeta(ctx, image.url);\n  }\n}\nfunction resolveImage(ctx, input, options) {\n  if (typeof input !== \"string\" || input === \"\") {\n    throw new TypeError(`input must be a string (received ${typeof input}: ${JSON.stringify(input)})`);\n  }\n  if (input.startsWith(\"data:\")) {\n    return {\n      url: input\n    };\n  }\n  const { provider, defaults } = getProvider(ctx, options.provider || ctx.options.provider);\n  const preset = getPreset(ctx, options.preset);\n  input = hasProtocol(input) ? input : withLeadingSlash(input);\n  if (!provider.supportsAlias) {\n    for (const base in ctx.options.alias) {\n      if (input.startsWith(base)) {\n        input = joinURL(ctx.options.alias[base], input.substr(base.length));\n      }\n    }\n  }\n  if (provider.validateDomains && hasProtocol(input)) {\n    const inputHost = parseURL(input).host;\n    if (!ctx.options.domains.find((d) => d === inputHost)) {\n      return {\n        url: input\n      };\n    }\n  }\n  const _options = defu(options, preset, defaults);\n  _options.modifiers = { ..._options.modifiers };\n  const expectedFormat = _options.modifiers.format;\n  if (_options.modifiers?.width) {\n    _options.modifiers.width = parseSize(_options.modifiers.width);\n  }\n  if (_options.modifiers?.height) {\n    _options.modifiers.height = parseSize(_options.modifiers.height);\n  }\n  const image = provider.getImage(input, _options, ctx);\n  image.format = image.format || expectedFormat || \"\";\n  return image;\n}\nfunction getProvider(ctx, name) {\n  const provider = ctx.options.providers[name];\n  if (!provider) {\n    throw new Error(\"Unknown provider: \" + name);\n  }\n  return provider;\n}\nfunction getPreset(ctx, name) {\n  if (!name) {\n    return {};\n  }\n  if (!ctx.options.presets[name]) {\n    throw new Error(\"Unknown preset: \" + name);\n  }\n  return ctx.options.presets[name];\n}\nfunction getSizes(ctx, input, opts) {\n  const width = parseSize(opts.modifiers?.width);\n  const height = parseSize(opts.modifiers?.height);\n  const hwRatio = width && height ? height / width : 0;\n  const variants = [];\n  const sizes = {};\n  if (typeof opts.sizes === \"string\") {\n    for (const entry of opts.sizes.split(/[\\s,]+/).filter((e) => e)) {\n      const s = entry.split(\":\");\n      if (s.length !== 2) {\n        continue;\n      }\n      sizes[s[0].trim()] = s[1].trim();\n    }\n  } else {\n    Object.assign(sizes, opts.sizes);\n  }\n  for (const key in sizes) {\n    const screenMaxWidth = ctx.options.screens && ctx.options.screens[key] || parseInt(key);\n    let size = String(sizes[key]);\n    const isFluid = size.endsWith(\"vw\");\n    if (!isFluid && /^\\d+$/.test(size)) {\n      size = size + \"px\";\n    }\n    if (!isFluid && !size.endsWith(\"px\")) {\n      continue;\n    }\n    let _cWidth = parseInt(size);\n    if (!screenMaxWidth || !_cWidth) {\n      continue;\n    }\n    if (isFluid) {\n      _cWidth = Math.round(_cWidth / 100 * screenMaxWidth);\n    }\n    const _cHeight = hwRatio ? Math.round(_cWidth * hwRatio) : height;\n    variants.push({\n      width: _cWidth,\n      size,\n      screenMaxWidth,\n      media: `(max-width: ${screenMaxWidth}px)`,\n      src: ctx.$img(input, { ...opts.modifiers, width: _cWidth, height: _cHeight }, opts)\n    });\n  }\n  variants.sort((v1, v2) => v1.screenMaxWidth - v2.screenMaxWidth);\n  const defaultVar = variants[variants.length - 1];\n  if (defaultVar) {\n    defaultVar.media = \"\";\n  }\n  return {\n    sizes: variants.map((v) => `${v.media ? v.media + \" \" : \"\"}${v.size}`).join(\", \"),\n    srcset: variants.map((v) => `${v.src} ${v.width}w`).join(\", \"),\n    src: defaultVar?.src\n  };\n}\n","import { joinURL, encodePath, encodeParam } from \"ufo\";\nimport { createOperationsGenerator } from \"#image\";\nconst operationsGenerator = createOperationsGenerator({\n  keyMap: {\n    format: \"f\",\n    fit: \"fit\",\n    width: \"w\",\n    height: \"h\",\n    resize: \"s\",\n    quality: \"q\",\n    background: \"b\"\n  },\n  joinWith: \",\",\n  formatter: (key, val) => encodeParam(key) + \"_\" + encodeParam(val)\n});\nexport const getImage = (src, { modifiers = {}, baseURL } = {}, _ctx) => {\n  if (modifiers.width && modifiers.height) {\n    modifiers.resize = `${modifiers.width}x${modifiers.height}`;\n    delete modifiers.width;\n    delete modifiers.height;\n  }\n  const params = operationsGenerator(modifiers) || \"_\";\n  if (!baseURL) {\n    baseURL = joinURL(\"/\", \"/_ipx\");\n  }\n  return {\n    url: joinURL(baseURL, params, encodePath(src))\n  };\n};\nexport const validateDomains = true;\nexport const supportsAlias = true;\n","\nimport * as ipxRuntime$U0qIzg7a4d from '/Users/bon/Documents/my-workspace/perfect-blog/node_modules/@nuxt/image-edge/dist/runtime/providers/ipx'\n\nexport const imageOptions = {\n  \"screens\": {\n    \"xs\": 320,\n    \"sm\": 640,\n    \"md\": 768,\n    \"lg\": 1024,\n    \"xl\": 1280,\n    \"xxl\": 1536,\n    \"2xl\": 1536\n  },\n  \"presets\": {},\n  \"provider\": \"ipx\",\n  \"domains\": [\n    \"avatars0.githubusercontent.com\",\n    \"avatars.githubusercontent.com\",\n    \"images.unsplash.com\"\n  ],\n  \"alias\": {}\n}\n\nimageOptions.providers = {\n  ['ipx']: { provider: ipxRuntime$U0qIzg7a4d, defaults: {} }\n}\n        ","import { createImage } from \"#image\";\nimport { imageOptions } from \"#build/image-options\";\nimport { defineNuxtPlugin } from \"#imports\";\nexport default defineNuxtPlugin(() => {\n  const img = createImage(imageOptions);\n  return {\n    provide: {\n      img\n    }\n  };\n});\n","import { useSupabaseUser } from \"../composables/useSupabaseUser.mjs\";\nimport { useSupabaseClient } from \"../composables/useSupabaseClient.mjs\";\nimport { useSupabaseToken } from \"../composables/useSupabaseToken.mjs\";\nimport { defineNuxtPlugin } from \"#imports\";\nexport default defineNuxtPlugin(async () => {\n  const user = useSupabaseUser();\n  const client = useSupabaseClient();\n  const token = useSupabaseToken();\n  if (!token.value) {\n    return;\n  }\n  const { user: supabaseUser, error } = await client.auth.api.getUser(token.value);\n  if (error) {\n    token.value = null;\n    user.value = null;\n  } else {\n    user.value = supabaseUser;\n  }\n});\n","import 'uno.css'\nexport default defineNuxtPlugin(() => {})","import _nuxt_components_plugin_mjs_KR1HBZs4kY from \"/Users/bon/Documents/my-workspace/perfect-blog/.nuxt/components.plugin.mjs\";\nimport node_modules_nuxt_dist_head_runtime_lib_vueuse_head_plugin_mjs_D7WGfuP1A0 from \"/Users/bon/Documents/my-workspace/perfect-blog/node_modules/nuxt/dist/head/runtime/lib/vueuse-head.plugin.mjs\";\nimport node_modules_nuxt_dist_head_runtime_plugin_mjs_1QO0gqa6n2 from \"/Users/bon/Documents/my-workspace/perfect-blog/node_modules/nuxt/dist/head/runtime/plugin.mjs\";\nimport node_modules_nuxt_dist_pages_runtime_router_mjs_qNv5Ky2ZmB from \"/Users/bon/Documents/my-workspace/perfect-blog/node_modules/nuxt/dist/pages/runtime/router.mjs\";\nimport node_modules__64nuxt_image_edge_dist_runtime_plugin_mjs_OrkQhMqHci from \"/Users/bon/Documents/my-workspace/perfect-blog/node_modules/@nuxt/image-edge/dist/runtime/plugin.mjs\";\nimport node_modules__64nuxtjs_supabase_dist_runtime_plugins_supabase_server_mjs_6VOknHCOlQ from \"/Users/bon/Documents/my-workspace/perfect-blog/node_modules/@nuxtjs/supabase/dist/runtime/plugins/supabase.server.mjs\";\nimport _nuxt_unocss_mjs_MzCDxu9LMj from \"/Users/bon/Documents/my-workspace/perfect-blog/.nuxt/unocss.mjs\";\nexport default [\n  _nuxt_components_plugin_mjs_KR1HBZs4kY,\n  node_modules_nuxt_dist_head_runtime_lib_vueuse_head_plugin_mjs_D7WGfuP1A0,\n  node_modules_nuxt_dist_head_runtime_plugin_mjs_1QO0gqa6n2,\n  node_modules_nuxt_dist_pages_runtime_router_mjs_qNv5Ky2ZmB,\n  node_modules__64nuxt_image_edge_dist_runtime_plugin_mjs_OrkQhMqHci,\n  node_modules__64nuxtjs_supabase_dist_runtime_plugins_supabase_server_mjs_6VOknHCOlQ,\n  _nuxt_unocss_mjs_MzCDxu9LMj\n]","<template>\n  <Suspense @resolve=\"onResolve\">\n    <ErrorComponent v-if=\"error\" :error=\"error\" />\n    <App v-else />\n  </Suspense>\n</template>\n\n<script setup>\nimport { defineAsyncComponent, onErrorCaptured, provide } from 'vue'\nimport { callWithNuxt, isNuxtError, showError, useError, useRoute, useNuxtApp } from '#app'\n\nconst ErrorComponent = defineAsyncComponent(() => import('#build/error-component.mjs').then(r => r.default || r))\n\nconst nuxtApp = useNuxtApp()\nconst onResolve = () => nuxtApp.callHook('app:suspense:resolve')\n\n// Inject default route (outside of pages) as active route\nprovide('_route', useRoute())\n\n// vue:setup hook\nconst results = nuxtApp.hooks.callHookWith(hooks => hooks.map(hook => hook()), 'vue:setup')\nif (process.dev && results && results.some(i => i && 'then' in i)) {\n  console.error('[nuxt] Error in `vue:setup`. Callbacks must be synchronous.')\n}\n\n// error handling\nconst error = useError()\nonErrorCaptured((err, target, info) => {\n  nuxtApp.hooks.callHook('vue:error', err, target, info).catch(hookError => console.error('[nuxt] Error in `vue:error` hook', hookError))\n  if (process.server || (isNuxtError(err) && (err.fatal || err.unhandled))) {\n    callWithNuxt(nuxtApp, showError, [err])\n  }\n})\n</script>\n","import { defineAsyncComponent } from 'vue'\nexport default {\n  default: defineAsyncComponent(() => import(\"/Users/bon/Documents/my-workspace/perfect-blog/layouts/default.vue\").then(m => m.default || m)),\n  user: defineAsyncComponent(() => import(\"/Users/bon/Documents/my-workspace/perfect-blog/layouts/user.vue\").then(m => m.default || m))\n}","import { defineComponent, isRef, nextTick, onMounted, Transition } from \"vue\";\nimport { _wrapIf } from \"./utils.mjs\";\nimport { useRoute } from \"#app\";\nimport layouts from \"#build/layouts\";\nimport { appLayoutTransition as defaultLayoutTransition } from \"#build/nuxt.config.mjs\";\nexport default defineComponent({\n  props: {\n    name: {\n      type: [String, Boolean, Object],\n      default: null\n    }\n  },\n  setup(props, context) {\n    const route = useRoute();\n    let vnode;\n    let _layout;\n    if (process.dev && process.client) {\n      onMounted(() => {\n        nextTick(() => {\n          if (_layout && [\"#comment\", \"#text\"].includes(vnode?.el?.nodeName)) {\n            console.warn(`[nuxt] \\`${_layout}\\` layout does not have a single root node and will cause errors when navigating between routes.`);\n          }\n        });\n      });\n    }\n    return () => {\n      const layout = (isRef(props.name) ? props.name.value : props.name) ?? route.meta.layout ?? \"default\";\n      const hasLayout = layout && layout in layouts;\n      if (process.dev && layout && !hasLayout && layout !== \"default\") {\n        console.warn(`Invalid layout \\`${layout}\\` selected.`);\n      }\n      const transitionProps = route.meta.layoutTransition ?? defaultLayoutTransition;\n      return _wrapIf(Transition, hasLayout && transitionProps, {\n        default: () => {\n          if (process.dev && process.client && transitionProps) {\n            _layout = layout;\n            vnode = _wrapIf(layouts[layout], hasLayout, context.slots).default();\n            return vnode;\n          }\n          return _wrapIf(layouts[layout], hasLayout, context.slots).default();\n        }\n      }).default();\n    };\n  }\n});\n","<script setup lang=\"ts\">\nimport { createFocusTrap } from \"focus-trap\"\n\nuseHead({\n  charset: \"utf-8\",\n  titleTemplate: (title) => `${title} | KeyPress`,\n  link: [{ rel: \"icon\", href: \"/logo.svg\" }],\n})\n\nonMounted(() => {\n  const trap = createFocusTrap(\"body\", { escapeDeactivates: false })\n  trap.activate()\n})\n</script>\n<template>\n  <div class=\"relative\">\n    <NuxtLayout>\n      <NuxtPage></NuxtPage>\n    </NuxtLayout>\n  </div>\n</template>\n","import { createSSRApp, createApp, nextTick } from \"vue\";\nimport { $fetch } from \"ohmyfetch\";\nimport { baseURL } from \"#build/paths.mjs\";\nimport { createNuxtApp, applyPlugins, normalizePlugins } from \"#app\";\nimport \"#build/css\";\nimport _plugins from \"#build/plugins\";\nimport RootComponent from \"#build/root-component.mjs\";\nimport AppComponent from \"#build/app-component.mjs\";\nif (!globalThis.$fetch) {\n  globalThis.$fetch = $fetch.create({\n    baseURL: baseURL()\n  });\n}\nlet entry;\nconst plugins = normalizePlugins(_plugins);\nif (process.server) {\n  entry = async function createNuxtAppServer(ssrContext) {\n    const vueApp = createApp(RootComponent);\n    vueApp.component(\"App\", AppComponent);\n    const nuxt = createNuxtApp({ vueApp, ssrContext });\n    try {\n      await applyPlugins(nuxt, plugins);\n      await nuxt.hooks.callHook(\"app:created\", vueApp);\n    } catch (err) {\n      await nuxt.callHook(\"app:error\", err);\n      nuxt.payload.error = nuxt.payload.error || err;\n    }\n    return vueApp;\n  };\n}\nif (process.client) {\n  if (process.dev && import.meta.webpackHot) {\n    import.meta.webpackHot.accept();\n  }\n  entry = async function initApp() {\n    const isSSR = Boolean(window.__NUXT__?.serverRendered);\n    const vueApp = isSSR ? createSSRApp(RootComponent) : createApp(RootComponent);\n    vueApp.component(\"App\", AppComponent);\n    const nuxt = createNuxtApp({ vueApp });\n    nuxt.hooks.hookOnce(\"app:suspense:resolve\", () => {\n      nuxt.isHydrating = false;\n    });\n    try {\n      await applyPlugins(nuxt, plugins);\n    } catch (err) {\n      await nuxt.callHook(\"app:error\", err);\n      nuxt.payload.error = nuxt.payload.error || err;\n    }\n    try {\n      await nuxt.hooks.callHook(\"app:created\", vueApp);\n      await nuxt.hooks.callHook(\"app:beforeMount\", vueApp);\n      vueApp.mount(\"#__nuxt\");\n      await nuxt.hooks.callHook(\"app:mounted\", vueApp);\n      await nextTick();\n    } catch (err) {\n      await nuxt.callHook(\"app:error\", err);\n      nuxt.payload.error = nuxt.payload.error || err;\n    }\n  };\n  entry().catch((error) => {\n    console.error(\"Error while mounting app:\", error);\n  });\n}\nexport default (ctx) => entry(ctx);\n"],"names":["useRuntimeConfig","name","provide","plugins","_plugins","_b","_a","_createError","serializeCookie","serialize","meta","isFunction","document","Link","defaultPageTransition","defaultKeepaliveConfig","_ssrRenderAttrs","_mergeProps","version","DEFAULT_HEADERS","STORAGE_KEY","url","isBrowser","__awaiter","this","_getErrorMessage","handleError","_getRequestParams","_handleRequest","get","post","put","remove","resolveFetch","fetch","DEFAULT_OPTIONS","expiresAt","res","config","PostgresTypes","noop","utils","require$$0","debug","entry","global","bufferAllocUnsafe","require$$1","WebSocketFrame","Buffer","EventEmitter","require$$2","FastBufferListModule","BufferList","FastBufferList","self","require$$3","util","require$$4","WebSocketConnection","description","key","crypto","WebSocketRequest","index","array","obj","extend","WebSocketServer","require$$5","require$$6","require$$7","WebSocketClient","i","WebSocketRouterRequest","require$$8","SOCKET_STATES","CHANNEL_STATES","CHANNEL_EVENTS","TRANSPORTS","CONNECTION_STATE","h","ref","onClose","w3cwebsocket","Transformers.convertChangeData","SupabaseStorageClient","window","defaults","pausableWatch","Placeholder","Extension","CommandsList","Code","ModalImage","ModalIframe","Fragment","node","_47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47dashboard_47domain_46vueMeta","_47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47dashboard_47index_46vueMeta","_47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47dashboard_47posts_46vueMeta","_47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47dashboard_47profile_46vueMeta","_47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47dashboard_46vueMeta","_47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47edit_47_91id_93_46vueMeta","_47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47index_46vueMeta","_47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47login_46vueMeta","_47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47logout_46vueMeta","_47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47posts_46vueMeta","_47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47user_47_91siteId_93_47_91slug_93_46vueMeta","_47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47user_47_91siteId_93_47home_46vueMeta","_47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47user_47_91siteId_93_47index_46vueMeta","_47Users_47bon_47Documents_47my_45workspace_47perfect_45blog_47pages_47user_47_91siteId_93_46vueMeta","_routes","_d","_c","__executeAsync","createError","isEqual","getImage","defu","baseURL","defaultLayoutTransition","$fetch","RootComponent","AppComponent"],"mappings":"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"}