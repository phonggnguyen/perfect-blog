{"version":3,"file":"Command.e5ac2efb.js","sources":["../../../../components/Command.vue"],"sourcesContent":["<script lang=\"ts\" setup>\nimport { useFuse } from \"@vueuse/integrations/useFuse\"\n\nconst router = useRouter()\nconst user = useSupabaseUser()\nconst subdomain = useSubdomain()\nconst url = useUrl()\n\nconst keys = useMagicKeys()\nconst CmdK = keys[\"Meta+K\"]\nconst Escape = keys[\"Escape\"]\nconst isVisible = useState(\"command-visible\", () => false)\n\nwatch(CmdK, (v) => {\n  if (v) {\n    isVisible.value = !isVisible.value\n  }\n})\nwatch(Escape, () => (isVisible.value = false))\n\nconst navAction = (path: string) => {\n  router.push(path)\n  isVisible.value = false\n  searchTerm.value = \"\"\n}\nconst navList = computed(() =>\n  subdomain.value\n    ? [\n        { label: \"Home\", value: \"home\", action: () => navAction(\"/\"), show: true },\n        {\n          label: \"Write\",\n          value: \"write\",\n          action: () => (window.location.href = url + \"/write\"),\n          show: true,\n        },\n        {\n          label: \"Login\",\n          value: \"login\",\n          action: () => (window.location.href = url + \"/login\"),\n          show: !user.value?.id,\n        },\n        {\n          label: \"Dashboard\",\n          value: \"dashboard\",\n          action: () => (window.location.href = url + \"/dashboard/posts\"),\n          show: user.value?.id,\n        },\n        {\n          label: \"KeyPress\",\n          value: \"keypress\",\n          action: () => (window.location.href = url),\n          show: true,\n        },\n      ]\n    : [\n        { label: \"Home\", value: \"home\", action: () => navAction(\"/\"), show: true },\n        { label: \"Write\", value: \"write\", action: () => navAction(\"/write\"), show: true },\n        { label: \"Posts\", value: \"posts\", action: () => navAction(\"/posts\"), show: true },\n        { label: \"Login\", value: \"login\", action: () => navAction(\"/login\"), show: !user.value?.id },\n        { label: \"Dashboard\", value: \"dashboard\", action: () => navAction(\"/dashboard/posts\"), show: user.value?.id },\n      ]\n)\n\nconst searchTerm = ref(\"\")\nconst { results } = useFuse(\n  searchTerm,\n  navList.value.filter((i) => i.show),\n  {\n    fuseOptions: {\n      keys: [\"label\"],\n    },\n    matchAllWhenSearchEmpty: true,\n  }\n)\n</script>\n\n<template>\n  <div>\n    <button class=\"btn-plain\" @click=\"isVisible = true\">âŒ˜K</button>\n\n    <Modal class=\"!items-start\" inner-class=\"!max-w-screen-sm rounded-xl mt-48\" v-model:open=\"isVisible\">\n      <div class=\"p-2\">\n        <div>\n          <input\n            type=\"text\"\n            class=\"not-default p-2 w-full focus-visible:outline-none text-sm\"\n            v-model=\"searchTerm\"\n            placeholder=\"Search for commands...\"\n          />\n        </div>\n\n        <div class=\"py-6\">\n          <ul v-if=\"results?.length\">\n            <div class=\"text-xs p-2\">Navigation</div>\n            <li v-for=\"{ item } in results\">\n              <button\n                @click=\"item.action()\"\n                class=\"not-default outline-none bg-transparent focus-visible:bg-light-300 rounded-lg transition-all p-2 my-0.5 w-full text-left text-sm\"\n              >\n                {{ item.label }}\n              </button>\n            </li>\n          </ul>\n          <div v-else class=\"p-8 text-sm text-center\">No results found.</div>\n        </div>\n      </div>\n    </Modal>\n  </div>\n</template>\n"],"names":[],"mappings":";;;;;;;;;;;AAGA,UAAA,SAAA;AACA,UAAA,OAAA;AACA,UAAA,YAAA;AACA,UAAA,MAAA;AAEA,UAAA,OAAA;AACA,UAAA,OAAA,KAAA;AACA,UAAA,SAAA,KAAA;AACA,UAAA,YAAA,SAAA,mBAAA,MAAA,KAAA;AAEA,UAAA,MAAA,CAAA,MAAA;AACE,UAAA,GAAA;AACE,kBAAA,QAAA,CAAA,UAAA;AAAA,MAA6B;AAAA,IAC/B,CAAA;AAEF,UAAA,QAAA,MAAA,UAAA,QAAA,KAAA;AAEA,UAAA,YAAA,CAAA,SAAA;AACE,aAAA,KAAA,IAAA;AACA,gBAAA,QAAA;AACA,iBAAA,QAAA;AAAA,IAAmB;AAErB,UAAA,UAAA;AAAA,MAAgB,MAAA;;AAAA,yBAAA,QAAA;AAAA,UAEV,EAAA,OAAA,QAAA,OAAA,QAAA,QAAA,MAAA,UAAA,GAAA,GAAA,MAAA,KAAA;AAAA,UAC2E;AAAA,YACzE,OAAA;AAAA,YACS,OAAA;AAAA,YACA,QAAA,MAAA,OAAA,SAAA,OAAA,MAAA;AAAA,YACqC,MAAA;AAAA,UACtC;AAAA,UACR;AAAA,YACA,OAAA;AAAA,YACS,OAAA;AAAA,YACA,QAAA,MAAA,OAAA,SAAA,OAAA,MAAA;AAAA,YACqC,MAAA,GAAA,UAAA,UAAA,mBAAA;AAAA,UACzB;AAAA,UACrB;AAAA,YACA,OAAA;AAAA,YACS,OAAA;AAAA,YACA,QAAA,MAAA,OAAA,SAAA,OAAA,MAAA;AAAA,YACqC,OAAA,UAAA,UAAA,mBAAA;AAAA,UAC1B;AAAA,UACpB;AAAA,YACA,OAAA;AAAA,YACS,OAAA;AAAA,YACA,QAAA,MAAA,OAAA,SAAA,OAAA;AAAA,YAC+B,MAAA;AAAA,UAChC;AAAA,QACR,IAAA;AAAA,UAEF,EAAA,OAAA,QAAA,OAAA,QAAA,QAAA,MAAA,UAAA,GAAA,GAAA,MAAA,KAAA;AAAA,UAC2E,EAAA,OAAA,SAAA,OAAA,SAAA,QAAA,MAAA,UAAA,QAAA,GAAA,MAAA,KAAA;AAAA,UACO,EAAA,OAAA,SAAA,OAAA,SAAA,QAAA,MAAA,UAAA,QAAA,GAAA,MAAA,KAAA;AAAA,UACA,EAAA,OAAA,SAAA,OAAA,SAAA,QAAA,MAAA,UAAA,QAAA,GAAA,MAAA,GAAA,UAAA,UAAA,mBAAA,IAAA;AAAA,UACW,EAAA,OAAA,aAAA,OAAA,aAAA,QAAA,MAAA,UAAA,kBAAA,GAAA,OAAA,UAAA,UAAA,mBAAA,GAAA;AAAA,QACiB;AAAA;AAAA,IAC9G;AAGN,UAAA,aAAA,IAAA,EAAA;AACA,UAAA,EAAA,QAAA,IAAA;AAAA,MAAoB;AAAA,MAClB,QAAA,MAAA,OAAA,CAAA,MAAA,EAAA,IAAA;AAAA,MACkC;AAAA,QAClC,aAAA;AAAA,UACe,MAAA,CAAA,OAAA;AAAA,QACG;AAAA,QAChB,yBAAA;AAAA,MACyB;AAAA,IAC3B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}