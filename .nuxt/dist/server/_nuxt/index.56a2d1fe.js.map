{"version":3,"file":"index.56a2d1fe.js","sources":["../../../../pages/user/[siteId]/index.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport type { Posts } from \"~~/utils/types\"\n\nconst client = useSupabaseClient()\nconst profile = useSubdomainProfile()\n\nconst { data, pending } = useAsyncData(\"posts\", async () => {\n  const { data, error } = await client\n    .from<Posts>(\"posts\")\n    .select(\"*, profiles!inner (username)\")\n    .eq(\"active\", true)\n    // @ts-ignore\n    .eq(\"profiles.id\", profile.value.id)\n    .order(\"created_at\", { ascending: false })\n\n  return data\n})\n\nuseCustomHead(computed(() => `${profile.value?.name}'s blog`))\n</script>\n\n<template>\n  <div class=\"my-20\">\n    <h1 class=\"text-4xl font-semibold\">{{ profile?.name }}'s posts</h1>\n    <div>\n      <ul v-if=\"data\">\n        <li class=\"my-4\" v-for=\"post in data\">\n          <PostCard subdomain v-if=\"post.id\" :post=\"post\"></PostCard>\n        </li>\n      </ul>\n      <Loader v-if=\"pending\"></Loader>\n    </div>\n    <!-- <aside></aside> -->\n  </div>\n</template>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGA,UAAA,SAAA;AACA,UAAA,UAAA;AAEA,UAAA,EAAA,MAAA,QAAA,IAAA,aAAA,SAAA,YAAA;AACE,YAAA,EAAA,MAAA,OAAA,MAAA,IAAA,MAAA,OAAA,KAAA,OAAA,EAAA,OAAA,8BAAA,EAAA,GAAA,UAAA,IAAA,EAAA,GAAA,eAAA,QAAA,MAAA,EAAA,EAAA,MAAA,cAAA,EAAA,WAAA,MAAA,CAAA;AAQA,aAAA;AAAA,IAAO,CAAA;AAGT,kBAAA,SAAA,MAAA;;AAAA,iBAAA,aAAA,UAAA,mBAAA;AAAA,KAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}