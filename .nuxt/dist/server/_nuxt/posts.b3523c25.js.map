{"version":3,"file":"posts.b3523c25.js","sources":["../../../../pages/posts.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport type { Posts, Tags } from \"~~/utils/types\"\n\nconst client = useSupabaseClient()\n\nconst { data, pending } = useAsyncData(\"posts\", async () => {\n  const { data } = await client\n    .from<Posts>(\"posts\")\n    .select(\"*, profiles(avatar_url, name,username, domains (url, active))\")\n    .eq(\"active\", true)\n    .order(\"created_at\", { ascending: false })\n\n  console.log(\"data\", data)\n  return data\n})\n\nconst { data: tags } = useAsyncData(\"tags\", async () => {\n  const { data } = await client.from<Tags>(\"tags_view\").select(\"*\")\n  return data\n})\n\nuseCustomHead(\"Explore all posts\")\n</script>\n\n<template>\n  <div class=\"my-12\">\n    <h1 class=\"text-4xl font-semibold\">Posts</h1>\n    <div class=\"flex flex-col-reverse md:flex-row\">\n      <div class=\"w-full\">\n        <div v-if=\"pending\">\n          <Loader></Loader>\n        </div>\n        <ul v-else>\n          <li class=\"my-4\" v-for=\"post in data\">\n            <PostCard :post=\"post\"></PostCard>\n          </li>\n        </ul>\n      </div>\n      <aside class=\"md:ml-6 md:w-60 mt-3 flex-shrink-0\">\n        <h5 class=\"text-xl font-medium\">Tags</h5>\n        <ul class=\"mt-4 p-4 bg-light-600 rounded-xl flex flex-col space-y-2\">\n          <li v-for=\"tag in tags\" class=\"flex justify-between items-center\">\n            <div class=\"text-sm\">{{ tag.name }}</div>\n            <div class=\"text-xs px-1 py-0.5 flex items-center bg-gray-200 font-medium rounded\">{{ tag.count }}</div>\n          </li>\n        </ul>\n      </aside>\n    </div>\n  </div>\n</template>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGA,UAAA,SAAA;AAEA,UAAA,EAAA,MAAA,QAAA,IAAA,aAAA,SAAA,YAAA;AACE,YAAA,EAAA,MAAA,UAAA,MAAA,OAAA,KAAA,OAAA,EAAA,OAAA,+DAAA,EAAA,GAAA,UAAA,IAAA,EAAA,MAAA,cAAA,EAAA,WAAA,MAAA,CAAA;AAMA,cAAA,IAAA,QAAA,KAAA;AACA,aAAA;AAAA,IAAO,CAAA;AAGT,UAAA,EAAA,MAAA,KAAA,IAAA,aAAA,QAAA,YAAA;AACE,YAAA,EAAA,MAAA,MAAA,IAAA,MAAA,OAAA,KAAA,WAAA,EAAA,OAAA,GAAA;AACA,aAAA;AAAA,IAAO,CAAA;AAGT,kBAAA,mBAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}