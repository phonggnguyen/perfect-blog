import{a as w,s as y,ar as b,a2 as c,o as i,e as f,h as l,w as u,ao as C,u as e,f as o,t as d,c as x,k as M,aA as $,m as N}from"./entry.0ed1f16f.js";import{_ as B}from"./Loader.8e5068ff.js";import{u as L}from"./asyncData.5a57e976.js";import{u as A}from"./url.4f75bb84.js";import{u as D}from"./head.a7a42377.js";import{b as H}from"./string-strip-html.esm.a7df65c9.js";import{c as T}from"./functions.7459b59c.js";import{f as U}from"./index.ed37edad.js";import"./Logo.a4eb98e7.js";import"./_plugin-vue_export-helper.a1a6add7.js";const V={key:0,class:"prose mx-auto w-full"},S={class:"not-prose flex items-center pt-8 pb-4"},q={class:"text-lg"},E={class:"text-sm text-gray-400"},I=["innerHTML"],R=o("hr",null,null,-1),j={class:"not-prose mt-2 flex items-center space-x-2"},z=o("div",{class:"i-mdi-twitter"},null,-1),F=o("div",{class:"i-mdi-facebook"},null,-1),G=o("div",{class:"i-mdi-linkedin"},null,-1),st=w({__name:"[slug]",setup(J){const h=y(),{params:_}=b(),v=A(),{data:t,pending:g}=L(`posts-${_.slug}`,async()=>{const{data:s}=await h.from("posts").select("*, profiles(avatar_url, name, username)").eq("slug",_.slug).single();return s});D(c(()=>{var s;return(s=t.value)==null?void 0:s.title}),c(()=>{var s,a,n,r;return(s=t.value)!=null&&s.body?(r=(n=H((a=t.value)==null?void 0:a.body))==null?void 0:n.result)==null?void 0:r.slice(0,160):void 0}),c(()=>{var s,a;return((s=t.value)==null?void 0:s.cover_img)===""?`${v}/og/${_.slug}`:(a=t.value)==null?void 0:a.cover_img}));const m=c(()=>T(t.value,!1));return(s,a)=>{const n=$,r=N,k=B;return i(),f("div",null,[l(C,{name:"fade",mode:"out-in"},{default:u(()=>{var p;return[!e(g)&&e(t)?(i(),f("article",V,[o("div",S,[l(n,{class:"w-12 h-12 rounded-full mr-4",src:e(t).profiles.avatar_url},null,8,["src"]),o("div",null,[o("h3",q,d((p=e(t).profiles)==null?void 0:p.name),1),o("h4",E,d(e(U)(new Date(e(t).created_at),"MMMM d")),1)])]),o("h1",null,d(e(t).title),1),e(t).cover_img?(i(),x(n,{key:0,src:e(t).cover_img,class:"my-8 w-full h-auto"},null,8,["src"])):M("",!0),o("div",{innerHTML:e(t).body},null,8,I),R,o("div",j,[l(r,{class:"px-1 text-2xl text-gray-300 focus:text-dark-300 hover:text-dark-300 transition",to:`https://twitter.com/intent/tweet?url=${e(m)}&text=Check%20out%20this%20new%20post`,target:"_blank"},{default:u(()=>[z]),_:1},8,["to"]),l(r,{class:"px-1 text-2xl text-gray-300 focus:text-dark-300 hover:text-dark-300 transition",to:`https://www.facebook.com/sharer/sharer.php?u=${e(m)}`,target:"_blank"},{default:u(()=>[F]),_:1},8,["to"]),l(r,{class:"px-1 text-2xl text-gray-300 focus:text-dark-300 hover:text-dark-300 transition",to:`https://www.linkedin.com/shareArticle?mini=true&url=${e(m)}`,target:"_blank"},{default:u(()=>[G]),_:1},8,["to"])])])):(i(),x(k,{key:1}))]}),_:1})])}}});export{st as default};
